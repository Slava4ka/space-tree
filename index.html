<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–∞–¥–∏–∞–ª—å–Ω–æ–µ –¥–µ—Ä–µ–≤–æ - Three.js</title>
</head>
<body>
    <div class="video-background">
        <video autoplay muted loop playsinline>
            <source src="media/background.mp4" type="video/mp4">
        </video>
    </div>
    
    <div class="zoom-controls">
        <button id="zoom-in" class="zoom-btn" title="–ü—Ä–∏–±–ª–∏–∑–∏—Ç—å">+</button>
        <button id="zoom-out" class="zoom-btn" title="–û—Ç–¥–∞–ª–∏—Ç—å">‚àí</button>
    </div>
    
    <div class="layout-controls">
        <div class="layout-controls-header">
            <span>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
            <button class="layout-toggle" title="–°–≤–µ—Ä–Ω—É—Ç—å/–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å">‚àí</button>
        </div>
        <div class="layout-row">
            <label for="spacing-factor">–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ø–æ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏</label>
            <input type="range" id="spacing-factor" min="1" max="2" step="0.1" value="1.4">
            <span id="spacing-value">1.4</span>
        </div>
        <div class="layout-row">
            <label for="level-margin-factor">–†–∞–¥–∏–∞–ª—å–Ω—ã–π –∑–∞–∑–æ—Ä</label>
            <input type="range" id="level-margin-factor" min="0.0" max="2.0" step="0.1" value="0.6">
            <span id="level-margin-value">0.6</span>
        </div>
        <div class="layout-row">
            <label for="graph-rotation-x">–í—Ä–∞—â–µ–Ω–∏–µ –ø–æ X</label>
            <input type="range" id="graph-rotation-x" min="-180" max="180" step="1" value="0">
            <span id="graph-rotation-x-value">0</span>
        </div>
        <div class="layout-row">
            <label for="graph-rotation-y">–í—Ä–∞—â–µ–Ω–∏–µ –ø–æ Y</label>
            <input type="range" id="graph-rotation-y" min="-180" max="180" step="1" value="0">
            <span id="graph-rotation-y-value">0</span>
        </div>
        <div class="layout-row">
            <label for="graph-rotation-z">–í—Ä–∞—â–µ–Ω–∏–µ –ø–æ Z</label>
            <input type="range" id="graph-rotation-z" min="-180" max="180" step="1" value="15">
            <span id="graph-rotation-z-value">15</span>
        </div>
        <div class="layout-row">
            <label for="firefly-size">–†–∞–∑–º–µ—Ä —Å–≤–µ—Ç–ª—è—á–∫–æ–≤</label>
            <input type="range" id="firefly-size" min="5" max="50" step="1" value="20">
            <span id="firefly-size-value">20</span>
        </div>
        <div class="layout-row">
            <label for="firefly-radius">–°–º–µ—â–µ–Ω–∏–µ –æ—Ä–±–∏—Ç—ã —Å–≤–µ—Ç–ª—è—á–∫–æ–≤</label>
            <input type="range" id="firefly-radius" min="0" max="300" step="5" value="65">
            <span id="firefly-radius-value">65</span>
        </div>
        <div class="layout-row">
            <label for="firefly-speed">–°–∫–æ—Ä–æ—Å—Ç—å –≤—Ä–∞—â–µ–Ω–∏—è —Å–≤–µ—Ç–ª—è—á–∫–æ–≤</label>
            <input type="range" id="firefly-speed" min="0.1" max="5" step="0.1" value="1">
            <span id="firefly-speed-value">1</span>
        </div>
        <div class="layout-row">
            <label for="detail-mode-size">–†–∞–∑–º–µ—Ä —É–∑–ª–∞ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (%)</label>
            <input type="range" id="detail-mode-size" min="10" max="80" step="1" value="30">
            <span id="detail-mode-size-value">30</span>
        </div>
        <div class="layout-row">
            <label for="root-radius">–†–∞–∑–º–µ—Ä –∫–æ—Ä–Ω–µ–≤—ã—Ö —É–∑–ª–æ–≤</label>
            <input type="range" id="root-radius" min="100" max="3000" step="10" value="225">
            <span id="root-radius-value">225</span>
        </div>
        <div class="layout-row">
            <label for="node-radius">–†–∞–∑–º–µ—Ä –æ–±—ã—á–Ω—ã—Ö —É–∑–ª–æ–≤</label>
            <input type="range" id="node-radius" min="10" max="3000" step="10" value="135">
            <span id="node-radius-value">135</span>
        </div>
        <div class="layout-row">
            <label for="root-text-size">–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –∫–æ—Ä–Ω–µ–≤—ã—Ö —É–∑–ª–æ–≤</label>
            <input type="range" id="root-text-size" min="20" max="200" step="2" value="84">
            <span id="root-text-size-value">84</span>
        </div>
        <div class="layout-row">
            <label for="node-text-size">–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –æ–±—ã—á–Ω—ã—Ö —É–∑–ª–æ–≤</label>
            <input type="range" id="node-text-size" min="10" max="150" step="2" value="42">
            <span id="node-text-size-value">42</span>
        </div>
    </div>
    
    <!-- –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="loading-screen" style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #000011 0%, #001122 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        color: white;
        font-family: Arial, sans-serif;
    ">
        <div style="font-size: 48px; margin-bottom: 20px;">üåå</div>
        <div style="font-size: 16px; opacity: 0.7;">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏...</div>
        <div id="loading-progress" style="
            width: 300px;
            height: 4px;
            background: rgba(255,255,255,0.2);
            border-radius: 2px;
            margin-top: 30px;
            overflow: hidden;
        ">
            <div id="loading-bar" style="
                width: 0%;
                height: 100%;
                background: linear-gradient(90deg, #00bfff, #0088ff);
                border-radius: 2px;
                transition: width 0.3s ease;
            "></div>
        </div>
    </div>

    <canvas id="scene-canvas" style="display: none;"></canvas>
</body>
</html>
