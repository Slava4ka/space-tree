(()=>{"use strict";var t,e,i,a,r={524:function(t,e,i){var a=i(437);class r{constructor(t,e=null,i=0){this.id=t,this.parent=e,this.children=[],this.level=i,this.position=new a.Pq0(0,0,0),this.angle=0,this.text=""}}let d=[{id:1,parentId:null,text:"Трансформация миропорядка"},{id:2,parentId:1,text:"Создание суверенной национальной платежной системы"},{id:3,parentId:2,text:"Процессинг платежных карт национального стандарта"},{id:4,parentId:2,text:"Технологии быстрых платежей (СБП)"},{id:5,parentId:2,text:"Блокчейн для финансовых транзакций"},{id:6,parentId:2,text:"Цифровой рубль (CBDC)"},{id:7,parentId:2,text:"Кибербезопасность финансовых систем"},{id:8,parentId:2,text:"Квантово-устойчивая криптография"},{id:9,parentId:2,text:"Биометрическая аутентификация платежей"},{id:10,parentId:2,text:"Антифрод системы с ИИ"},{id:11,parentId:2,text:"Open Banking API"},{id:12,parentId:2,text:"Альтернативные расчетные системы"},{id:13,parentId:1,text:"Развитие национального фондового рынка"},{id:14,parentId:13,text:"Высокочастотный трейдинг (HFT)"},{id:15,parentId:13,text:"Биржевые торговые платформы"},{id:16,parentId:13,text:"Клиринг и расчеты по ценным бумагам"},{id:17,parentId:13,text:"Токенизация активов"},{id:18,parentId:13,text:"Робо-эдвайзинг для инвесторов"},{id:19,parentId:13,text:"Маркет-мейкинг и управление ликвидностью"},{id:20,parentId:13,text:"Риск-менеджмент на фондовом рынке"},{id:21,parentId:13,text:"ESG-рейтингование компаний"},{id:22,parentId:13,text:"Противодействие инсайдерской торговле"},{id:23,parentId:13,text:"Краудфандинг и краудинвестинг"},{id:24,parentId:1,text:"Создание международных финансовых платформ с участием РФ"},{id:25,parentId:24,text:"Трансграничные платежи в национальных валютах"},{id:26,parentId:24,text:"Многосторонние клиринговые системы"},{id:27,parentId:24,text:"Единая цифровая валюта союзных государств"},{id:28,parentId:24,text:"Комплаенс международных санкций"},{id:29,parentId:24,text:"Валютные свопы между центробанками"},{id:30,parentId:24,text:"Финансовый мессенджинг (альтернатива SWIFT)"},{id:31,parentId:24,text:"Торговое финансирование (аккредитивы)"},{id:32,parentId:24,text:"Золотой стандарт и обеспеченные валюты"},{id:33,parentId:24,text:"Распределенные финансы (DeFi) для B2B"},{id:34,parentId:24,text:"Корреспондентские отношения нового поколения"},{id:35,parentId:1,text:"Развитие цифрового банкинга и финтех-сервисов"},{id:36,parentId:35,text:"Необанки и цифровые банки"},{id:37,parentId:35,text:"P2P-кредитование"},{id:38,parentId:35,text:"Цифровые кошельки и мобильный банкинг"},{id:39,parentId:35,text:"Regtech (автоматизация регуляторных требований)"},{id:40,parentId:35,text:"Insurtech (цифровое страхование)"},{id:41,parentId:35,text:"Скоринг на основе альтернативных данных"},{id:42,parentId:35,text:"Голосовые ассистенты для банковских операций"},{id:43,parentId:35,text:"Микрофинансирование на блокчейн"},{id:44,parentId:35,text:"Сервисы Buy Now Pay Later (BNPL)"},{id:45,parentId:35,text:"Банкинг как услуга (BaaS)"},{id:46,parentId:1,text:"Противодействие финансовым санкциям"},{id:47,parentId:46,text:"Системы мониторинга санкционных списков"},{id:48,parentId:46,text:"Альтернативные каналы международных переводов"},{id:49,parentId:46,text:"Криптовалюты для трансграничных расчетов"},{id:50,parentId:46,text:"Бартерные и товарообменные механизмы"},{id:51,parentId:46,text:"Офшорные финансовые центры в дружественных юрисдикциях"},{id:52,parentId:46,text:"Системы конфиденциальных транзакций"},{id:53,parentId:46,text:"Юридическое структурирование для обхода санкций"},{id:54,parentId:46,text:"Резервные каналы доступа к SWIFT"},{id:55,parentId:46,text:"Параллельный импорт финансовых сервисов"},{id:56,parentId:46,text:"Хеджирование санкционных рисков"},{id:57,parentId:1,text:"Создание национальных кредитных рейтинговых агентств"},{id:58,parentId:57,text:"Методологии кредитного рейтингования суверенов"},{id:59,parentId:57,text:"Рейтингование корпоративных эмитентов"},{id:60,parentId:57,text:"Альтернативные модели оценки кредитоспособности"},{id:61,parentId:57,text:"Использование машинного обучения в рейтинговании"},{id:62,parentId:57,text:"Рейтингование устойчивого развития (ESG)"},{id:63,parentId:57,text:"Признание национальных рейтингов на международном уровне"},{id:64,parentId:57,text:"Прозрачность рейтинговых методик"},{id:65,parentId:57,text:"Рейтингование финансовых инструментов"},{id:66,parentId:57,text:"Секторальные рейтинговые модели"},{id:67,parentId:57,text:"Независимость рейтинговых агентств от политического давления"},{id:68,parentId:1,text:"Развитие международных транспортных коридоров"},{id:69,parentId:68,text:"Мультимодальные перевозки"},{id:70,parentId:68,text:"Цифровой документооборот в логистике"},{id:71,parentId:68,text:"Track & Trace грузов в реальном времени"},{id:72,parentId:68,text:"Таможенное оформление на основе ИИ"},{id:73,parentId:68,text:"Портовые терминалы-хабы"},{id:74,parentId:68,text:"Холодная логистическая цепь"},{id:75,parentId:68,text:"Блокчейн в международной логистике"},{id:76,parentId:68,text:"Единое окно для участников ВЭД"},{id:77,parentId:68,text:"Оптимизация маршрутов с учетом геополитических рисков"},{id:78,parentId:68,text:"Страхование логистических рисков"},{id:79,parentId:1,text:"Создание отечественной контейнерной инфраструктуры"},{id:80,parentId:79,text:"Производство контейнеров ISO-стандартов"},{id:81,parentId:79,text:"Контейнеровозы нового поколения"},{id:82,parentId:79,text:"СПГ-танкеры ледового класса"},{id:83,parentId:79,text:"Автоматизированные склады-терминалы"},{id:84,parentId:79,text:"Портовые краны-перегружатели"},{id:85,parentId:79,text:"Беспилотные грузовые суда"},{id:86,parentId:79,text:"Судовые двигатели на альтернативном топливе"},{id:87,parentId:79,text:"Очистка балластных вод"},{id:88,parentId:79,text:"Ледокольный флот для Севморпути"},{id:89,parentId:79,text:"Навигация и связь для арктического судоходства"},{id:90,parentId:1,text:"Развитие железнодорожного транзита"},{id:91,parentId:90,text:"Системы управления железнодорожным транзитом"},{id:92,parentId:90,text:"Грузовые вагоны нового поколения"},{id:93,parentId:90,text:"Локомотивы с высокой топливной эффективностью"},{id:94,parentId:90,text:"Автоматизированная сортировка на станциях"},{id:95,parentId:90,text:"Электронные накладные и ЭДО на ж/д транспорте"},{id:96,parentId:90,text:"Системы предупреждения сходов и аварий"},{id:97,parentId:90,text:"Контейнерные поезда с фиксированным расписанием"},{id:98,parentId:90,text:"Пограничные переходы с единой шириной колеи"},{id:99,parentId:90,text:"Системы слежения за вагонами"},{id:100,parentId:90,text:"Интермодальные терминалы ж/д-авто"},{id:101,parentId:1,text:"Создание складской и дистрибуционной инфраструктуры"},{id:102,parentId:101,text:"Автоматизированные системы складирования (AS/RS)"},{id:103,parentId:101,text:"Роботизированная комплектация заказов"},{id:104,parentId:101,text:"WMS системы управления складом"},{id:105,parentId:101,text:"Системы адресного хранения"},{id:106,parentId:101,text:"Кросс-докинг терминалы"},{id:107,parentId:101,text:"Температурные зоны и камеры"},{id:108,parentId:101,text:"RFID и штрихкодирование товаров"},{id:109,parentId:101,text:"Дроны для инвентаризации склада"},{id:110,parentId:101,text:"Предиктивная аналитика спроса"},{id:111,parentId:101,text:"Темные склады (dark stores) для e-commerce"},{id:112,parentId:1,text:"Импортозамещение критически важных компонентов"},{id:113,parentId:112,text:"Микроэлектроника (28-90 нм)"},{id:114,parentId:112,text:"Композитные материалы"},{id:115,parentId:112,text:"Редкоземельные металлы"},{id:116,parentId:112,text:"Станкостроение с ЧПУ"},{id:117,parentId:112,text:"Промышленные роботы"},{id:118,parentId:112,text:"Подшипники особо точных классов"},{id:119,parentId:112,text:"Спецстали и сплавы"},{id:120,parentId:112,text:"Промышленные катализаторы"},{id:121,parentId:112,text:"Силовая электроника"},{id:122,parentId:112,text:"Промышленное ПО и ERP-системы"},{id:123,parentId:1,text:"Развитие аддитивных технологий"},{id:124,parentId:123,text:"3D-печать металлами (SLM, EBM)"},{id:125,parentId:123,text:"3D-печать полимерами"},{id:126,parentId:123,text:"3D-печать керамикой"},{id:127,parentId:123,text:"Гибридное производство"},{id:128,parentId:123,text:"Цифровые двойники производства"},{id:129,parentId:123,text:"Индустрия 4.0 (IIoT)"},{id:130,parentId:123,text:"Роботизированные производственные ячейки"},{id:131,parentId:123,text:"Предиктивное обслуживание оборудования"},{id:132,parentId:123,text:"Кастомизированное массовое производство"},{id:133,parentId:123,text:"Распределенное производство"},{id:134,parentId:1,text:"Локализация производства электроники"},{id:135,parentId:134,text:"Производство печатных плат"},{id:136,parentId:134,text:"Сборка электронных модулей"},{id:137,parentId:134,text:"Производство пассивных компонентов"},{id:138,parentId:134,text:"Корпусирование микросхем"},{id:139,parentId:134,text:"Тестирование электронных изделий"},{id:140,parentId:134,text:"Производство дисплеев"},{id:141,parentId:134,text:"Производство аккумуляторов"},{id:142,parentId:134,text:"Микроконтроллеры и DSP"},{id:143,parentId:134,text:"Датчики и сенсоры"},{id:144,parentId:134,text:"Силовые полупроводники"},{id:145,parentId:1,text:"Создание промышленных кластеров и ОЭЗ"},{id:146,parentId:145,text:"Цифровые платформы управления кластерами"},{id:147,parentId:145,text:"Общая инфраструктура для резидентов"},{id:148,parentId:145,text:"Системы налогового администрирования ОЭЗ"},{id:149,parentId:145,text:"Технопарки и бизнес-инкубаторы"},{id:150,parentId:145,text:"Центры коллективного пользования оборудованием"},{id:151,parentId:145,text:"Системы трансфера технологий"},{id:152,parentId:145,text:"Управление промышленными данными кластера"},{id:153,parentId:145,text:"Совместные закупки и снабжение"},{id:154,parentId:145,text:"Кооперация между крупным и малым бизнесом"},{id:155,parentId:145,text:"Экспортное продвижение продукции кластера"},{id:156,parentId:1,text:"Создание систем мониторинга геополитических рисков"},{id:157,parentId:156,text:"Анализ больших данных из открытых источников (OSINT)"},{id:158,parentId:156,text:"ИИ для прогнозирования конфликтов"},{id:159,parentId:156,text:"Геополитические симуляторы и модели"},{id:160,parentId:156,text:"Системы раннего предупреждения о кризисах"},{id:161,parentId:156,text:"Мониторинг социальных сетей на предмет угроз"},{id:162,parentId:156,text:"Картографирование зон конфликтов"},{id:163,parentId:156,text:"Оценка влияния санкций на экономику"},{id:164,parentId:156,text:"Системы сценарного планирования"},{id:165,parentId:156,text:"Междисциплинарные центры геополитического анализа"},{id:166,parentId:156,text:"Интеграция данных разведки и аналитики"},{id:167,parentId:1,text:"Обеспечение стратегической автономии в критических отраслях"},{id:168,parentId:167,text:"Резервирование критической инфраструктуры"},{id:169,parentId:167,text:"Диверсификация цепочек поставок"},{id:170,parentId:167,text:"Создание стратегических запасов"},{id:171,parentId:167,text:"Дублирование производственных мощностей"},{id:172,parentId:167,text:"Системы быстрой мобилизации экономики"},{id:173,parentId:167,text:"Планы непрерывности бизнеса (BCP)"},{id:174,parentId:167,text:"Тестирование устойчивости к шокам"},{id:175,parentId:167,text:"Региональная локализация производства"},{id:176,parentId:167,text:"Создание параллельных технологических стандартов"},{id:177,parentId:167,text:"Защита от экономического принуждения"},{id:178,parentId:1,text:"Создание систем противодействия экономическим кризисам"},{id:179,parentId:178,text:"Макроэкономическое моделирование и прогнозирование"},{id:180,parentId:178,text:"Системы стресс-тестирования банковского сектора"},{id:181,parentId:178,text:"Раннее выявление финансовых пузырей"},{id:182,parentId:178,text:"Антициклическое регулирование экономики"},{id:183,parentId:178,text:"Стабилизационные фонды и резервы"},{id:184,parentId:178,text:"Системы поддержки занятости при кризисах"},{id:185,parentId:178,text:"Механизмы защиты вкладчиков"},{id:186,parentId:178,text:"Программы поддержки малого и среднего бизнеса"},{id:187,parentId:178,text:"Системы валютного контроля"},{id:188,parentId:178,text:"Координация денежно-кредитной и фискальной политики"},{id:189,parentId:1,text:"Развитие внутреннего потребительского рынка"},{id:190,parentId:189,text:"Стимулирование потребительского спроса"},{id:191,parentId:189,text:"Развитие потребительского кредитования"},{id:192,parentId:189,text:"Защита прав потребителей"},{id:193,parentId:189,text:"Борьба с недобросовестной конкуренцией"},{id:194,parentId:189,text:"Системы контроля качества товаров"},{id:195,parentId:189,text:"Развитие e-commerce"},{id:196,parentId:189,text:"Цифровизация торговли"},{id:197,parentId:189,text:"Программы лояльности и кэшбэка"},{id:198,parentId:189,text:"Онлайн-маркетплейсы"},{id:199,parentId:189,text:"Поддержка отечественных производителей"},{id:200,parentId:1,text:"Создание национальных чемпионов в ключевых отраслях"},{id:201,parentId:200,text:"Слияния и поглощения компаний"},{id:202,parentId:200,text:"Государственно-частное партнерство"},{id:203,parentId:200,text:"Венчурное финансирование прорывных технологий"},{id:204,parentId:200,text:"Налоговые льготы для инновационных компаний"},{id:205,parentId:200,text:"Экспортная поддержка отечественных компаний"},{id:206,parentId:200,text:"Защита от недружественных поглощений"},{id:207,parentId:200,text:"Создание вертикально интегрированных холдингов"},{id:208,parentId:200,text:"Технологические альянсы и консорциумы"},{id:209,parentId:200,text:"Программы повышения производительности труда"},{id:210,parentId:200,text:"Бенчмаркинг с мировыми лидерами"},{id:211,parentId:1,text:"Развитие экспортного потенциала несырьевых отраслей"},{id:212,parentId:211,text:'Продвижение бренда "Сделано в России"'},{id:213,parentId:211,text:"Участие в международных выставках"},{id:214,parentId:211,text:"Сертификация продукции по международным стандартам"},{id:215,parentId:211,text:"Создание совместных предприятий за рубежом"},{id:216,parentId:211,text:"Локализация производства на экспортных рынках"},{id:217,parentId:211,text:"Торговые представительства и офисы"},{id:218,parentId:211,text:"Логистические хабы в странах-партнерах"},{id:219,parentId:211,text:"Преференциальные торговые соглашения"},{id:220,parentId:211,text:"Страхование экспортных кредитов"},{id:221,parentId:211,text:"Цифровой маркетинг на внешних рынках"},{id:222,parentId:1,text:"Создание систем социальной поддержки и инклюзии"},{id:223,parentId:222,text:"Цифровые платформы социальных выплат"},{id:224,parentId:222,text:"Адресная социальная помощь на основе данных"},{id:225,parentId:222,text:"Системы оценки нуждаемости"},{id:226,parentId:222,text:"Социальные контракты и активация граждан"},{id:227,parentId:222,text:"Реабилитация и интеграция людей с ОВЗ"},{id:228,parentId:222,text:"Программы занятости для уязвимых групп"},{id:229,parentId:222,text:"Доступное жилье и ипотека"},{id:230,parentId:222,text:"Бесплатное образование и переподготовка"},{id:231,parentId:222,text:"Универсальные социальные сервисы"},{id:232,parentId:222,text:"Мониторинг уровня бедности и неравенства"},{id:233,parentId:1,text:"Сокращение цифрового неравенства"},{id:234,parentId:233,text:"Обеспечение широкополосным интернетом удаленных территорий"},{id:235,parentId:233,text:"Субсидирование интернет-доступа для малоимущих"},{id:236,parentId:233,text:"Программы цифровой грамотности"},{id:237,parentId:233,text:"Доступные устройства для образования"},{id:238,parentId:233,text:"Электронные госуслуги для всех категорий граждан"},{id:239,parentId:233,text:"Многофункциональные центры (МФЦ)"},{id:240,parentId:233,text:"Адаптация интерфейсов для людей с ограничениями"},{id:241,parentId:233,text:"Общественные точки доступа в интернет"},{id:242,parentId:233,text:"Цифровые волонтеры и наставники"},{id:243,parentId:233,text:"Киберграмотность и безопасность в сети"},{id:244,parentId:1,text:"Цифровизация государственного управления"},{id:245,parentId:244,text:"Единая платформа электронного правительства"},{id:246,parentId:244,text:"Межведомственный электронный документооборот"},{id:247,parentId:244,text:"Суперсервисы для граждан и бизнеса"},{id:248,parentId:244,text:"Проактивное предоставление госуслуг"},{id:249,parentId:244,text:"ИИ в принятии управленческих решений"},{id:250,parentId:244,text:"Блокчейн для государственных реестров"},{id:251,parentId:244,text:"Цифровые профили граждан и организаций"},{id:252,parentId:244,text:"Электронное голосование и референдумы"},{id:253,parentId:244,text:"Открытые данные государства (Open Data)"},{id:254,parentId:244,text:"Системы противодействия коррупции"},{id:255,parentId:1,text:"Повышение эффективности государственного аппарата"},{id:256,parentId:255,text:"Системы управления эффективностью (KPI)"},{id:257,parentId:255,text:"Электронные закупки и торги"},{id:258,parentId:255,text:"Бюджетирование, ориентированное на результат"},{id:259,parentId:255,text:"Аудит и контроль расходования бюджета"},{id:260,parentId:255,text:"Профессиональная подготовка госслужащих"},{id:261,parentId:255,text:"Системы управления проектами в госсекторе"},{id:262,parentId:255,text:"Регуляторная гильотина и дерегулирование"},{id:263,parentId:255,text:"Оценка регулирующего воздействия (ОРВ)"},{id:264,parentId:255,text:"Механизмы обратной связи с гражданами"},{id:265,parentId:255,text:"Краудсорсинг и вовлечение общества в управление"},{id:266,parentId:1,text:"Развитие научного сотрудничества с дружественными странами"},{id:267,parentId:266,text:"Совместные исследовательские центры"},{id:268,parentId:266,text:"Программы академической мобильности"},{id:269,parentId:266,text:"Мегасайенс проекты (ITER, коллайдеры)"},{id:270,parentId:266,text:"Сетевые университеты и лаборатории"},{id:271,parentId:266,text:"Совместные публикации и исследования"},{id:272,parentId:266,text:"Обмен научными данными и образцами"},{id:273,parentId:266,text:"Виртуальные исследовательские среды"},{id:274,parentId:266,text:"Признание дипломов и квалификаций"},{id:275,parentId:266,text:"Финансирование совместных грантов"},{id:276,parentId:266,text:"Научная дипломатия"},{id:277,parentId:1,text:"Создание альтернативных международных научных платформ"},{id:278,parentId:277,text:"Научные конференции и форумы в РФ"},{id:279,parentId:277,text:"Альтернативные системы индексирования публикаций"},{id:280,parentId:277,text:"Независимые базы научных данных"},{id:281,parentId:277,text:"Научные журналы на русском и английском"},{id:282,parentId:277,text:"Рецензирование и экспертиза вне западных систем"},{id:283,parentId:277,text:"Открытый доступ к научным публикациям"},{id:284,parentId:277,text:"Международные научные премии и награды"},{id:285,parentId:277,text:"Цифровые архивы научного наследия"},{id:286,parentId:277,text:"Системы защиты научной интеллектуальной собственности"},{id:287,parentId:277,text:"Альтернативные патентные системы"},{id:288,parentId:null,text:"Исчерпание возможностей экономического роста России"},{id:289,parentId:288,text:"Переход к глубокой переработке сырья"},{id:290,parentId:289,text:"Технологии переработки тяжелой нефти"},{id:291,parentId:289,text:"Газохимия и производство полимеров"},{id:292,parentId:289,text:"Пиролиз и термокрекинг"},{id:293,parentId:289,text:"Производство СПГ"},{id:294,parentId:289,text:"Переработка попутного нефтяного газа"},{id:295,parentId:289,text:"Каталитический крекинг"},{id:296,parentId:289,text:"Гидрокрекинг и гидроочистка"},{id:297,parentId:289,text:"Производство нефтехимических полупродуктов"},{id:298,parentId:289,text:"Ароматизация и риформинг"},{id:299,parentId:289,text:"Производство битума и дорожных материалов"},{id:300,parentId:288,text:"Развитие циркулярной экономики"},{id:301,parentId:300,text:"Переработка отходов и рециклинг"},{id:302,parentId:300,text:"Вторичное использование материалов"},{id:303,parentId:300,text:"Промышленный симбиоз"},{id:304,parentId:300,text:"Биодеградируемые материалы"},{id:305,parentId:300,text:"Замкнутый цикл производства"},{id:306,parentId:300,text:"Апсайклинг и переработка пластика"},{id:307,parentId:300,text:"Рециклинг электронных отходов"},{id:308,parentId:300,text:"Повторное использование стройматериалов"},{id:309,parentId:300,text:"Переработка текстильных отходов"},{id:310,parentId:300,text:"Восстановление редкоземельных металлов"},{id:311,parentId:288,text:"Развитие добычи трудноизвлекаемых запасов"},{id:312,parentId:311,text:"Горизонтальное бурение"},{id:313,parentId:311,text:"Многостадийный гидроразрыв пласта (ГРП)"},{id:314,parentId:311,text:"Добыча сланцевой нефти"},{id:315,parentId:311,text:"Разработка глубоководных месторождений"},{id:316,parentId:311,text:"Методы повышения нефтеотдачи (МУН)"},{id:317,parentId:311,text:"Паротепловое воздействие на пласт"},{id:318,parentId:311,text:"Полимерное заводнение"},{id:319,parentId:311,text:"Технологии добычи метангидратов"},{id:320,parentId:288,text:"Геологоразведка новых месторождений"},{id:321,parentId:320,text:"Сейсморазведка 3D и 4D"},{id:322,parentId:320,text:"Аэромагнитная съемка"},{id:323,parentId:320,text:"Гравиметрическая разведка"},{id:324,parentId:320,text:"Электроразведка"},{id:325,parentId:320,text:"Геохимические методы поиска"},{id:326,parentId:320,text:"Спутниковая геология и ДЗЗ"},{id:327,parentId:320,text:"Цифровые геологические модели"},{id:328,parentId:320,text:"Искусственный интеллект в геологоразведке"},{id:329,parentId:288,text:"Создание центров обработки больших данных"},{id:330,parentId:329,text:"Суперкомпьютеры и ЦОДы"},{id:331,parentId:329,text:"Технологии Big Data аналитики"},{id:332,parentId:329,text:"Облачные вычисления"},{id:333,parentId:329,text:"Распределенные базы данных"},{id:334,parentId:329,text:"Data Lakes и хранилища"},{id:335,parentId:329,text:"Распределенные файловые системы (HDFS)"},{id:336,parentId:329,text:"MapReduce и Spark обработка"},{id:337,parentId:329,text:"Потоковая обработка данных (Kafka, Flink)"},{id:338,parentId:329,text:"Системы управления метаданными"},{id:339,parentId:288,text:"Монетизация данных и цифровые платформы"},{id:340,parentId:339,text:"API экономика"},{id:341,parentId:339,text:"Маркетплейсы данных"},{id:342,parentId:339,text:"Персонализация на основе данных"},{id:343,parentId:339,text:"Рекомендательные системы"},{id:344,parentId:339,text:"Цифровые экосистемы"},{id:345,parentId:339,text:"Data-as-a-Service (DaaS) платформы"},{id:346,parentId:339,text:"Монетизация IoT данных"},{id:347,parentId:339,text:"Бизнес-аналитика и BI-системы"},{id:348,parentId:339,text:"Цифровые двойники предприятий"},{id:349,parentId:288,text:"Защита и управление данными"},{id:350,parentId:349,text:"Шифрование данных"},{id:351,parentId:349,text:"Анонимизация персональных данных"},{id:352,parentId:349,text:"Блокчейн для хранения данных"},{id:353,parentId:349,text:"Системы контроля доступа к данным"},{id:354,parentId:349,text:"Data Governance платформы"},{id:355,parentId:349,text:"Аудит использования данных"},{id:356,parentId:349,text:"Резервное копирование и восстановление"},{id:357,parentId:349,text:"Защита от утечек данных (DLP)"},{id:358,parentId:288,text:"Развитие цифровых платформ и экосистем"},{id:359,parentId:358,text:"Мультисторонние платформы (маркетплейсы)"},{id:360,parentId:358,text:"Платформы sharing economy"},{id:361,parentId:358,text:"Системы онлайн-бронирования"},{id:362,parentId:358,text:"Агрегаторы услуг"},{id:363,parentId:358,text:"Цифровые финансовые экосистемы"},{id:364,parentId:358,text:"Платформы промышленного интернета (IIoT)"},{id:365,parentId:358,text:"Open Banking платформы"},{id:366,parentId:358,text:"Супераппы и мини-приложения"},{id:367,parentId:288,text:"Создание российских систем ИИ"},{id:368,parentId:367,text:"Машинное обучение и нейросети"},{id:369,parentId:367,text:"Компьютерное зрение"},{id:370,parentId:367,text:"Обработка естественного языка (NLP)"},{id:371,parentId:367,text:"Большие языковые модели (LLM)"},{id:372,parentId:367,text:"Генеративный ИИ"},{id:373,parentId:367,text:"Распознавание и синтез речи"},{id:374,parentId:367,text:"Обучение с подкреплением (Reinforcement Learning)"},{id:375,parentId:367,text:"Федеративное обучение"},{id:376,parentId:367,text:"Transfer Learning и Meta-Learning"},{id:377,parentId:288,text:"Внедрение ИИ в отрасли экономики"},{id:378,parentId:377,text:"ИИ в медицине (диагностика)"},{id:379,parentId:377,text:"ИИ в промышленности (предиктивная аналитика)"},{id:380,parentId:377,text:"ИИ в сельском хозяйстве"},{id:381,parentId:377,text:"ИИ в транспорте (автопилоты)"},{id:382,parentId:377,text:"ИИ в госуправлении"},{id:383,parentId:377,text:"ИИ в финансах (кредитный скоринг)"},{id:384,parentId:377,text:"ИИ в ритейле (оптимизация товарных запасов)"},{id:385,parentId:377,text:"ИИ в энергетике (управление сетями)"},{id:386,parentId:377,text:"ИИ в образовании (адаптивное обучение)"},{id:387,parentId:288,text:"Инфраструктура для ИИ"},{id:388,parentId:387,text:"Специализированные процессоры для ИИ (GPU, TPU)"},{id:389,parentId:387,text:"MLOps платформы"},{id:390,parentId:387,text:"Фреймворки машинного обучения"},{id:391,parentId:387,text:"Системы версионирования моделей"},{id:392,parentId:387,text:"AutoML системы"},{id:393,parentId:387,text:"Распределенное обучение моделей"},{id:394,parentId:387,text:"Облачные платформы для ИИ"},{id:395,parentId:387,text:"Аннотирование и разметка данных"},{id:396,parentId:288,text:"Этика и безопасность ИИ"},{id:397,parentId:396,text:"Объяснимый ИИ (XAI)"},{id:398,parentId:396,text:"Обнаружение предвзятости в моделях"},{id:399,parentId:396,text:"Защита моделей от атак"},{id:400,parentId:396,text:"Дифференциальная приватность"},{id:401,parentId:396,text:"Аудит алгоритмов ИИ"},{id:402,parentId:396,text:"Watermarking моделей"},{id:403,parentId:396,text:"Детектирование синтетического контента"},{id:404,parentId:396,text:"AI Safety системы"},{id:405,parentId:288,text:"Обеспечение технологического суверенитета"},{id:406,parentId:405,text:"Импортозамещение критических технологий"},{id:407,parentId:405,text:"Создание национальных стандартов"},{id:408,parentId:405,text:"Защита интеллектуальной собственности"},{id:409,parentId:405,text:"Экспортный контроль технологий"},{id:410,parentId:405,text:"Технологические альянсы с дружественными странами"},{id:411,parentId:405,text:"Отечественная микроэлектроника"},{id:412,parentId:405,text:"Российское ПО и операционные системы"},{id:413,parentId:405,text:"Собственные телекоммуникационные стандарты"},{id:414,parentId:405,text:"Национальные патентные базы"},{id:415,parentId:288,text:"Развитие НИОКР и инноваций"},{id:416,parentId:415,text:"Технопарки и инновационные кластеры"},{id:417,parentId:415,text:"Венчурное финансирование стартапов"},{id:418,parentId:415,text:"Государственно-частное партнерство в НИОКР"},{id:419,parentId:415,text:"Центры коллективного пользования оборудованием"},{id:420,parentId:415,text:"Система грантов и субсидий на инновации"},{id:421,parentId:415,text:"Технологические долины и особые экономические зоны"},{id:422,parentId:415,text:"Акселераторы и инкубаторы"},{id:423,parentId:415,text:"Открытые инновационные платформы"},{id:424,parentId:288,text:"Развитие человеческого капитала"},{id:425,parentId:424,text:"Программы подготовки инженерных кадров"},{id:426,parentId:424,text:"Онлайн-платформы для обучения"},{id:427,parentId:424,text:"Переквалификация и непрерывное образование"},{id:428,parentId:424,text:"Стипендии и гранты для ученых"},{id:429,parentId:424,text:"Программы возвращения специалистов"},{id:430,parentId:424,text:"Системы оценки компетенций"},{id:431,parentId:424,text:"Центры развития талантов"},{id:432,parentId:424,text:"Корпоративные университеты"},{id:433,parentId:288,text:"Участие в глобальных технологических проектах"},{id:434,parentId:433,text:"Международные научные коллаборации"},{id:435,parentId:433,text:"Совместные космические проекты"},{id:436,parentId:433,text:"Участие в ИТЭР (термоядерный реактор)"},{id:437,parentId:433,text:"БРИКС технологические инициативы"},{id:438,parentId:433,text:"ШОС научно-технические программы"},{id:439,parentId:433,text:"Международные технологические консорциумы"},{id:440,parentId:433,text:"Трансфер технологий с партнерами"},{id:441,parentId:433,text:"Совместные R&D центры"},{id:442,parentId:288,text:"Развитие альтернативной энергетики"},{id:443,parentId:442,text:"Солнечная энергетика"},{id:444,parentId:442,text:"Ветроэнергетика"},{id:445,parentId:442,text:"Гидроэнергетика малых рек"},{id:446,parentId:442,text:"Геотермальная энергетика"},{id:447,parentId:442,text:"Водородная энергетика"},{id:448,parentId:442,text:"Биотопливо и биогаз"},{id:449,parentId:442,text:"Приливная энергетика"},{id:450,parentId:442,text:"Солнечные панели с высоким КПД"},{id:451,parentId:442,text:"Офшорная ветроэнергетика"},{id:452,parentId:288,text:"Водородная экономика"},{id:453,parentId:452,text:"Электролиз для получения водорода"},{id:454,parentId:452,text:"Зеленый водород из ВИЭ"},{id:455,parentId:452,text:"Хранение и транспортировка водорода"},{id:456,parentId:452,text:"Водородные заправочные станции"},{id:457,parentId:452,text:"Топливные элементы"},{id:458,parentId:452,text:"Водородный транспорт"},{id:459,parentId:452,text:"Использование водорода в металлургии"},{id:460,parentId:452,text:"Аммиак как носитель водорода"},{id:461,parentId:288,text:"Биоэкономика и биотехнологии"},{id:462,parentId:461,text:"Производство биотоплива второго поколения"},{id:463,parentId:461,text:"Биопластики и биополимеры"},{id:464,parentId:461,text:"Биокомпозиты"},{id:465,parentId:461,text:"Промышленная биотехнология"},{id:466,parentId:461,text:"Биорефайнинг"},{id:467,parentId:461,text:"Микробные фабрики"},{id:468,parentId:461,text:"Биоремедиация загрязнений"},{id:469,parentId:461,text:"Культивация микроводорослей"},{id:470,parentId:288,text:"Снижение материалоемкости производства"},{id:471,parentId:470,text:"Аддитивные технологии (3D-печать)"},{id:472,parentId:470,text:"Композитные материалы"},{id:473,parentId:470,text:"Наноматериалы"},{id:474,parentId:470,text:"Легкие конструкционные сплавы"},{id:475,parentId:470,text:"Биоматериалы"},{id:476,parentId:470,text:"Умные материалы с памятью формы"},{id:477,parentId:470,text:"Самовосстанавливающиеся материалы"},{id:478,parentId:470,text:"Легковесные пенометаллы"},{id:479,parentId:null,text:"Демографический переход"},{id:480,parentId:479,text:"Поддержка семей с детьми"},{id:481,parentId:480,text:"Цифровые платформы социальной поддержки"},{id:482,parentId:480,text:"Автоматизация назначения пособий"},{id:483,parentId:480,text:"Программы материнского капитала"},{id:484,parentId:480,text:"Льготная ипотека для семей"},{id:485,parentId:480,text:"Системы поддержки многодетных семей"},{id:486,parentId:480,text:"Налоговые вычеты для семей с детьми"},{id:487,parentId:480,text:"Субсидии на детские сады"},{id:488,parentId:480,text:"Единое пособие на детей"},{id:489,parentId:480,text:"Программы жилищной поддержки"},{id:490,parentId:479,text:"Развитие вспомогательных репродуктивных технологий"},{id:491,parentId:490,text:"ЭКО и ИКСИ технологии"},{id:492,parentId:490,text:"Криоконсервация биоматериалов"},{id:493,parentId:490,text:"Генетическая диагностика эмбрионов"},{id:494,parentId:490,text:"Лечение бесплодия"},{id:495,parentId:490,text:"Стимуляция овуляции"},{id:496,parentId:490,text:"Суррогатное материнство"},{id:497,parentId:490,text:"Банки донорских клеток"},{id:498,parentId:490,text:"Хирургическое лечение бесплодия"},{id:499,parentId:490,text:"Андрология и мужское бесплодие"},{id:500,parentId:479,text:"Развитие дошкольного образования и ухода"},{id:501,parentId:500,text:"Строительство детских садов"},{id:502,parentId:500,text:"Частные детские сады"},{id:503,parentId:500,text:"Семейные детские сады"},{id:504,parentId:500,text:"Ясли для детей до 3 лет"},{id:505,parentId:500,text:"Центры раннего развития"},{id:506,parentId:500,text:"Няни и домашний уход"},{id:507,parentId:500,text:"Корпоративные детские сады"},{id:508,parentId:500,text:"Продленки и группы выходного дня"},{id:509,parentId:479,text:"Меры совмещения работы и родительства"},{id:510,parentId:509,text:"Гибкий график работы для родителей"},{id:511,parentId:509,text:"Удаленная работа для родителей"},{id:512,parentId:509,text:"Отпуск по уходу за ребенком"},{id:513,parentId:509,text:"Больничные по уходу за детьми"},{id:514,parentId:509,text:"Частичная занятость для матерей"},{id:515,parentId:509,text:"Декретные выплаты"},{id:516,parentId:509,text:"Защита от увольнения беременных"},{id:517,parentId:509,text:"Программы возвращения на работу"},{id:518,parentId:479,text:"Развитие геронтологии и anti-age медицины"},{id:519,parentId:518,text:"Клеточная терапия и регенеративная медицина"},{id:520,parentId:518,text:"Генная терапия возрастных заболеваний"},{id:521,parentId:518,text:"Биомаркеры старения"},{id:522,parentId:518,text:"Сенолитики и геропротекторы"},{id:523,parentId:518,text:"Персонализированная профилактика"},{id:524,parentId:518,text:"Антиоксидантная терапия"},{id:525,parentId:518,text:"Гормональная заместительная терапия"},{id:526,parentId:518,text:"Калорийная рестрикция и диеты долголетия"},{id:527,parentId:518,text:"Омоложение стволовыми клетками"},{id:528,parentId:479,text:"Создание систем долговременного ухода"},{id:529,parentId:528,text:"Технологии умного дома для пожилых"},{id:530,parentId:528,text:"Роботы-помощники для ухода"},{id:531,parentId:528,text:"Телемедицина и удаленный мониторинг"},{id:532,parentId:528,text:"Носимые медицинские устройства"},{id:533,parentId:528,text:"Гериатрические информационные системы"},{id:534,parentId:528,text:"Пансионаты и дома престарелых"},{id:535,parentId:528,text:"Центры дневного пребывания"},{id:536,parentId:528,text:"Услуги сиделок и патронажа"},{id:537,parentId:528,text:"Паллиативная помощь на дому"},{id:538,parentId:479,text:"Продление активного долголетия"},{id:539,parentId:538,text:"Программы физической активности для пожилых"},{id:540,parentId:538,text:"Когнитивные тренировки и профилактика деменции"},{id:541,parentId:538,text:"Нутритивная поддержка в старости"},{id:542,parentId:538,text:"Социальные программы вовлечения пожилых"},{id:543,parentId:538,text:"Центры здоровья для пожилых"},{id:544,parentId:538,text:"Программы борьбы с одиночеством"},{id:545,parentId:538,text:"Адаптированные спортивные площадки"},{id:546,parentId:538,text:"Групповая терапия для пожилых"},{id:547,parentId:479,text:"Лечение возрастных заболеваний"},{id:548,parentId:547,text:"Протезирование суставов"},{id:549,parentId:547,text:"Лечение остеопороза"},{id:550,parentId:547,text:"Офтальмология (катаракта, глаукома)"},{id:551,parentId:547,text:"Слуховые аппараты и кохлеарные импланты"},{id:552,parentId:547,text:"Лечение артрита и ревматизма"},{id:553,parentId:547,text:"Профилактика и лечение инсульта"},{id:554,parentId:547,text:"Кардиология для пожилых"},{id:555,parentId:547,text:"Урология и андрология возрастная"},{id:556,parentId:479,text:"Адаптация пенсионной системы"},{id:557,parentId:556,text:"Актуарные модели пенсионного обеспечения"},{id:558,parentId:556,text:"Накопительные пенсионные системы"},{id:559,parentId:556,text:"Стимулирование занятости пожилых"},{id:560,parentId:556,text:"Гибкий пенсионный возраст"},{id:561,parentId:556,text:"Негосударственные пенсионные фонды"},{id:562,parentId:556,text:"Софинансирование пенсий"},{id:563,parentId:556,text:"Цифровые пенсионные сервисы"},{id:564,parentId:556,text:"Индексация пенсий"},{id:565,parentId:556,text:"Досрочные пенсии по вредности"},{id:566,parentId:479,text:"Развитие серебряной экономики"},{id:567,parentId:566,text:"Товары и услуги для пожилых"},{id:568,parentId:566,text:"Адаптированный туризм"},{id:569,parentId:566,text:"Образование для третьего возраста"},{id:570,parentId:566,text:"Социальная активность пожилых"},{id:571,parentId:566,text:"Серебряное волонтерство"},{id:572,parentId:566,text:"Клубы по интересам для пожилых"},{id:573,parentId:566,text:"Доступная среда и безбарьерная инфраструктура"},{id:574,parentId:566,text:"Геронтологические центры"},{id:575,parentId:479,text:"Интеграция пожилых в рынок труда"},{id:576,parentId:575,text:"Переобучение и повышение квалификации"},{id:577,parentId:575,text:"Частичная занятость для пожилых"},{id:578,parentId:575,text:"Удаленная работа для пенсионеров"},{id:579,parentId:575,text:"Гибкий график для возрастных работников"},{id:580,parentId:575,text:"Наставничество и передача опыта"},{id:581,parentId:575,text:"Защита от дискриминации по возрасту"},{id:582,parentId:575,text:"Стимулирование работодателей нанимать пожилых"},{id:583,parentId:575,text:"Социальное предпринимательство пожилых"},{id:584,parentId:479,text:"Адаптация инфраструктуры к старению"},{id:585,parentId:584,text:"Пандусы и лифты для маломобильных"},{id:586,parentId:584,text:"Адаптированный общественный транспорт"},{id:587,parentId:584,text:"Комфортные остановки и скамейки"},{id:588,parentId:584,text:"Светофоры с увеличенным временем перехода"},{id:589,parentId:584,text:"Поручни и опоры в общественных местах"},{id:590,parentId:584,text:"Контрастная разметка для слабовидящих"},{id:591,parentId:584,text:"Удобная навигация и указатели"},{id:592,parentId:584,text:"Адаптированные банкоматы и терминалы"},{id:593,parentId:479,text:"Развитие превентивной медицины"},{id:594,parentId:593,text:"Скрининговые программы населения"},{id:595,parentId:593,text:"Диспансеризация и профосмотры"},{id:596,parentId:593,text:"Вакцинация и иммунопрофилактика"},{id:597,parentId:593,text:"Программы здорового образа жизни"},{id:598,parentId:593,text:"Онкоскрининг (маммография, колоноскопия)"},{id:599,parentId:593,text:"Кардиологические чек-апы"},{id:600,parentId:593,text:"Генетическое тестирование рисков"},{id:601,parentId:593,text:"Метаболические панели"},{id:602,parentId:479,text:"Продвижение здорового образа жизни"},{id:603,parentId:602,text:"Программы отказа от курения"},{id:604,parentId:602,text:"Борьба с алкоголизмом и наркоманией"},{id:605,parentId:602,text:"Фитнес-центры и спортивные клубы"},{id:606,parentId:602,text:"Парки и велодорожки"},{id:607,parentId:602,text:"Консультации по питанию и диетологии"},{id:608,parentId:602,text:"Контроль массы тела и ожирения"},{id:609,parentId:602,text:"Программы стресс-менеджмента"},{id:610,parentId:602,text:"Мобильные приложения для ЗОЖ"},{id:611,parentId:479,text:"Развитие спорта и физкультуры"},{id:612,parentId:611,text:"Массовый спорт и ГТО"},{id:613,parentId:611,text:"Спортивные секции для детей"},{id:614,parentId:611,text:"Физкультурно-оздоровительные комплексы"},{id:615,parentId:611,text:"Корпоративный спорт"},{id:616,parentId:611,text:"Спортивные мероприятия и марафоны"},{id:617,parentId:611,text:"Уличные тренажеры и воркаут-площадки"},{id:618,parentId:611,text:"Бассейны и аквапарки"},{id:619,parentId:611,text:"Зимние виды спорта"},{id:620,parentId:479,text:"Цифровое здравоохранение"},{id:621,parentId:620,text:"Электронные медицинские карты"},{id:622,parentId:620,text:"Телемедицинские консультации"},{id:623,parentId:620,text:"Онлайн-запись к врачу"},{id:624,parentId:620,text:"Мобильные приложения для мониторинга здоровья"},{id:625,parentId:620,text:"Носимые фитнес-трекеры"},{id:626,parentId:620,text:"Умные весы и тонометры"},{id:627,parentId:620,text:"Цифровые рецепты"},{id:628,parentId:620,text:"AI-ассистенты для пациентов"},{id:629,parentId:479,text:"Борьба с хроническими неинфекционными заболеваниями"},{id:630,parentId:629,text:"Лечение сердечно-сосудистых заболеваний"},{id:631,parentId:629,text:"Онкология и таргетная терапия"},{id:632,parentId:629,text:"Лечение диабета и эндокринных нарушений"},{id:633,parentId:629,text:"Нейродегенеративные заболевания (Альцгеймер, Паркинсон)"},{id:634,parentId:629,text:"Реабилитация и восстановление"},{id:635,parentId:629,text:"Коронарная ангиография и стентирование"},{id:636,parentId:629,text:"Аортокоронарное шунтирование"},{id:637,parentId:629,text:"Химиотерапия и иммунотерапия рака"},{id:638,parentId:629,text:"Инсулиновые помпы и мониторинг глюкозы"},{id:639,parentId:479,text:"Решение проблем психического здоровья"},{id:640,parentId:639,text:"Телепсихиатрия и онлайн-консультации"},{id:641,parentId:639,text:"Скрининг депрессии и тревожности"},{id:642,parentId:639,text:"Цифровая психотерапия"},{id:643,parentId:639,text:"Профилактика выгорания и стресса"},{id:644,parentId:639,text:"Антидепрессанты и психотропные препараты"},{id:645,parentId:639,text:"Когнитивно-поведенческая терапия (КПТ)"},{id:646,parentId:639,text:"Групповая психотерапия"},{id:647,parentId:639,text:"Кризисные центры и горячие линии"},{id:648,parentId:639,text:"Профилактика суицидов"},{id:649,parentId:479,text:"Борьба с социально значимыми заболеваниями"},{id:650,parentId:649,text:"Лечение туберкулеза"},{id:651,parentId:649,text:"Терапия ВИЧ/СПИД"},{id:652,parentId:649,text:"Лечение гепатитов B и C"},{id:653,parentId:649,text:"Программы снижения вреда для наркозависимых"},{id:654,parentId:649,text:"Профилактика ИППП"},{id:655,parentId:649,text:"Скрининг на социально значимые болезни"},{id:656,parentId:649,text:"Реабилитация наркозависимых"},{id:657,parentId:649,text:"Программы обмена шприцев"},{id:658,parentId:479,text:"Редкие и орфанные заболевания"},{id:659,parentId:658,text:"Реестр пациентов с орфанными заболеваниями"},{id:660,parentId:658,text:"Государственное обеспечение редкими препаратами"},{id:661,parentId:658,text:"Генная терапия редких болезней"},{id:662,parentId:658,text:"Диагностика редких заболеваний"},{id:663,parentId:658,text:"Паллиативная помощь при редких болезнях"},{id:664,parentId:658,text:"Пациентские организации"},{id:665,parentId:658,text:"Международное сотрудничество по орфанным болезням"},{id:666,parentId:658,text:"Разработка новых орфанных препаратов"},{id:667,parentId:null,text:"Возрастание антропогенных нагрузок на окружающую среду"},{id:668,parentId:667,text:"Рациональное использование водных ресурсов"},{id:669,parentId:668,text:"Технологии очистки сточных вод"},{id:670,parentId:668,text:"Оборотное водоснабжение"},{id:671,parentId:668,text:"Опреснение морской воды"},{id:672,parentId:668,text:"Умное орошение в сельском хозяйстве"},{id:673,parentId:668,text:"Мониторинг качества воды"},{id:674,parentId:668,text:"Капельное орошение"},{id:675,parentId:668,text:"Реконструкция водопроводных сетей"},{id:676,parentId:668,text:"Обратный осмос"},{id:677,parentId:668,text:"Дистилляция воды"},{id:678,parentId:667,text:"Сохранение биоразнообразия"},{id:679,parentId:678,text:"Банки семян и генетических ресурсов"},{id:680,parentId:678,text:"Реинтродукция исчезающих видов"},{id:681,parentId:678,text:"Особо охраняемые природные территории"},{id:682,parentId:678,text:"Экологические коридоры"},{id:683,parentId:678,text:"Национальные парки и заповедники"},{id:684,parentId:678,text:"Мониторинг популяций редких видов"},{id:685,parentId:678,text:"Борьба с браконьерством"},{id:686,parentId:678,text:"Красная книга и учет видов"},{id:687,parentId:667,text:"Восстановление нарушенных земель"},{id:688,parentId:687,text:"Рекультивация карьеров и отвалов"},{id:689,parentId:687,text:"Фиторемедиация загрязненных почв"},{id:690,parentId:687,text:"Борьба с эрозией почв"},{id:691,parentId:687,text:"Лесовосстановление"},{id:692,parentId:687,text:"Восстановление пойм рек"},{id:693,parentId:687,text:"Борьба с опустыниванием"},{id:694,parentId:687,text:"Рекультивация нефтезагрязненных территорий"},{id:695,parentId:687,text:"Восстановление торфяников"},{id:696,parentId:667,text:"Лесопользование и лесовосстановление"},{id:697,parentId:696,text:"Устойчивое лесопользование"},{id:698,parentId:696,text:"Лесные питомники"},{id:699,parentId:696,text:"Посадка леса"},{id:700,parentId:696,text:"Пожарная охрана лесов"},{id:701,parentId:696,text:"Спутниковый мониторинг лесов"},{id:702,parentId:696,text:"Борьба с незаконными рубками"},{id:703,parentId:696,text:"FSC сертификация лесов"},{id:704,parentId:696,text:"Санитарные рубки и уход за лесом"},{id:705,parentId:667,text:"Мониторинг и снижение загрязнения воздуха"},{id:706,parentId:705,text:"Системы мониторинга атмосферного воздуха"},{id:707,parentId:705,text:"Фильтры и очистка промышленных выбросов"},{id:708,parentId:705,text:"Электротранспорт в городах"},{id:709,parentId:705,text:"Озеленение городов"},{id:710,parentId:705,text:"Газоочистные установки"},{id:711,parentId:705,text:"Электрофильтры и скрубберы"},{id:712,parentId:705,text:"Контроль выхлопов автотранспорта"},{id:713,parentId:705,text:"Перевод котельных на газ"},{id:714,parentId:667,text:"Управление отходами и утилизация"},{id:715,parentId:714,text:"Раздельный сбор мусора"},{id:716,parentId:714,text:"Мусоросортировочные комплексы"},{id:717,parentId:714,text:"Мусоросжигательные заводы с энергетикой"},{id:718,parentId:714,text:"Полигоны ТБО"},{id:719,parentId:714,text:"Переработка пластика"},{id:720,parentId:714,text:"Компостирование органики"},{id:721,parentId:714,text:"Утилизация опасных отходов"},{id:722,parentId:714,text:"Экологический мониторинг полигонов"},{id:723,parentId:667,text:"Снижение шумового и светового загрязнения"},{id:724,parentId:723,text:"Шумозащитные экраны вдоль дорог"},{id:725,parentId:723,text:"Звукоизоляция зданий"},{id:726,parentId:723,text:"Тихий асфальт"},{id:727,parentId:723,text:"Ограничение светового загрязнения"},{id:728,parentId:723,text:"Электромобили и снижение шума"},{id:729,parentId:723,text:"Зоны тишины в городах"},{id:730,parentId:723,text:"Контроль шума от предприятий"},{id:731,parentId:723,text:"Архитектурная звукоизоляция"},{id:732,parentId:667,text:"Борьба с загрязнением почв и грунтовых вод"},{id:733,parentId:732,text:"Мониторинг загрязнения почв"},{id:734,parentId:732,text:"Очистка от нефтепродуктов"},{id:735,parentId:732,text:"Дегазация полигонов"},{id:736,parentId:732,text:"Биоремедиация"},{id:737,parentId:732,text:"Защита грунтовых вод"},{id:738,parentId:732,text:"Санация загрязненных территорий"},{id:739,parentId:732,text:"Герметизация свалок"},{id:740,parentId:732,text:"Реабилитация промзон"},{id:741,parentId:667,text:"Снижение выбросов парниковых газов"},{id:742,parentId:741,text:"Улавливание и хранение CO2 (CCS)"},{id:743,parentId:741,text:"Повышение энергоэффективности"},{id:744,parentId:741,text:"Возобновляемая энергетика"},{id:745,parentId:741,text:"Углеродные квоты и торговля"},{id:746,parentId:741,text:"Учет углеродного следа"},{id:747,parentId:741,text:"Углеродная нейтральность предприятий"},{id:748,parentId:741,text:"Сокращение выбросов метана"},{id:749,parentId:741,text:"Посадка лесов для углеродной секвестрации"},{id:750,parentId:667,text:"Адаптация к климатическим изменениям"},{id:751,parentId:750,text:"Устойчивые к засухе сорта растений"},{id:752,parentId:750,text:"Системы раннего предупреждения стихийных бедствий"},{id:753,parentId:750,text:"Защита от наводнений и паводков"},{id:754,parentId:750,text:"Адаптация инфраструктуры к изменению климата"},{id:755,parentId:750,text:"Дамбы и противопаводковая защита"},{id:756,parentId:750,text:"Адаптация сельского хозяйства"},{id:757,parentId:750,text:"Управление водными ресурсами при засухе"},{id:758,parentId:750,text:"Климатическое страхование"},{id:759,parentId:667,text:"Мониторинг и прогнозирование климатических изменений"},{id:760,parentId:759,text:"Метеорологические станции"},{id:761,parentId:759,text:"Спутниковый мониторинг климата"},{id:762,parentId:759,text:"Климатическое моделирование"},{id:763,parentId:759,text:"Океанографические буи"},{id:764,parentId:759,text:"Анализ ледников и полярных шапок"},{id:765,parentId:759,text:"Изучение таяния вечной мерзлоты"},{id:766,parentId:759,text:"Прогнозы экстремальных погодных явлений"},{id:767,parentId:759,text:"Системы раннего оповещения"},{id:768,parentId:667,text:"Международное сотрудничество по климату"},{id:769,parentId:768,text:"Парижское соглашение"},{id:770,parentId:768,text:"Киотский протокол"},{id:771,parentId:768,text:"Зеленые климатические фонды"},{id:772,parentId:768,text:"Международные климатические конференции"},{id:773,parentId:768,text:"Трансграничный углеродный налог"},{id:774,parentId:768,text:"Обмен климатическими технологиями"},{id:775,parentId:768,text:"Глобальный мониторинг выбросов"},{id:776,parentId:768,text:"Климатическая дипломатия"},{id:777,parentId:667,text:"Развитие безотходных производств"},{id:778,parentId:777,text:"Замкнутый цикл производства"},{id:779,parentId:777,text:"Утилизация промышленных отходов"},{id:780,parentId:777,text:"Вторичная переработка материалов"},{id:781,parentId:777,text:"Компостирование органических отходов"},{id:782,parentId:777,text:"Промышленный симбиоз"},{id:783,parentId:777,text:"Переработка металлолома"},{id:784,parentId:777,text:"Регенерация масел и растворителей"},{id:785,parentId:777,text:"Использование вторичного сырья"},{id:786,parentId:667,text:"Повышение ресурсоэффективности"},{id:787,parentId:786,text:"Энергоаудит предприятий"},{id:788,parentId:786,text:"Снижение материалоемкости"},{id:789,parentId:786,text:"Оптимизация логистики"},{id:790,parentId:786,text:"Бережливое производство (Lean)"},{id:791,parentId:786,text:"Умные счетчики ресурсов"},{id:792,parentId:786,text:"Системы учета потребления"},{id:793,parentId:786,text:"Повторное использование воды"},{id:794,parentId:786,text:"Снижение потерь в производстве"},{id:795,parentId:667,text:"Циркулярная экономика"},{id:796,parentId:795,text:"Дизайн для разборки и рециклинга"},{id:797,parentId:795,text:"Продление жизни продуктов (ремонт)"},{id:798,parentId:795,text:"Модели совместного потребления"},{id:799,parentId:795,text:"Лизинг вместо владения"},{id:800,parentId:795,text:"Возврат упаковки"},{id:801,parentId:795,text:"Обмен и повторное использование"},{id:802,parentId:795,text:"Ремануфактуринг"},{id:803,parentId:795,text:"Экономика замкнутого цикла"},{id:804,parentId:667,text:"Экологический мониторинг и контроль"},{id:805,parentId:804,text:"Системы экологического мониторинга"},{id:806,parentId:804,text:"Онлайн-датчики выбросов"},{id:807,parentId:804,text:"Экологическая отчетность"},{id:808,parentId:804,text:"Экологические нормативы"},{id:809,parentId:804,text:"Экологические штрафы и платежи"},{id:810,parentId:804,text:"Экологическая экспертиза"},{id:811,parentId:804,text:"Аудит природопользования"},{id:812,parentId:804,text:"ISO 14001 сертификация"},{id:813,parentId:667,text:"Оценка климатических рисков для бизнеса"},{id:814,parentId:813,text:"Климатическое моделирование"},{id:815,parentId:813,text:"Стресс-тестирование на климатические риски"},{id:816,parentId:813,text:"Страхование климатических рисков"},{id:817,parentId:813,text:"Зеленое финансирование"},{id:818,parentId:813,text:"ESG инвестиции"},{id:819,parentId:813,text:"Углеродная отчетность компаний"},{id:820,parentId:813,text:"Климатические облигации"},{id:821,parentId:813,text:"Зеленые кредиты"},{id:822,parentId:667,text:"Развитие зеленой экономики"},{id:823,parentId:822,text:"Зеленые рабочие места"},{id:824,parentId:822,text:"Экотуризм"},{id:825,parentId:822,text:"Органическое земледелие"},{id:826,parentId:822,text:"Экомаркировка продукции"},{id:827,parentId:822,text:"Зеленые закупки"},{id:828,parentId:822,text:"Субсидии на экотехнологии"},{id:829,parentId:822,text:"Налоговые льготы за экологичность"},{id:830,parentId:822,text:"Зеленые стандарты и сертификация"},{id:831,parentId:667,text:"Адаптация отраслей экономики к изменению климата"},{id:832,parentId:831,text:"Климатоустойчивое строительство"},{id:833,parentId:831,text:"Адаптация транспорта к жаре"},{id:834,parentId:831,text:"Энергетика и экстремальные погодные явления"},{id:835,parentId:831,text:"Туризм и изменение климата"},{id:836,parentId:831,text:"Добыча ресурсов в меняющихся условиях"},{id:837,parentId:831,text:"Логистика при климатических аномалиях"},{id:838,parentId:831,text:"Промышленность и дефицит воды"},{id:839,parentId:831,text:"Финансовый сектор и климатические риски"},{id:840,parentId:667,text:"Экологическое просвещение и культура"},{id:841,parentId:840,text:"Экологическое образование в школах"},{id:842,parentId:840,text:"Экопросветительские программы"},{id:843,parentId:840,text:"Волонтерские экологические акции"},{id:844,parentId:840,text:"Раздельный сбор отходов населением"},{id:845,parentId:840,text:"Экологическая культура потребления"},{id:846,parentId:840,text:"Инфоматериалы по экологии"},{id:847,parentId:840,text:"Экодни и экопраздники"},{id:848,parentId:840,text:"Экологические НКО"},{id:849,parentId:null,text:"Потребность в обеспечении продовольственной безопасности"},{id:850,parentId:849,text:"Развитие растениеводства"},{id:851,parentId:850,text:"Селекция высокоурожайных сортов"},{id:852,parentId:850,text:"Защита растений от вредителей"},{id:853,parentId:850,text:"Минеральные удобрения"},{id:854,parentId:850,text:"Точное земледелие (precision farming)"},{id:855,parentId:850,text:"Мониторинг состояния посевов с БПЛА"},{id:856,parentId:850,text:"Системы переменного внесения удобрений"},{id:857,parentId:850,text:"GPS-навигация сельхозтехники"},{id:858,parentId:850,text:"Почвенное картирование"},{id:859,parentId:850,text:"Гербициды и пестициды"},{id:860,parentId:850,text:"Сортоиспытание и регистрация сортов"},{id:861,parentId:849,text:"Развитие животноводства"},{id:862,parentId:861,text:"Племенное разведение"},{id:863,parentId:861,text:"Ветеринарные препараты и вакцины"},{id:864,parentId:861,text:"Автоматизация ферм и доильных установок"},{id:865,parentId:861,text:"Системы мониторинга здоровья животных"},{id:866,parentId:861,text:"Искусственное осеменение КРС"},{id:867,parentId:861,text:"Кормовые добавки и премиксы"},{id:868,parentId:861,text:"Роботизированные доильные залы"},{id:869,parentId:861,text:"Системы навозоудаления"},{id:870,parentId:861,text:"Климат-контроль на фермах"},{id:871,parentId:849,text:"Птицеводство"},{id:872,parentId:871,text:"Инкубаторы и выращивание птицы"},{id:873,parentId:871,text:"Кормление бройлеров"},{id:874,parentId:871,text:"Яичное птицеводство"},{id:875,parentId:871,text:"Ветеринарная защита птицы"},{id:876,parentId:871,text:"Автоматизация птицефабрик"},{id:877,parentId:871,text:"Клеточное содержание несушек"},{id:878,parentId:871,text:"Переработка птицы"},{id:879,parentId:871,text:"Убой и разделка"},{id:880,parentId:849,text:"Свиноводство"},{id:881,parentId:880,text:"Племенное свиноводство"},{id:882,parentId:880,text:"Откорм свиней"},{id:883,parentId:880,text:"Ветеринарная защита свиней"},{id:884,parentId:880,text:"Свиноводческие комплексы"},{id:885,parentId:880,text:"Автоматизированное кормление"},{id:886,parentId:880,text:"Системы вентиляции"},{id:887,parentId:880,text:"Переработка свинины"},{id:888,parentId:880,text:"Колбасное производство"},{id:889,parentId:849,text:"Аквакультура и рыбоводство"},{id:890,parentId:889,text:"Выращивание рыбы в УЗВ"},{id:891,parentId:889,text:"Прудовое рыбоводство"},{id:892,parentId:889,text:"Морская аквакультура"},{id:893,parentId:889,text:"Разведение форели и лосося"},{id:894,parentId:889,text:"Карповодство"},{id:895,parentId:889,text:"Кормовые технологии для рыб"},{id:896,parentId:889,text:"Мониторинг качества воды"},{id:897,parentId:889,text:"Переработка рыбы"},{id:898,parentId:849,text:"Тепличное хозяйство"},{id:899,parentId:898,text:"Круглогодичные теплицы"},{id:900,parentId:898,text:"Гидропоника"},{id:901,parentId:898,text:"Досветка растений LED"},{id:902,parentId:898,text:"Автоматизация микроклимата"},{id:903,parentId:898,text:"Капельный полив в теплицах"},{id:904,parentId:898,text:"CO2 обогащение"},{id:905,parentId:898,text:"Биозащита в теплицах"},{id:906,parentId:898,text:"Выращивание овощей и зелени"},{id:907,parentId:849,text:"Импортозамещение в АПК"},{id:908,parentId:907,text:"Отечественные семена и посадочный материал"},{id:909,parentId:907,text:"Производство кормов и кормовых добавок"},{id:910,parentId:907,text:"Сельхозтехника отечественного производства"},{id:911,parentId:907,text:"Биологические средства защиты растений"},{id:912,parentId:907,text:"Отечественные комбайны и тракторы"},{id:913,parentId:907,text:"Ветпрепараты российского производства"},{id:914,parentId:907,text:"Генетика и селекция животных"},{id:915,parentId:907,text:"Российские агрохимикаты"},{id:916,parentId:849,text:"Развитие переработки продукции АПК"},{id:917,parentId:916,text:"Молочные заводы"},{id:918,parentId:916,text:"Мясокомбинаты"},{id:919,parentId:916,text:"Масложировые комбинаты"},{id:920,parentId:916,text:"Мукомольное производство"},{id:921,parentId:916,text:"Сахарное производство"},{id:922,parentId:916,text:"Консервное производство"},{id:923,parentId:916,text:"Заморозка продуктов"},{id:924,parentId:916,text:"Производство соков"},{id:925,parentId:849,text:"Пищевая промышленность"},{id:926,parentId:925,text:"Хлебопекарное производство"},{id:927,parentId:925,text:"Кондитерское производство"},{id:928,parentId:925,text:"Производство макаронных изделий"},{id:929,parentId:925,text:"Производство молочных продуктов"},{id:930,parentId:925,text:"Сыроделие"},{id:931,parentId:925,text:"Производство детского питания"},{id:932,parentId:925,text:"Функциональные продукты питания"},{id:933,parentId:925,text:"Безглютеновые продукты"},{id:934,parentId:849,text:"Развитие инфраструктуры АПК"},{id:935,parentId:934,text:"Сельские дороги"},{id:936,parentId:934,text:"Логистические центры для АПК"},{id:937,parentId:934,text:"Холодильные склады"},{id:938,parentId:934,text:"Овощехранилища"},{id:939,parentId:934,text:"Рефрижераторный транспорт"},{id:940,parentId:934,text:"Распределительные центры"},{id:941,parentId:934,text:"Ветеринарные лаборатории"},{id:942,parentId:934,text:"Агрохимические лаборатории"},{id:943,parentId:849,text:"Экспорт зерна и масличных культур"},{id:944,parentId:943,text:"Элеваторы и зернохранилища"},{id:945,parentId:943,text:"Логистика экспорта зерна"},{id:946,parentId:943,text:"Контроль качества и сертификация"},{id:947,parentId:943,text:"Фьючерсы и торговля зерном"},{id:948,parentId:943,text:"Речной транспорт зерна"},{id:949,parentId:943,text:"Портовая инфраструктура для зерна"},{id:950,parentId:943,text:"Железнодорожная перевозка зерна"},{id:951,parentId:943,text:"Экспорт подсолнечного масла"},{id:952,parentId:849,text:"Экспорт продукции животноводства"},{id:953,parentId:952,text:"Экспорт мяса птицы"},{id:954,parentId:952,text:"Экспорт свинины"},{id:955,parentId:952,text:"Экспорт говядины"},{id:956,parentId:952,text:"Экспорт молочной продукции"},{id:957,parentId:952,text:"Сертификация для экспорта"},{id:958,parentId:952,text:"Соответствие международным стандартам"},{id:959,parentId:952,text:"Ветеринарный контроль экспорта"},{id:960,parentId:952,text:"Упаковка для экспорта"},{id:961,parentId:849,text:"Экспорт рыбной продукции"},{id:962,parentId:961,text:"Вылов рыбы"},{id:963,parentId:961,text:"Рыбопереработка на судах"},{id:964,parentId:961,text:"Глубокая заморозка рыбы"},{id:965,parentId:961,text:"Производство рыбных консервов"},{id:966,parentId:961,text:"Икорное производство"},{id:967,parentId:961,text:"Краб и морепродукты"},{id:968,parentId:961,text:"Соблюдение квот на вылов"},{id:969,parentId:961,text:"Рыбоперерабатывающие заводы"},{id:970,parentId:849,text:"Повышение качества продукции"},{id:971,parentId:970,text:"Системы менеджмента качества"},{id:972,parentId:970,text:"HACCP системы"},{id:973,parentId:970,text:"Лабораторный контроль продукции"},{id:974,parentId:970,text:"Прослеживаемость продукции"},{id:975,parentId:970,text:"Органическая сертификация"},{id:976,parentId:970,text:"Соответствие ГОСТам"},{id:977,parentId:970,text:"Маркировка продукции"},{id:978,parentId:970,text:"Контроль безопасности пищи"},{id:979,parentId:849,text:"Страхование сельскохозяйственных рисков"},{id:980,parentId:979,text:"Агрострахование урожая"},{id:981,parentId:979,text:"Спутниковый мониторинг для оценки ущерба"},{id:982,parentId:979,text:"Метеопрогнозирование для сельского хозяйства"},{id:983,parentId:979,text:"Страхование животных"},{id:984,parentId:979,text:"Страхование от падежа скота"},{id:985,parentId:979,text:"Страхование техники"},{id:986,parentId:979,text:"Страхование от стихийных бедствий"},{id:987,parentId:979,text:"Государственная поддержка страхования"},{id:988,parentId:849,text:"Борьба с вредителями и болезнями"},{id:989,parentId:988,text:"Фитосанитарный мониторинг"},{id:990,parentId:988,text:"Системы прогноза вредителей"},{id:991,parentId:988,text:"Биологическая защита растений"},{id:992,parentId:988,text:"Интегрированная защита растений"},{id:993,parentId:988,text:"Карантин растений"},{id:994,parentId:988,text:"Борьба с саранчой"},{id:995,parentId:988,text:"Протравливание семян"},{id:996,parentId:988,text:"Авиахимобработка полей"},{id:997,parentId:849,text:"Ветеринарная безопасность"},{id:998,parentId:997,text:"Вакцинация животных"},{id:999,parentId:997,text:"Диагностика болезней животных"},{id:1e3,parentId:997,text:"Карантин животных"},{id:1001,parentId:997,text:"Борьба с АЧС"},{id:1002,parentId:997,text:"Борьба с ящуром"},{id:1003,parentId:997,text:"Птичий грипп - профилактика"},{id:1004,parentId:997,text:"Дезинфекция и дератизация"},{id:1005,parentId:997,text:"Ветеринарный надзор"},{id:1006,parentId:849,text:"Адаптация к изменениям климата"},{id:1007,parentId:1006,text:"Засухоустойчивые сорта"},{id:1008,parentId:1006,text:"Морозоустойчивые культуры"},{id:1009,parentId:1006,text:"Системы орошения"},{id:1010,parentId:1006,text:"Влагосберегающие технологии"},{id:1011,parentId:1006,text:"Мелиорация земель"},{id:1012,parentId:1006,text:"Защита от эрозии"},{id:1013,parentId:1006,text:"Агролесомелиорация"},{id:1014,parentId:1006,text:"Противоградовая защита"},{id:1015,parentId:849,text:"Создание стратегических запасов продовольствия"},{id:1016,parentId:1015,text:"Государственные интервенционные фонды"},{id:1017,parentId:1015,text:"Длительное хранение зерна"},{id:1018,parentId:1015,text:"Консервирование и заморозка продуктов"},{id:1019,parentId:1015,text:"Стратегические резервы мяса"},{id:1020,parentId:1015,text:"Запасы сахара и масла"},{id:1021,parentId:1015,text:"Резервы молочной продукции"},{id:1022,parentId:1015,text:"Консервация овощей и фруктов"},{id:1023,parentId:1015,text:"Ротация запасов"},{id:1024,parentId:849,text:"Обеспечение доступности продовольствия"},{id:1025,parentId:1024,text:"Социальные программы питания"},{id:1026,parentId:1024,text:"Школьное питание"},{id:1027,parentId:1024,text:"Продовольственная помощь малоимущим"},{id:1028,parentId:1024,text:"Регулирование цен на продукты"},{id:1029,parentId:1024,text:"Торговые сети в сельской местности"},{id:1030,parentId:1024,text:"Ярмарки выходного дня"},{id:1031,parentId:1024,text:"Фермерские рынки"},{id:1032,parentId:1024,text:"Интернет-торговля продуктами"},{id:1033,parentId:849,text:"Продовольственная безопасность регионов"},{id:1034,parentId:1033,text:"Развитие местного производства"},{id:1035,parentId:1033,text:"Поддержка малых фермерских хозяйств"},{id:1036,parentId:1033,text:"ЛПХ и подсобные хозяйства"},{id:1037,parentId:1033,text:"Региональные продовольственные балансы"},{id:1038,parentId:1033,text:"Кооперация в АПК"},{id:1039,parentId:1033,text:"Сельскохозяйственные кооперативы"},{id:1040,parentId:1033,text:"Региональные бренды продуктов"},{id:1041,parentId:1033,text:"Местные перерабатывающие мощности"},{id:1042,parentId:849,text:"Государственная поддержка АПК"},{id:1043,parentId:1042,text:"Субсидии сельхозпроизводителям"},{id:1044,parentId:1042,text:"Льготные кредиты для АПК"},{id:1045,parentId:1042,text:"Гранты для начинающих фермеров"},{id:1046,parentId:1042,text:"Компенсация части затрат"},{id:1047,parentId:1042,text:"Поддержка инвестиционных проектов"},{id:1048,parentId:1042,text:"Лизинг сельхозтехники"},{id:1049,parentId:1042,text:"Налоговые льготы для АПК"},{id:1050,parentId:1042,text:"Целевые программы развития"},{id:1051,parentId:null,text:"Качественное изменение характера энергетических систем"},{id:1052,parentId:1051,text:"Электрификация промышленности"},{id:1053,parentId:1052,text:"Электрические печи и нагрев"},{id:1054,parentId:1052,text:"Электротранспорт на предприятиях"},{id:1055,parentId:1052,text:"Системы рекуперации энергии"},{id:1056,parentId:1052,text:"Электродуговые печи в металлургии"},{id:1057,parentId:1052,text:"Индукционный нагрев"},{id:1058,parentId:1052,text:"Электролизные установки"},{id:1059,parentId:1052,text:"Электроприводы промышленные"},{id:1060,parentId:1052,text:"Промышленные роботы"},{id:1061,parentId:1051,text:"Электрификация транспорта"},{id:1062,parentId:1061,text:"Электромобили"},{id:1063,parentId:1061,text:"Электробусы городские"},{id:1064,parentId:1061,text:"Электрички и электропоезда"},{id:1065,parentId:1061,text:"Троллейбусы"},{id:1066,parentId:1061,text:"Трамваи"},{id:1067,parentId:1061,text:"Метрополитен"},{id:1068,parentId:1061,text:"Зарядная инфраструктура"},{id:1069,parentId:1061,text:"Электрогрузовики"},{id:1070,parentId:1051,text:"Цифровизация энергетики"},{id:1071,parentId:1070,text:"Цифровые двойники энергообъектов"},{id:1072,parentId:1070,text:"Big Data в энергетике"},{id:1073,parentId:1070,text:"Предиктивная аналитика потребления"},{id:1074,parentId:1070,text:"IoT сенсоры на энергообъектах"},{id:1075,parentId:1070,text:"Блокчейн для энергетических транзакций"},{id:1076,parentId:1070,text:"AI оптимизация энергопотребления"},{id:1077,parentId:1070,text:"Умные счетчики электроэнергии"},{id:1078,parentId:1070,text:"Системы диспетчерского управления SCADA"},{id:1079,parentId:1051,text:"Развитие распределенной генерации"},{id:1080,parentId:1079,text:"Солнечные панели на крышах"},{id:1081,parentId:1079,text:"Малая ветроэнергетика"},{id:1082,parentId:1079,text:"Когенерационные установки"},{id:1083,parentId:1079,text:"Микро-ГЭС"},{id:1084,parentId:1079,text:"Топливные элементы стационарные"},{id:1085,parentId:1079,text:"Биогазовые установки"},{id:1086,parentId:1079,text:"Дизельные генераторы"},{id:1087,parentId:1079,text:"Газопоршневые установки"},{id:1088,parentId:1051,text:"Развитие атомной энергетики"},{id:1089,parentId:1088,text:"Реакторы поколения III+"},{id:1090,parentId:1088,text:"Малые модульные реакторы (ММР)"},{id:1091,parentId:1088,text:"Быстрые реакторы на быстрых нейтронах"},{id:1092,parentId:1088,text:"Замкнутый ядерный топливный цикл"},{id:1093,parentId:1088,text:"ВВЭР-1200"},{id:1094,parentId:1088,text:"РБМК модернизация"},{id:1095,parentId:1088,text:"БН-800 и БН-1200"},{id:1096,parentId:1088,text:"Плавучие АЭС"},{id:1097,parentId:1088,text:"МОКС-топливо"},{id:1098,parentId:1051,text:"Модернизация тепловой генерации"},{id:1099,parentId:1098,text:"ПГУ (парогазовые установки)"},{id:1100,parentId:1098,text:"Газовые турбины высокой эффективности"},{id:1101,parentId:1098,text:"Котлы сверхкритических параметров"},{id:1102,parentId:1098,text:"Газификация угля"},{id:1103,parentId:1098,text:"Пылеугольные котлы"},{id:1104,parentId:1098,text:"Циркулирующий кипящий слой"},{id:1105,parentId:1098,text:"Улавливание серы и NOx"},{id:1106,parentId:1098,text:"Автоматизация ТЭС"},{id:1107,parentId:1051,text:"Гидроэнергетика"},{id:1108,parentId:1107,text:"Крупные ГЭС"},{id:1109,parentId:1107,text:"Малые ГЭС"},{id:1110,parentId:1107,text:"ГАЭС (гидроаккумулирующие станции)"},{id:1111,parentId:1107,text:"Модернизация турбин ГЭС"},{id:1112,parentId:1107,text:"Цифровизация ГЭС"},{id:1113,parentId:1107,text:"Каскады ГЭС"},{id:1114,parentId:1107,text:"Приливные станции"},{id:1115,parentId:1107,text:"Микро-ГЭС для удаленных районов"},{id:1116,parentId:1051,text:"Возобновляемые источники энергии"},{id:1117,parentId:1116,text:"Солнечные электростанции"},{id:1118,parentId:1116,text:"Ветропарки наземные"},{id:1119,parentId:1116,text:"Оффшорная ветроэнергетика"},{id:1120,parentId:1116,text:"Геотермальные станции"},{id:1121,parentId:1116,text:"Биомассовые электростанции"},{id:1122,parentId:1116,text:"Производство пеллет"},{id:1123,parentId:1116,text:"Переработка ТБО с выработкой энергии"},{id:1124,parentId:1116,text:"Когенерация на биогазе"},{id:1125,parentId:1051,text:"Развитие электросетевого комплекса"},{id:1126,parentId:1125,text:"ЛЭП постоянного тока высокого напряжения"},{id:1127,parentId:1125,text:"Цифровые подстанции"},{id:1128,parentId:1125,text:"Интеллектуальные сети (Smart Grid)"},{id:1129,parentId:1125,text:"Снижение потерь в сетях"},{id:1130,parentId:1125,text:"Реконструкция ЛЭП"},{id:1131,parentId:1125,text:"Замена трансформаторов"},{id:1132,parentId:1125,text:"Защита от перегрузок"},{id:1133,parentId:1125,text:"FACTS устройства"},{id:1134,parentId:1051,text:"Развитие магистральных газопроводов"},{id:1135,parentId:1134,text:"Газопроводы большого диаметра"},{id:1136,parentId:1134,text:"Газокомпрессорные станции"},{id:1137,parentId:1134,text:"Диагностика трубопроводов"},{id:1138,parentId:1134,text:"Защита от коррозии"},{id:1139,parentId:1134,text:"Автоматизация газотранспорта"},{id:1140,parentId:1134,text:"Подводные газопроводы"},{id:1141,parentId:1134,text:"СПГ терминалы"},{id:1142,parentId:1134,text:"Хранилища газа ПХГ"},{id:1143,parentId:1051,text:"Нефтепроводы и нефтепродуктопроводы"},{id:1144,parentId:1143,text:"Магистральные нефтепроводы"},{id:1145,parentId:1143,text:"Нефтеперекачивающие станции"},{id:1146,parentId:1143,text:"Системы подогрева нефти"},{id:1147,parentId:1143,text:"Резервуарные парки"},{id:1148,parentId:1143,text:"Телеметрия трубопроводов"},{id:1149,parentId:1143,text:"Противоаварийная защита"},{id:1150,parentId:1143,text:"Очистка нефтепроводов"},{id:1151,parentId:1143,text:"Учет нефти"},{id:1152,parentId:1051,text:"Теплоснабжение"},{id:1153,parentId:1152,text:"Магистральные теплосети"},{id:1154,parentId:1152,text:"Теплоизоляция трубопроводов"},{id:1155,parentId:1152,text:"Модульные котельные"},{id:1156,parentId:1152,text:"Автоматизация теплоснабжения"},{id:1157,parentId:1152,text:"Тепловые пункты ИТП"},{id:1158,parentId:1152,text:"Балансировка систем отопления"},{id:1159,parentId:1152,text:"Погодное регулирование"},{id:1160,parentId:1152,text:"Счетчики тепла"},{id:1161,parentId:1051,text:"Развитие систем накопления энергии"},{id:1162,parentId:1161,text:"Литий-ионные аккумуляторы большой емкости"},{id:1163,parentId:1161,text:"Проточные редокс-батареи"},{id:1164,parentId:1161,text:"Гидроаккумулирующие станции (ГАЭС)"},{id:1165,parentId:1161,text:"Маховики и суперконденсаторы"},{id:1166,parentId:1161,text:"Свинцово-кислотные батареи"},{id:1167,parentId:1161,text:"Натрий-ионные аккумуляторы"},{id:1168,parentId:1161,text:"Сжатый воздух (CAES)"},{id:1169,parentId:1161,text:"Тепловые аккумуляторы"},{id:1170,parentId:1051,text:"Водородное хранение энергии"},{id:1171,parentId:1170,text:"Электролизеры для получения водорода"},{id:1172,parentId:1170,text:"Хранение водорода под давлением"},{id:1173,parentId:1170,text:"Жидкий водород"},{id:1174,parentId:1170,text:"Металлогидридное хранение"},{id:1175,parentId:1170,text:"Топливные элементы для обратного преобразования"},{id:1176,parentId:1170,text:"Подземное хранение водорода"},{id:1177,parentId:1170,text:"Водород в газопроводах (примесь)"},{id:1178,parentId:1170,text:"Синтетическое топливо из водорода"},{id:1179,parentId:1051,text:"Хранение нефти и газа"},{id:1180,parentId:1179,text:"Подземные хранилища газа (ПХГ)"},{id:1181,parentId:1179,text:"Резервуарные парки нефти"},{id:1182,parentId:1179,text:"Стратегические запасы топлива"},{id:1183,parentId:1179,text:"Плавучие хранилища СПГ"},{id:1184,parentId:1179,text:"Подземные каверны"},{id:1185,parentId:1179,text:"Нефтебазы"},{id:1186,parentId:1179,text:"Мониторинг хранилищ"},{id:1187,parentId:1179,text:"Противопожарная защита"},{id:1188,parentId:1051,text:"Энергоэффективность зданий"},{id:1189,parentId:1188,text:"Теплоизоляция и утепление"},{id:1190,parentId:1188,text:"Энергоэффективные окна"},{id:1191,parentId:1188,text:"Системы рекуперации тепла"},{id:1192,parentId:1188,text:"LED-освещение"},{id:1193,parentId:1188,text:"Умные системы управления зданием (BMS)"},{id:1194,parentId:1188,text:"Энергоэффективные кондиционеры"},{id:1195,parentId:1188,text:"Тепловые насосы"},{id:1196,parentId:1188,text:"Солнечные коллекторы для ГВС"},{id:1197,parentId:1188,text:"Пассивный дом технологии"},{id:1198,parentId:1051,text:"Повышение КПД промышленных процессов"},{id:1199,parentId:1198,text:"Когенерация (ТЭЦ)"},{id:1200,parentId:1198,text:"Утилизация отходящего тепла"},{id:1201,parentId:1198,text:"Частотно-регулируемый электропривод"},{id:1202,parentId:1198,text:"Оптимизация сжатого воздуха"},{id:1203,parentId:1198,text:"Энергоменеджмент на предприятиях"},{id:1204,parentId:1198,text:"ISO 50001 внедрение"},{id:1205,parentId:1198,text:"Энергоаудит"},{id:1206,parentId:1198,text:"Контроль и учет энергоресурсов"},{id:1207,parentId:1051,text:"Энергоэффективный транспорт"},{id:1208,parentId:1207,text:"Гибридные автомобили"},{id:1209,parentId:1207,text:"Двигатели с высоким КПД"},{id:1210,parentId:1207,text:"Системы старт-стоп"},{id:1211,parentId:1207,text:"Рекуперация торможения"},{id:1212,parentId:1207,text:"Аэродинамические улучшения"},{id:1213,parentId:1207,text:"Легкие материалы в конструкции"},{id:1214,parentId:1207,text:"Системы управления расходом топлива"},{id:1215,parentId:1207,text:"Эко-вождение обучение"},{id:1216,parentId:1051,text:"Энергосбережение в коммунальном хозяйстве"},{id:1217,parentId:1216,text:"Модернизация уличного освещения на LED"},{id:1218,parentId:1216,text:"Умное освещение с датчиками"},{id:1219,parentId:1216,text:"Энергоэффективные насосы"},{id:1220,parentId:1216,text:"Частотное регулирование насосов"},{id:1221,parentId:1216,text:"Теплоизоляция сетей"},{id:1222,parentId:1216,text:"Программы энергосбережения"},{id:1223,parentId:1216,text:"Энергосервисные контракты"},{id:1224,parentId:1216,text:"Субсидии на энергоэффективность"},{id:1225,parentId:null,text:"Новые гибридные внешние угрозы национальной безопасности"},{id:1226,parentId:1225,text:"Развитие систем вооружений"},{id:1227,parentId:1226,text:"Ракетно-ядерное вооружение"},{id:1228,parentId:1226,text:"Высокоточное оружие"},{id:1229,parentId:1226,text:"Гиперзвуковое оружие"},{id:1230,parentId:1226,text:"Беспилотные ударные системы"},{id:1231,parentId:1226,text:"Крылатые ракеты"},{id:1232,parentId:1226,text:"Баллистические ракеты"},{id:1233,parentId:1226,text:"Системы ПВО С-400, С-500"},{id:1234,parentId:1226,text:"Ракеты класса воздух-воздух"},{id:1235,parentId:1225,text:"Модернизация военной техники"},{id:1236,parentId:1235,text:"Танки нового поколения"},{id:1237,parentId:1235,text:"БМП и БТР модернизация"},{id:1238,parentId:1235,text:"Артиллерийские системы"},{id:1239,parentId:1235,text:"Системы залпового огня"},{id:1240,parentId:1235,text:"Боевые вертолеты"},{id:1241,parentId:1235,text:"Истребители 5-го поколения"},{id:1242,parentId:1235,text:"Беспилотные комплексы разведки"},{id:1243,parentId:1235,text:"Военные корабли новых проектов"},{id:1244,parentId:1225,text:"Системы управления войсками"},{id:1245,parentId:1244,text:"Цифровизация управления войсками"},{id:1246,parentId:1244,text:"Системы связи и разведки"},{id:1247,parentId:1244,text:"Спутниковая навигация ГЛОНАСС"},{id:1248,parentId:1244,text:"Разведывательные спутники"},{id:1249,parentId:1244,text:"Системы радиоэлектронной борьбы"},{id:1250,parentId:1244,text:"Защищенная связь"},{id:1251,parentId:1244,text:"Автоматизированные системы управления"},{id:1252,parentId:1244,text:"Искусственный интеллект в военных целях"},{id:1253,parentId:1225,text:"Защита критической инфраструктуры"},{id:1254,parentId:1253,text:"Системы обнаружения вторжений IDS/IPS"},{id:1255,parentId:1253,text:"Межсетевые экраны"},{id:1256,parentId:1253,text:"SIEM системы"},{id:1257,parentId:1253,text:"Антивирусная защита"},{id:1258,parentId:1253,text:"Защита от DDoS атак"},{id:1259,parentId:1253,text:"Анализ защищенности и пентесты"},{id:1260,parentId:1253,text:"Центры реагирования на инциденты (SOC)"},{id:1261,parentId:1253,text:"Мониторинг киберугроз"},{id:1262,parentId:1225,text:"Защита государственных информационных систем"},{id:1263,parentId:1262,text:"Отечественные ОС и ПО"},{id:1264,parentId:1262,text:"Криптография и шифрование"},{id:1265,parentId:1262,text:"Электронная подпись"},{id:1266,parentId:1262,text:"Защищенные каналы связи VPN"},{id:1267,parentId:1262,text:"Контроль доступа и аутентификация"},{id:1268,parentId:1262,text:"Резервное копирование данных"},{id:1269,parentId:1262,text:"Системы предотвращения утечек DLP"},{id:1270,parentId:1262,text:"Аудит информационной безопасности"},{id:1271,parentId:1225,text:"Противодействие кибератакам"},{id:1272,parentId:1271,text:"Threat Intelligence платформы"},{id:1273,parentId:1271,text:"Sandbox для анализа вредоносов"},{id:1274,parentId:1271,text:"Honeypot системы-ловушки"},{id:1275,parentId:1271,text:"Форензика и расследование инцидентов"},{id:1276,parentId:1271,text:"Обнаружение APT атак"},{id:1277,parentId:1271,text:"Защита от программ-вымогателей"},{id:1278,parentId:1271,text:"Threat Hunting проактивный поиск"},{id:1279,parentId:1271,text:"Кибердружины и CERT команды"},{id:1280,parentId:1225,text:"Безопасность промышленных систем"},{id:1281,parentId:1280,text:"Защита АСУТП"},{id:1282,parentId:1280,text:"Сегментация промышленных сетей"},{id:1283,parentId:1280,text:"Мониторинг ICS/SCADA систем"},{id:1284,parentId:1280,text:"Защита IoT устройств"},{id:1285,parentId:1280,text:"Безопасность industrial IoT"},{id:1286,parentId:1280,text:"Обновление устаревшего ПО"},{id:1287,parentId:1280,text:"Физическая безопасность объектов"},{id:1288,parentId:1280,text:"Обучение персонала кибербезопасности"},{id:1289,parentId:1225,text:"Противодействие дезинформации"},{id:1290,parentId:1289,text:"Мониторинг социальных сетей"},{id:1291,parentId:1289,text:"Детектирование фейковых новостей"},{id:1292,parentId:1289,text:"Системы fact-checking"},{id:1293,parentId:1289,text:"Анализ информационных операций"},{id:1294,parentId:1289,text:"Противодействие ботам и троллям"},{id:1295,parentId:1289,text:"Верификация источников информации"},{id:1296,parentId:1289,text:"Медиаграмотность населения"},{id:1297,parentId:1289,text:"Платформы проверки фактов"},{id:1298,parentId:1225,text:"Защита персональных данных"},{id:1299,parentId:1298,text:"Шифрование персданных"},{id:1300,parentId:1298,text:"Анонимизация данных"},{id:1301,parentId:1298,text:"Контроль обработки персданных"},{id:1302,parentId:1298,text:"Системы управления согласиями"},{id:1303,parentId:1298,text:"Право на забвение"},{id:1304,parentId:1298,text:"Аудит обработки персданных"},{id:1305,parentId:1298,text:"Privacy by Design подход"},{id:1306,parentId:1298,text:"Соответствие законодательству о персданных"},{id:1307,parentId:1225,text:"Противодействие терроризму"},{id:1308,parentId:1307,text:"Системы видеонаблюдения и распознавания лиц"},{id:1309,parentId:1307,text:"Контроль въезда и выезда"},{id:1310,parentId:1307,text:"Досмотровое оборудование"},{id:1311,parentId:1307,text:"Детекторы взрывчатых веществ"},{id:1312,parentId:1307,text:"Рентгеновские сканеры"},{id:1313,parentId:1307,text:"Оперативно-розыскная деятельность"},{id:1314,parentId:1307,text:"Мониторинг подозрительной активности"},{id:1315,parentId:1307,text:"Межведомственное взаимодействие"},{id:1316,parentId:1225,text:"Борьба с экстремизмом в сети"},{id:1317,parentId:1316,text:"Блокировка экстремистского контента"},{id:1318,parentId:1316,text:"Мониторинг радикальных групп"},{id:1319,parentId:1316,text:"Профилактика экстремизма"},{id:1320,parentId:1316,text:"Контроль мессенджеров"},{id:1321,parentId:1316,text:"Анализ радикализации"},{id:1322,parentId:1316,text:"Программы дерадикализации"},{id:1323,parentId:1316,text:"Взаимодействие с соцсетями"},{id:1324,parentId:1316,text:"Контрпропаганда"},{id:1325,parentId:1225,text:"Защита массовых мероприятий"},{id:1326,parentId:1325,text:"Системы контроля доступа"},{id:1327,parentId:1325,text:"Периметральная охрана"},{id:1328,parentId:1325,text:"Контроль дронов и БПЛА"},{id:1329,parentId:1325,text:"Системы оповещения"},{id:1330,parentId:1325,text:"Эвакуационные планы"},{id:1331,parentId:1325,text:"Кинологические службы"},{id:1332,parentId:1325,text:"Координация служб безопасности"},{id:1333,parentId:1325,text:"Анти-снайперские системы"},{id:1334,parentId:1225,text:"Противодействие санкциям"},{id:1335,parentId:1334,text:"Параллельный импорт"},{id:1336,parentId:1334,text:"Переориентация экспорта"},{id:1337,parentId:1334,text:"Импортозамещение критических товаров"},{id:1338,parentId:1334,text:"Альтернативные платежные системы"},{id:1339,parentId:1334,text:"Расчеты в национальных валютах"},{id:1340,parentId:1334,text:"Диверсификация торговых партнеров"},{id:1341,parentId:1334,text:"Создание запасов критических товаров"},{id:1342,parentId:1334,text:"Логистические обходные пути"},{id:1343,parentId:1225,text:"Финансовая безопасность"},{id:1344,parentId:1343,text:"Защита от отключения SWIFT"},{id:1345,parentId:1343,text:"Система передачи финансовых сообщений СПФС"},{id:1346,parentId:1343,text:"Национальная платежная система МИР"},{id:1347,parentId:1343,text:"Валютные резервы и их диверсификация"},{id:1348,parentId:1343,text:"Золотовалютные запасы"},{id:1349,parentId:1343,text:"Контроль капитала"},{id:1350,parentId:1343,text:"Противодействие оттоку капитала"},{id:1351,parentId:1343,text:"Финансовый мониторинг"},{id:1352,parentId:1225,text:"Борьба с отмыванием денег"},{id:1353,parentId:1352,text:"ПОД/ФТ системы"},{id:1354,parentId:1352,text:"Мониторинг подозрительных операций"},{id:1355,parentId:1352,text:"Know Your Customer (KYC)"},{id:1356,parentId:1352,text:"Контроль криптовалют"},{id:1357,parentId:1352,text:"Реестр бенефициаров"},{id:1358,parentId:1352,text:"Анализ финансовых потоков"},{id:1359,parentId:1352,text:"Международное сотрудничество FATF"},{id:1360,parentId:1352,text:"Заморозка активов"},{id:1361,parentId:1225,text:"Биологическая безопасность"},{id:1362,parentId:1361,text:"Системы мониторинга эпидемий"},{id:1363,parentId:1361,text:"Лаборатории биологической защиты"},{id:1364,parentId:1361,text:"Детектирование биоугроз"},{id:1365,parentId:1361,text:"Средства индивидуальной защиты"},{id:1366,parentId:1361,text:"Вакцинация населения"},{id:1367,parentId:1361,text:"Карантинные меры"},{id:1368,parentId:1361,text:"Дезинфекция и санобработка"},{id:1369,parentId:1361,text:"Системы раннего предупреждения"},{id:1370,parentId:1225,text:"Противодействие биотерроризму"},{id:1371,parentId:1370,text:"Контроль биологических лабораторий"},{id:1372,parentId:1370,text:"Учет опасных патогенов"},{id:1373,parentId:1370,text:"Защита систем водоснабжения"},{id:1374,parentId:1370,text:"Экспресс-диагностика биоагентов"},{id:1375,parentId:1370,text:"Антибиотики и антидоты"},{id:1376,parentId:1370,text:"Планы реагирования на биоугрозы"},{id:1377,parentId:1370,text:"Координация медслужб"},{id:1378,parentId:1370,text:"Международное сотрудничество по биобезопасности"},{id:1379,parentId:1225,text:"Промышленная безопасность"},{id:1380,parentId:1379,text:"Контроль опасных производств"},{id:1381,parentId:1379,text:"Системы предупреждения аварий"},{id:1382,parentId:1379,text:"Диагностика оборудования"},{id:1383,parentId:1379,text:"Системы автоматического отключения"},{id:1384,parentId:1379,text:"Противоаварийная защита"},{id:1385,parentId:1379,text:"Обучение персонала безопасности"},{id:1386,parentId:1379,text:"Планы ликвидации аварий"},{id:1387,parentId:1379,text:"Страхование техногенных рисков"},{id:1388,parentId:1225,text:"Радиационная безопасность"},{id:1389,parentId:1388,text:"Мониторинг радиационного фона"},{id:1390,parentId:1388,text:"Контроль ядерных объектов"},{id:1391,parentId:1388,text:"Учет радиоактивных материалов"},{id:1392,parentId:1388,text:"Системы радиационной защиты"},{id:1393,parentId:1388,text:"Дозиметрия и радиометрия"},{id:1394,parentId:1388,text:"Утилизация радиоактивных отходов"},{id:1395,parentId:1388,text:"Защита при радиационных авариях"},{id:1396,parentId:1388,text:"Оповещение населения"},{id:1397,parentId:1225,text:"Химическая безопасность"},{id:1398,parentId:1397,text:"Контроль химических производств"},{id:1399,parentId:1397,text:"Детектирование опасных веществ"},{id:1400,parentId:1397,text:"Системы газоанализа"},{id:1401,parentId:1397,text:"Средства химзащиты"},{id:1402,parentId:1397,text:"Дегазация и нейтрализация"},{id:1403,parentId:1397,text:"Учет опасных химвеществ"},{id:1404,parentId:1397,text:"Планы химической защиты"},{id:1405,parentId:1397,text:"Обучение действиям при химавариях"},{id:1406,parentId:1225,text:"Системы предупреждения ЧС"},{id:1407,parentId:1406,text:"Метеорологический мониторинг"},{id:1408,parentId:1406,text:"Сейсмологические сети"},{id:1409,parentId:1406,text:"Гидрологические наблюдения"},{id:1410,parentId:1406,text:"Системы раннего оповещения"},{id:1411,parentId:1406,text:"Прогнозирование стихийных бедствий"},{id:1412,parentId:1406,text:"Мониторинг лесных пожаров"},{id:1413,parentId:1406,text:"Космический мониторинг ЧС"},{id:1414,parentId:1406,text:"Моделирование природных катастроф"},{id:1415,parentId:1225,text:"Ликвидация последствий ЧС"},{id:1416,parentId:1415,text:"Аварийно-спасательные формирования"},{id:1417,parentId:1415,text:"Спасательная техника и оборудование"},{id:1418,parentId:1415,text:"Системы жизнеобеспечения пострадавших"},{id:1419,parentId:1415,text:"Эвакуация населения"},{id:1420,parentId:1415,text:"Мобильные госпитали"},{id:1421,parentId:1415,text:"Резервы материальных ресурсов"},{id:1422,parentId:1415,text:"Восстановление инфраструктуры"},{id:1423,parentId:1415,text:"Координация служб ЧС"},{id:1424,parentId:null,text:"Необходимость эффективного освоения и использования пространства"},{id:1425,parentId:1424,text:"Развитие отечественной космической группировки спутников связи и навигации"},{id:1426,parentId:1425,text:"Технологии создания спутников связи Ka/Ku диапазонов"},{id:1427,parentId:1425,text:"Технологии навигационных спутниковых систем ГЛОНАСС"},{id:1428,parentId:1425,text:"Технологии гиперспектральной съемки Земли"},{id:1429,parentId:1425,text:"Технологии создания малых космических аппаратов (SmallSat/CubeSat)"},{id:1430,parentId:1425,text:"Технологии ионных электрореактивных двигателей для спутников"},{id:1431,parentId:1425,text:"Технологии солнечных батарей для космических аппаратов"},{id:1432,parentId:1425,text:"Технологии тепловой защиты и терморегулирования спутников"},{id:1433,parentId:1425,text:"Технологии бортовых вычислительных систем спутников"},{id:1434,parentId:1425,text:"Технологии межспутниковой лазерной связи"},{id:1435,parentId:1425,text:"Технологии защиты спутников от космического мусора"},{id:1436,parentId:1424,text:"Развитие космического приборостроения и создание научных аппаратов"},{id:1437,parentId:1436,text:"Технологии создания инфракрасных сенсоров для космоса"},{id:1438,parentId:1436,text:"Технологии радиолокационных систем с синтезированной апертурой (SAR)"},{id:1439,parentId:1436,text:"Технологии оптико-электронных систем высокого разрешения"},{id:1440,parentId:1436,text:"Технологии создания звездных датчиков ориентации"},{id:1441,parentId:1436,text:"Технологии гироскопических систем для космоса"},{id:1442,parentId:1436,text:"Технологии научных приборов для исследования космической плазмы"},{id:1443,parentId:1436,text:"Технологии спектрометров для анализа атмосфер планет"},{id:1444,parentId:1436,text:"Технологии магнитометров и детекторов космических лучей"},{id:1445,parentId:1436,text:"Технологии микроэлектроники с радиационной стойкостью"},{id:1446,parentId:1436,text:"Технологии калибровки и юстировки космических приборов"},{id:1447,parentId:1424,text:"Создание перспективных систем выведения грузов на орбиту"},{id:1448,parentId:1447,text:"Технологии создания жидкостных ракетных двигателей"},{id:1449,parentId:1447,text:"Технологии создания твердотопливных ракетных двигателей"},{id:1450,parentId:1447,text:"Технологии многоразовых ракетных ступеней"},{id:1451,parentId:1447,text:"Технологии композитных материалов для ракетных конструкций"},{id:1452,parentId:1447,text:"Технологии криогенных топливных баков"},{id:1453,parentId:1447,text:"Технологии систем управления и телеметрии ракет"},{id:1454,parentId:1447,text:"Технологии аэродинамических обтекателей головных частей"},{id:1455,parentId:1447,text:"Технологии разгонных блоков и орбитальных буксиров"},{id:1456,parentId:1447,text:"Технологии испытательных стендов для ракетных двигателей"},{id:1457,parentId:1447,text:"Технологии наземных стартовых комплексов"},{id:1458,parentId:1424,text:"Развитие пилотируемой космонавтики и орбитальных станций"},{id:1459,parentId:1458,text:"Технологии создания пилотируемых космических кораблей"},{id:1460,parentId:1458,text:"Технологии систем жизнеобеспечения на орбите"},{id:1461,parentId:1458,text:"Технологии модулей орбитальных станций"},{id:1462,parentId:1458,text:"Технологии систем стыковки космических аппаратов"},{id:1463,parentId:1458,text:"Технологии скафандров для открытого космоса"},{id:1464,parentId:1458,text:"Технологии медицинского обеспечения длительных полетов"},{id:1465,parentId:1458,text:"Технологии противодействия факторам космического полета"},{id:1466,parentId:1458,text:"Технологии тренажеров и подготовки космонавтов"},{id:1467,parentId:1458,text:"Технологии спускаемых аппаратов и парашютных систем"},{id:1468,parentId:1458,text:"Технологии систем аварийного спасения экипажа"},{id:1469,parentId:1424,text:"Создание систем космического мониторинга природных ресурсов и ЧС"},{id:1470,parentId:1469,text:"Технологии обнаружения лесных пожаров из космоса"},{id:1471,parentId:1469,text:"Технологии мониторинга паводков и наводнений"},{id:1472,parentId:1469,text:"Технологии контроля состояния лесов и растительности"},{id:1473,parentId:1469,text:"Технологии мониторинга сельскохозяйственных угодий"},{id:1474,parentId:1469,text:"Технологии обнаружения незаконной вырубки леса"},{id:1475,parentId:1469,text:"Технологии мониторинга загрязнения водоемов"},{id:1476,parentId:1469,text:"Технологии обработки больших данных ДЗЗ в реальном времени"},{id:1477,parentId:1469,text:"Технологии геоинформационных систем для анализа данных ДЗЗ"},{id:1478,parentId:1469,text:"Технологии искусственного интеллекта для распознавания объектов"},{id:1479,parentId:1469,text:"Технологии мобильных приложений для доступа к данным мониторинга"},{id:1480,parentId:1424,text:"Развитие космической метеорологии и климатического мониторинга"},{id:1481,parentId:1480,text:"Технологии гидрометеорологических спутников"},{id:1482,parentId:1480,text:"Технологии микроволновых радиометров для метеонаблюдений"},{id:1483,parentId:1480,text:"Технологии лидаров для изучения атмосферы"},{id:1484,parentId:1480,text:"Технологии мониторинга озонового слоя из космоса"},{id:1485,parentId:1480,text:"Технологии измерения парниковых газов со спутников"},{id:1486,parentId:1480,text:"Технологии численного моделирования климата"},{id:1487,parentId:1480,text:"Технологии ассимиляции спутниковых данных в метеомоделях"},{id:1488,parentId:1480,text:"Технологии мониторинга облачности и осадков"},{id:1489,parentId:1480,text:"Технологии измерения альбедо Земли и радиационного баланса"},{id:1490,parentId:1480,text:"Технологии долгосрочного хранения и анализа климатических данных"},{id:1491,parentId:1424,text:"Разработка технологий добычи и использования космических ресурсов"},{id:1492,parentId:1491,text:"Технологии разведки полезных ископаемых на астероидах"},{id:1493,parentId:1491,text:"Технологии добычи воды на Луне и астероидах"},{id:1494,parentId:1491,text:"Технологии переработки лунного реголита"},{id:1495,parentId:1491,text:"Технологии автоматической добычи в условиях микрогравитации"},{id:1496,parentId:1491,text:"Технологии производства топлива из космических ресурсов"},{id:1497,parentId:1491,text:"Технологии 3D-печати конструкций из внеземных материалов"},{id:1498,parentId:1491,text:"Технологии межорбитальной транспортировки ресурсов"},{id:1499,parentId:1491,text:"Технологии оценки экономической эффективности космической добычи"},{id:1500,parentId:1491,text:"Технологии правового регулирования космической добычи"},{id:1501,parentId:1491,text:"Технологии экологической безопасности космической добычи"},{id:1502,parentId:1424,text:"Создание систем противокосмической обороны"},{id:1503,parentId:1502,text:"Технологии обнаружения и каталогизации космического мусора"},{id:1504,parentId:1502,text:"Технологии прогнозирования сближений спутников с мусором"},{id:1505,parentId:1502,text:"Технологии увода спутников с орбиты в конце срока службы"},{id:1506,parentId:1502,text:"Технологии активного удаления крупного космического мусора"},{id:1507,parentId:1502,text:"Технологии защиты спутников от столкновений"},{id:1508,parentId:1502,text:"Технологии обнаружения опасных астероидов и комет"},{id:1509,parentId:1502,text:"Технологии отклонения потенциально опасных астероидов"},{id:1510,parentId:1502,text:"Технологии космической ситуационной осведомленности"},{id:1511,parentId:1502,text:"Технологии международного обмена данными о космических угрозах"},{id:1512,parentId:1502,text:"Технологии стандартов устойчивости космической деятельности"},{id:1513,parentId:1424,text:"Развитие наземной космической инфраструктуры"},{id:1514,parentId:1513,text:"Технологии современных космодромов и стартовых комплексов"},{id:1515,parentId:1513,text:"Технологии заправки ракет криогенными компонентами"},{id:1516,parentId:1513,text:"Технологии центров управления полетами"},{id:1517,parentId:1513,text:"Технологии наземных станций приема спутниковой информации"},{id:1518,parentId:1513,text:"Технологии сетей наземных измерительных пунктов"},{id:1519,parentId:1513,text:"Технологии точного времени и частоты для космических систем"},{id:1520,parentId:1513,text:"Технологии сборочно-испытательных корпусов"},{id:1521,parentId:1513,text:"Технологии хранилищ космической техники и компонентов топлива"},{id:1522,parentId:1513,text:"Технологии систем обеспечения безопасности космодромов"},{id:1523,parentId:1513,text:"Технологии транспортной логистики крупногабаритных грузов"},{id:1524,parentId:1424,text:"Коммерциализация космической деятельности и космический туризм"},{id:1525,parentId:1524,text:"Технологии создания спутников связи Ka/Ku диапазонов"},{id:1526,parentId:1524,text:"Технологии навигационных спутниковых систем ГЛОНАСС"},{id:1527,parentId:1524,text:"Технологии гиперспектральной съемки Земли"},{id:1528,parentId:1524,text:"Технологии создания малых космических аппаратов (SmallSat/CubeSat)"},{id:1529,parentId:1524,text:"Технологии ионных электрореактивных двигателей для спутников"},{id:1530,parentId:1524,text:"Технологии солнечных батарей для космических аппаратов"},{id:1531,parentId:1524,text:"Технологии тепловой защиты и терморегулирования спутников"},{id:1532,parentId:1524,text:"Технологии бортовых вычислительных систем спутников"},{id:1533,parentId:1524,text:"Технологии межспутниковой лазерной связи"},{id:1534,parentId:1524,text:"Технологии защиты спутников от космического мусора"},{id:1535,parentId:1424,text:"Развитие гражданской авиации и создание конкурентоспособных воздушных судов"},{id:1536,parentId:1535,text:"Технологии проектирования аэродинамических компоновок самолетов"},{id:1537,parentId:1535,text:"Технологии композитных авиационных конструкций"},{id:1538,parentId:1535,text:"Технологии цифрового проектирования самолетов (CAD/CAE/PLM)"},{id:1539,parentId:1535,text:"Технологии интегрированных систем авионики"},{id:1540,parentId:1535,text:"Технологии fly-by-wire систем управления"},{id:1541,parentId:1535,text:"Технологии комфортабельных пассажирских салонов"},{id:1542,parentId:1535,text:"Технологии топливоэффективных крыльев с winglets"},{id:1543,parentId:1535,text:"Технологии систем предупреждения столкновений (TCAS)"},{id:1544,parentId:1535,text:"Технологии адаптивных шасси для разных условий эксплуатации"},{id:1545,parentId:1535,text:"Технологии сертификации гражданских воздушных судов"},{id:1546,parentId:1424,text:"Развитие региональной авиации и авиации малой вместимости"},{id:1547,parentId:1546,text:"Технологии самолетов короткого взлета и посадки (STOL)"},{id:1548,parentId:1546,text:"Технологии турбовинтовых двигателей малой мощности"},{id:1549,parentId:1546,text:"Технологии всепогодной авионики для малой авиации"},{id:1550,parentId:1546,text:"Технологии многоцелевых вертолетов средней грузоподъемности"},{id:1551,parentId:1546,text:"Технологии легких многоцелевых самолетов"},{id:1552,parentId:1546,text:"Технологии поплавковых и амфибийных шасси"},{id:1553,parentId:1546,text:"Технологии упрощенного наземного обслуживания в полевых условиях"},{id:1554,parentId:1546,text:"Технологии адаптации к экстремальным климатическим условиям"},{id:1555,parentId:1546,text:"Технологии экономичных бизнес-моделей региональных перевозок"},{id:1556,parentId:1546,text:"Технологии подготовки пилотов региональной авиации"},{id:1557,parentId:1424,text:"Развитие авиационного двигателестроения"},{id:1558,parentId:1557,text:"Технологии турбовентиляторных двигателей высокой степени двухконтурности"},{id:1559,parentId:1557,text:"Технологии монокристаллических лопаток турбин"},{id:1560,parentId:1557,text:"Технологии керамических матричных композитов для двигателей"},{id:1561,parentId:1557,text:"Технологии аддитивного производства деталей двигателей"},{id:1562,parentId:1557,text:"Технологии систем полномочного цифрового управления двигателем (FADEC)"},{id:1563,parentId:1557,text:"Технологии снижения шума авиационных двигателей"},{id:1564,parentId:1557,text:"Технологии снижения эмиссии вредных веществ"},{id:1565,parentId:1557,text:"Технологии защитных покрытий лопаток турбин"},{id:1566,parentId:1557,text:"Технологии систем диагностики состояния двигателя"},{id:1567,parentId:1557,text:"Технологии испытаний и сертификации авиадвигателей"},{id:1568,parentId:1424,text:"Создание беспилотных авиационных систем гражданского назначения"},{id:1569,parentId:1568,text:"Технологии автономной навигации БПЛА"},{id:1570,parentId:1568,text:"Технологии автопилотов и систем стабилизации"},{id:1571,parentId:1568,text:"Технологии аэрофотосъемки и фотограмметрии с БПЛА"},{id:1572,parentId:1568,text:"Технологии доставки грузов дронами"},{id:1573,parentId:1568,text:"Технологии сельскохозяйственных БПЛА (опрыскивание, мониторинг)"},{id:1574,parentId:1568,text:"Технологии инспекционных БПЛА для инфраструктуры"},{id:1575,parentId:1568,text:"Технологии долгого полета и гибридных силовых установок БПЛА"},{id:1576,parentId:1568,text:"Технологии обнаружения и предотвращения столкновений БПЛА"},{id:1577,parentId:1568,text:"Технологии роевого управления группами БПЛА"},{id:1578,parentId:1568,text:"Технологии регулирования и интеграции БПЛА в воздушное пространство"},{id:1579,parentId:1424,text:"Развитие систем управления воздушным движением"},{id:1580,parentId:1579,text:"Технологии автоматизированных систем УВД нового поколения"},{id:1581,parentId:1579,text:"Технологии ADS-B (автоматического зависимого наблюдения)"},{id:1582,parentId:1579,text:"Технологии систем предупреждения столкновений на земле (A-SMGCS)"},{id:1583,parentId:1579,text:"Технологии голосовой и цифровой связи диспетчер-экипаж"},{id:1584,parentId:1579,text:"Технологии систем точного захода на посадку"},{id:1585,parentId:1579,text:"Технологии прогнозирования и управления потоками воздушного движения"},{id:1586,parentId:1579,text:"Технологии метеорологической поддержки УВД"},{id:1587,parentId:1579,text:"Технологии киберзащиты систем УВД"},{id:1588,parentId:1579,text:"Технологии симуляторов и тренажеров для диспетчеров"},{id:1589,parentId:1579,text:"Технологии удаленных диспетчерских вышек (Remote Tower)"},{id:1590,parentId:1424,text:"Модернизация аэропортовой инфраструктуры"},{id:1591,parentId:1590,text:"Технологии умных терминалов и биометрической идентификации"},{id:1592,parentId:1590,text:"Технологии автоматизированной обработки багажа"},{id:1593,parentId:1590,text:"Технологии систем безопасности и досмотра в аэропортах"},{id:1594,parentId:1590,text:"Технологии заправки самолетов и топливных комплексов"},{id:1595,parentId:1590,text:"Технологии наземного обслуживания воздушных судов"},{id:1596,parentId:1590,text:"Технологии энергоэффективного освещения ВПП и перронов"},{id:1597,parentId:1590,text:"Технологии всепогодного содержания аэродромов"},{id:1598,parentId:1590,text:"Технологии телетрапов и систем стыковки с самолетами"},{id:1599,parentId:1590,text:"Технологии грузовых терминалов и складов"},{id:1600,parentId:1590,text:"Технологии экологической устойчивости аэропортов"},{id:1601,parentId:1424,text:"Развитие вертолетостроения для специальных задач"},{id:1602,parentId:1601,text:"Технологии санитарных вертолетов с медицинским оборудованием"},{id:1603,parentId:1601,text:"Технологии поисково-спасательных вертолетов"},{id:1604,parentId:1601,text:"Технологии пожарных вертолетов с водосливными устройствами"},{id:1605,parentId:1601,text:"Технологии вертолетов для работы в горах и высокогорье"},{id:1606,parentId:1601,text:"Технологии вертолетов с убирающимся шасси для высоких скоростей"},{id:1607,parentId:1601,text:"Технологии соосных несущих винтов"},{id:1608,parentId:1601,text:"Технологии композитных лопастей несущих винтов"},{id:1609,parentId:1601,text:"Технологии систем активного гашения вибраций вертолетов"},{id:1610,parentId:1601,text:"Технологии защиты вертолетов от обледенения"},{id:1611,parentId:1601,text:"Технологии авионики для полетов в сложных условиях"},{id:1612,parentId:1424,text:"Создание перспективных летательных аппаратов (дирижабли, экранопланы)"},{id:1613,parentId:1612,text:"Технологии современных дирижаблей с жестким каркасом"},{id:1614,parentId:1612,text:"Технологии гибридных дирижаблей (аэростаты с динамической подъемной силой)"},{id:1615,parentId:1612,text:"Технологии экранопланов нового поколения"},{id:1616,parentId:1612,text:"Технологии конвертопланов (tiltrotor)"},{id:1617,parentId:1612,text:"Технологии электрических воздушных такси (eVTOL)"},{id:1618,parentId:1612,text:"Технологии высотных псевдоспутников (HAPS)"},{id:1619,parentId:1612,text:"Технологии сверхзвуковой гражданской авиации"},{id:1620,parentId:1612,text:"Технологии гиперзвуковых транспортных систем"},{id:1621,parentId:1612,text:"Технологии самолетов с гибридными силовыми установками"},{id:1622,parentId:1612,text:"Технологии водородной авиации"},{id:1623,parentId:1424,text:"Развитие авиационной промышленности и производственных технологий"},{id:1624,parentId:1623,text:"Технологии цифровых двойников в авиастроении"},{id:1625,parentId:1623,text:"Технологии аддитивного производства титановых деталей"},{id:1626,parentId:1623,text:"Технологии автоматизированной выкладки композитных деталей"},{id:1627,parentId:1623,text:"Технологии лазерной сварки и обработки в авиастроении"},{id:1628,parentId:1623,text:"Технологии автоклавного формования крупногабаритных деталей"},{id:1629,parentId:1623,text:"Технологии неразрушающего контроля авиаконструкций"},{id:1630,parentId:1623,text:"Технологии роботизированных сборочных линий самолетов"},{id:1631,parentId:1623,text:"Технологии управления цепочками поставок в авиапроме"},{id:1632,parentId:1623,text:"Технологии испытательных стендов для авиаконструкций"},{id:1633,parentId:1623,text:"Технологии специальной оснастки и инструмента"},{id:1634,parentId:1424,text:"Подготовка авиационных специалистов и летного состава"},{id:1635,parentId:1634,text:"Технологии проектирования аэродинамических компоновок самолетов"},{id:1636,parentId:1634,text:"Технологии композитных авиационных конструкций"},{id:1637,parentId:1634,text:"Технологии цифрового проектирования самолетов (CAD/CAE/PLM)"},{id:1638,parentId:1634,text:"Технологии интегрированных систем авионики"},{id:1639,parentId:1634,text:"Технологии fly-by-wire систем управления"},{id:1640,parentId:1634,text:"Технологии комфортабельных пассажирских салонов"},{id:1641,parentId:1634,text:"Технологии топливоэффективных крыльев с winglets"},{id:1642,parentId:1634,text:"Технологии систем предупреждения столкновений (TCAS)"},{id:1643,parentId:1634,text:"Технологии адаптивных шасси для разных условий эксплуатации"},{id:1644,parentId:1634,text:"Технологии сертификации гражданских воздушных судов"}],n=[{id:2001,parentId:1,text:"Перестройка глобальных финансовых систем"},{id:2002,parentId:1,text:"Перестройка глобальных логистических систем"},{id:2003,parentId:1,text:"Перестройка глобальных производственных систем"},{id:2004,parentId:1,text:"Рост геополитической нестабильности"},{id:2005,parentId:1,text:"Рост экономической нестабильности"},{id:2006,parentId:1,text:"Рост международной конкуренции и конфликтности"},{id:2007,parentId:1,text:"Рост системного неравенства"},{id:2008,parentId:1,text:"Ослабление национальных государственных институтов"},{id:2009,parentId:1,text:"Снижение уровня международной кооперации в научно-технической сфере"},{id:2010,parentId:288,text:"Исчерпание экстенсивной эксплуатации сырьевых ресурсов"},{id:2011,parentId:288,text:"Формирование экономики данных"},{id:2012,parentId:288,text:"Ускоренное развитие искусственного интеллекта"},{id:2013,parentId:288,text:"Появление группы стран-лидеров с передовыми производственными технологиями"},{id:2014,parentId:288,text:"Переход на возобновляемые ресурсы"},{id:2015,parentId:479,text:"Снижение рождаемости"},{id:2016,parentId:479,text:"Увеличение продолжительности жизни"},{id:2017,parentId:479,text:"Старение населения"},{id:2018,parentId:479,text:"Изменение образа жизни"},{id:2019,parentId:479,text:"Новые социальные и медицинские проблемы"},{id:2020,parentId:667,text:"Угроза воспроизводству природных ресурсов"},{id:2021,parentId:667,text:"Рост рисков для жизни и здоровья"},{id:2022,parentId:667,text:"Изменение климата"},{id:2023,parentId:667,text:"Неэффективное использование природных ресурсов"},{id:2024,parentId:667,text:"Влияние последствий изменения климата на экономику"},{id:2025,parentId:849,text:"Продовольственная безопасность"},{id:2026,parentId:849,text:"Продовольственная независимость"},{id:2027,parentId:849,text:"Конкурентоспособность с/х продукции на мировых рынках"},{id:2028,parentId:849,text:"Снижение технологических рисков в АПК"},{id:2029,parentId:849,text:"Противодействие глобальному продовольственному кризису"},{id:2030,parentId:1051,text:"Рост значимости энерговооруженности экономики"},{id:2031,parentId:1051,text:"Наращивание объема выработки энергии"},{id:2032,parentId:1051,text:"Повышение эффективности передачи энергии"},{id:2033,parentId:1051,text:"Повышение эффективности использования энергии"},{id:2034,parentId:1225,text:"Военные угрозы"},{id:2035,parentId:1225,text:"Кибербезопасность"},{id:2036,parentId:1225,text:"Информационная безопасность"},{id:2037,parentId:1225,text:"Терроризм и экстремизм"},{id:2038,parentId:1225,text:"Экономические угрозы"},{id:2039,parentId:1225,text:"Биологические угрозы"},{id:2040,parentId:1225,text:"Техногенные угрозы"},{id:2041,parentId:1225,text:"Природные и климатические угрозы"},{id:2042,parentId:1424,text:"Освоение и использование космического пространства"},{id:2043,parentId:1424,text:"Освоение и использование воздушного пространства"},{id:2044,parentId:1424,text:"Преодоление диспропорций в социально-экономическом развитии территории страны"},{id:2045,parentId:1424,text:"Освоение и использование Мирового океана"},{id:2046,parentId:1424,text:"Освоение и использование Арктики"},{id:2047,parentId:1424,text:"Освоение и использование Антарктики"},{id:2048,parentId:1424,text:"Укрепление позиций в экономическом освоении пространств"},{id:2049,parentId:1424,text:"Укрепление позиций в научном освоении пространств"},{id:2050,parentId:1424,text:"Укрепление позиций в военном освоении пространств"}],s=[.015,.02,.04,.06,.1,.12,.15,.2,.25,.3,.35,.4,.45,.5,.7,1,2.2,3],o=s[4],l=s[0],p=s[s.length-1],h="#ffffff",x="#000000",I=[{stop:0,color:"rgba(0, 200, 255, 1)"},{stop:.3,color:"rgba(0, 200, 255, 0.8)"},{stop:.6,color:"rgba(0, 180, 255, 0.4)"},{stop:.8,color:"rgba(0, 160, 255, 0.15)"},{stop:1,color:"rgba(0, 160, 255, 0)"}];class c{setupLighting(){let t=new a.$p8(5765885,.6);this.scene.add(t);let e=new a.ZyN(0xaaccff,.8);e.position.set(200,200,200),this.scene.add(e);let i=new a.HiM(6075391,1,1e3);i.position.set(0,0,0),this.scene.add(i)}getScene(){return this.scene}add(t){this.scene.add(t)}remove(t){this.scene.remove(t)}constructor(){this.scene=new a.Z58,this.setupLighting()}}class m{getCamera(){return this.camera}updateAspect(t){this.camera.aspect=t,this.camera.updateProjectionMatrix()}getTarget(){return this.cameraTarget.clone()}getBaseDistance(){return this.baseDistance}panTarget(t){this.cameraTarget.add(t),this.updatePosition()}setZoom(t){let e=a.cj9.clamp(t,this.minZoom,this.maxZoom),i=s["0"],r=Math.abs(e-s["0"]);for(let t=0;t<s.length;t++){let a=Math.abs(e-s[t]);a<r&&(r=a,i=s[t],this.currentZoomIndex=t)}this.currentZoom=i,this.updatePosition()}getZoom(){return this.currentZoom}getCurrentZoomIndex(){let t=0,e=Math.abs(this.currentZoom-s["0"]);for(let i=1;i<s.length;i++){let a=Math.abs(this.currentZoom-s[i]);a<e&&(e=a,t=i)}return t}zoomIn(){this.currentZoomIndex=this.getCurrentZoomIndex(),this.currentZoomIndex<s.length-1&&(this.currentZoomIndex++,this.currentZoom=s[this.currentZoomIndex],this.updatePosition())}zoomOut(){this.currentZoomIndex=this.getCurrentZoomIndex(),this.currentZoomIndex>0&&(this.currentZoomIndex--,this.currentZoom=s[this.currentZoomIndex],this.updatePosition())}setMinZoom(t){let e=this.minZoom,i=Math.max(.001,t);this.minZoom=i,i<e?this.setZoom(s["0"]):this.currentZoom<this.minZoom&&this.setZoom(s["0"])}updatePosition(){let t=this.baseDistance/this.currentZoom,e=this.baseDirection.clone().multiplyScalar(t);this.camera.position.copy(this.cameraTarget).add(e),this.camera.lookAt(this.cameraTarget),this.camera.updateProjectionMatrix()}getVisibleSize(){let t=this.camera.position.distanceTo(this.cameraTarget),e=2*Math.tan(this.camera.fov*(Math.PI/180)/2)*t;return{width:e*this.camera.aspect,height:e}}getPanSpeed(t,e){let{width:i,height:a}=this.getVisibleSize();return{x:i/t,z:a/e}}updateFarPlane(t){this.camera.far=Math.max(1.5*t,1e5),this.camera.updateProjectionMatrix()}resetToInitialPosition(){this.cameraTarget.set(0,0,0),this.currentZoom=o,this.currentZoomIndex=6,this.updatePosition()}panTargetByDirection(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{width:i,height:r}=this.getVisibleSize(),d=window.innerWidth,n=window.innerHeight,s=i/d*e*10,o=r/n*e*10,l=new a.Pq0(0,1,0),p=this.baseDirection.clone(),h=new a.Pq0().crossVectors(p,l).normalize(),x=new a.Pq0().crossVectors(l,h).normalize(),I=new a.Pq0;switch(t){case"up":I.copy(x).multiplyScalar(-o);break;case"down":I.copy(x).multiplyScalar(o);break;case"left":I.copy(h).multiplyScalar(s);break;case"right":I.copy(h).multiplyScalar(-s);break;default:return}this.panTarget(I)}constructor(t){this.camera=new a.ubm(75,t,.1,5e4),this.baseDirection=new a.Pq0(0,800,1e3).normalize(),this.baseDistance=Math.sqrt(164e4),this.cameraTarget=new a.Pq0(0,0,0),this.minZoom=l,this.maxZoom=p,this.currentZoom=o,this.currentZoomIndex=s.indexOf(this.currentZoom),-1===this.currentZoomIndex&&(this.currentZoomIndex=5),this.updatePosition()}}var u=i(446);function g(){let t=new u.O,e=t.getDevice(),i=t.getOS();return"mobile"===e.type||"tablet"===e.type||!!["Android","iOS","Windows Phone","BlackBerry","Firefox OS"].includes(i.name)}class f{getRenderer(){return this.renderer}resize(t,e){this.renderer.setSize(t,e)}render(t,e){this.renderer.render(t,e)}dispose(){this.renderer.dispose()}constructor(t){this.renderer=new a.JeP({canvas:t,alpha:!0,antialias:!0}),this.renderer.outputColorSpace="srgb",this.renderer.toneMapping=4,this.renderer.toneMappingExposure=1,this.renderer.sortObjects=!0;const e=g()?1.5:2;this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,e)),this.resize(window.innerWidth,window.innerHeight)}}var y=i(467);class S{addUpdateCallback(t){this.updateCallbacks.push(t)}removeUpdateCallback(t){let e=this.updateCallbacks.indexOf(t);-1!==e&&this.updateCallbacks.splice(e,1)}start(){this.isRunning||(this.isRunning=!0,this.lastTime=performance.now(),this.tick())}stop(){this.isRunning=!1,null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}constructor(){(0,y._)(this,"tick",()=>{if(!this.isRunning)return;let t=performance.now(),e=(t-this.lastTime)/1e3;this.lastTime=t,this.updateCallbacks.forEach(t=>{t(e)}),this.animationFrameId=requestAnimationFrame(this.tick)}),this.isRunning=!1,this.animationFrameId=null,this.updateCallbacks=[],this.lastTime=0}}class v{setupEventListeners(){this.canvas.addEventListener("mousedown",this.handleMouseDown),this.canvas.addEventListener("mousemove",this.handleMouseMove),this.canvas.addEventListener("mouseup",this.handleMouseUp),this.canvas.addEventListener("mouseleave",this.handleMouseLeave),this.canvas.addEventListener("wheel",this.handleWheel),this.canvas.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.canvas.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.canvas.addEventListener("touchend",this.handleTouchEnd),this.canvas.addEventListener("touchcancel",this.handleTouchEnd)}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1,this.isDragging=!1,this.canvas.style.cursor="default"}dispose(){this.canvas.removeEventListener("mousedown",this.handleMouseDown),this.canvas.removeEventListener("mousemove",this.handleMouseMove),this.canvas.removeEventListener("mouseup",this.handleMouseUp),this.canvas.removeEventListener("mouseleave",this.handleMouseLeave),this.canvas.removeEventListener("wheel",this.handleWheel),this.canvas.removeEventListener("touchstart",this.handleTouchStart),this.canvas.removeEventListener("touchmove",this.handleTouchMove),this.canvas.removeEventListener("touchend",this.handleTouchEnd),this.canvas.removeEventListener("touchcancel",this.handleTouchEnd)}constructor(t,e,i,r){(0,y._)(this,"handleMouseDown",t=>{0===t.button&&this.onNodeClickCheck&&this.onNodeClickCheck(t)||this.isEnabled&&0===t.button&&(this.isDragging=!0,this.previousMousePosition={x:t.clientX,y:t.clientY},this.canvas.style.cursor="grabbing")}),(0,y._)(this,"handleMouseMove",t=>{if(this.isEnabled&&this.isDragging){let e=t.clientX-this.previousMousePosition.x,i=t.clientY-this.previousMousePosition.y,r=this.cameraManager.getPanSpeed(this.canvas.clientWidth,this.canvas.clientHeight),d=new a.Pq0(-e*r.x,0,-i*r.z);this.cameraManager.panTarget(d),this.onCameraUpdate&&this.onCameraUpdate(),this.previousMousePosition={x:t.clientX,y:t.clientY}}}),(0,y._)(this,"handleMouseUp",()=>{this.isDragging=!1,this.canvas.style.cursor="default"}),(0,y._)(this,"handleMouseLeave",()=>{this.isDragging=!1,this.canvas.style.cursor="default"}),(0,y._)(this,"handleWheel",t=>{this.isEnabled&&(t.preventDefault(),t.deltaY<0?this.cameraManager.zoomIn():this.cameraManager.zoomOut())}),(0,y._)(this,"handleTouchStart",t=>{if(t.preventDefault(),this.touches=Array.from(t.touches),1===this.touches.length){let e=this.touches[0],i={button:0,clientX:e.clientX,clientY:e.clientY,target:t.target,preventDefault:()=>{},stopPropagation:()=>{}};if(this.onNodeClickCheck&&this.onNodeClickCheck(i))return}if(this.isEnabled){if(1===this.touches.length){let t=this.touches[0];this.isDragging=!0,this.previousMousePosition={x:t.clientX,y:t.clientY}}else if(2===this.touches.length){this.isDragging=!1;let t=this.touches[0],e=this.touches[1];this.previousTouchDistance=Math.hypot(e.clientX-t.clientX,e.clientY-t.clientY)}}}),(0,y._)(this,"handleTouchMove",t=>{if(this.isEnabled){if(t.preventDefault(),this.touches=Array.from(t.touches),1===this.touches.length&&this.isDragging){let t=this.touches[0],e=t.clientX-this.previousMousePosition.x,i=t.clientY-this.previousMousePosition.y,r=this.cameraManager.getPanSpeed(this.canvas.clientWidth,this.canvas.clientHeight),d=new a.Pq0(-e*r.x,0,-i*r.z);this.cameraManager.panTarget(d),this.onCameraUpdate&&this.onCameraUpdate(),this.previousMousePosition={x:t.clientX,y:t.clientY}}else if(2===this.touches.length){let t=this.touches[0],e=this.touches[1],i=Math.hypot(e.clientX-t.clientX,e.clientY-t.clientY);if(this.previousTouchDistance>0){let t=i-this.previousTouchDistance;t>5?this.cameraManager.zoomIn():t<-5&&this.cameraManager.zoomOut()}this.previousTouchDistance=i}}}),(0,y._)(this,"handleTouchEnd",t=>{this.isEnabled&&(this.isDragging=!1,this.previousTouchDistance=0,this.touches=[])}),this.canvas=t,this.cameraManager=e,this.onNodeClickCheck=i,this.onCameraUpdate=r,this.isDragging=!1,this.previousMousePosition={x:0,y:0},this.isEnabled=!0,this.previousTouchDistance=0,this.touches=[],this.setupEventListeners()}}class M{updateProgress(t){this.loadingBar&&(this.loadingBar.style.width=`${t}%`)}hide(){this.loadingScreen&&(this.loadingScreen.style.opacity="0",setTimeout(()=>{this.loadingScreen.style.display="none"},500))}show(){this.loadingScreen&&(this.loadingScreen.style.display="flex")}constructor(){this.loadingScreen=document.getElementById("loading-screen"),this.loadingBar=document.getElementById("loading-bar")}}class E{isAnimatingEnterMode(){return this.isAnimatingEnter}enter(t,e,i,r){this.isDetailMode=!0,this.detailModeNode=t,this.onStateChange&&this.onStateChange(!0,t),this.detailModeOriginalZoom=e,this.originalCameraPosition=i,this.originalCameraTarget=r,this.detailModeOriginalStates=[],this.detailModeOriginalObjectStates=new Map,this.treeGroups.forEach(t=>{this.detailModeOriginalStates.push({group:t,originalPosition:t.position.clone(),originalScale:t.scale.clone(),originalOpacity:t.children.length>0?t.children[0].material.opacity:1}),t.traverse(t=>{let e=t.visible;if(t.material)if(Array.isArray(t.material)){let i=t.material.map(t=>({opacity:t.opacity,transparent:t.transparent,depthTest:t.depthTest,depthWrite:t.depthWrite}));this.detailModeOriginalObjectStates.set(t,{materials:i,visible:e})}else this.detailModeOriginalObjectStates.set(t,{opacity:t.material.opacity,transparent:t.material.transparent,depthTest:t.material.depthTest,depthWrite:t.material.depthWrite,visible:e});else this.detailModeOriginalObjectStates.set(t,{visible:e});t instanceof a.kxk&&t.material instanceof a.RoJ&&this.detailModeOriginalObjectStates.set(t,{opacity:t.material.opacity,transparent:t.material.transparent,depthTest:t.material.depthTest,depthWrite:t.material.depthWrite,visible:e})})}),this.detailModeOriginalFireflyPositions=new Map;let d=t.node.id;this.fireflies.forEach(t=>{t.mesh&&t.nodeId===d&&t.nodePosition&&this.detailModeOriginalFireflyPositions.set(t,{position:t.nodePosition.clone(),orbitRadiusOffset:void 0!==t.orbitRadiusOffset?t.orbitRadiusOffset:t.originalOrbitRadius})}),this.disableZoomControls(),this.disableNavigationControls(),this.controls&&this.controls.disable(),this.createExitButton(),this.createRingRays(t),t.mesh&&(t.mesh.renderOrder=100,t.mesh.traverse(t=>{t instanceof a.DXC?t.renderOrder=200:(a.eaF,(void 0===t.renderOrder||t.renderOrder>=999)&&(t.renderOrder=100))})),t.neonRing&&(t.neonRing.renderOrder=200,t.neonRing.traverse(t=>{(void 0===t.renderOrder||t.renderOrder>=999)&&(t.renderOrder=200)})),t.textSprite&&this.updateNodeTextSpriteForDetailMode(t),this.hideAllGraphsExceptSelected(t),this.animateEnter(e,i,r)}exit(){this.transformWordsToFireflies(),this.animateZoomRestore(),setTimeout(()=>{this.animateNodeReturn()},500)}isActive(){return this.isDetailMode}getCurrentNode(){return this.detailModeNode}updateNodeScale(){if(!this.isDetailMode||!this.detailModeNode)return;let t=this.detailModeNode,e=this.calculateScale(t),i=(t.originalScale||new a.Pq0(1,1,1)).clone().multiplyScalar(e);if(t.mesh.scale.copy(i),t.textSprite&&t.originalSpriteScale){let i=t.originalSpriteScale.clone().multiplyScalar(e);t.textSprite.scale.copy(i)}}setScreenSizePercent(t){this.DETAIL_MODE_SCREEN_SIZE_PERCENT=t,this.isDetailMode&&this.updateNodeScale()}createExitButton(){let t=document.createElement("button");t.textContent="\xd7",t.className="zoom-btn detail-exit-btn";let e=g();t.style.position="fixed",e?(t.style.bottom="15px",t.style.left="15px",t.style.top="auto",t.style.right="auto"):(t.style.top="20px",t.style.right="20px",t.style.bottom="auto",t.style.left="auto"),t.style.zIndex="10000",t.style.width=e?"55px":"50px",t.style.height=e?"55px":"50px",t.style.fontSize=e?"36px":"32px",t.style.opacity="0",t.style.transition="all 0.3s ease-in-out",t.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.7)",t.style.background="linear-gradient(135deg, rgba(74, 144, 226, 0.9), rgba(123, 104, 238, 0.9))",t.style.border="2px solid rgba(255, 255, 255, 0.3)",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.lineHeight="1",t.style.color="white",t.addEventListener("click",()=>{this.exit()}),e||(t.addEventListener("mouseenter",()=>{t.style.background="linear-gradient(135deg, rgba(74, 144, 226, 1), rgba(123, 104, 238, 1))",t.style.transform="scale(1.1)",t.style.boxShadow="0 8px 25px rgba(74, 144, 226, 0.5)"}),t.addEventListener("mouseleave",()=>{t.style.background="linear-gradient(135deg, rgba(74, 144, 226, 0.9), rgba(123, 104, 238, 0.9))",t.style.transform="scale(1)",t.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.7)"})),document.body.appendChild(t),this.detailModeExitButton=t,setTimeout(()=>{t.style.opacity="1"},100)}createRingRays(t){if(!t.neonRing)return;let e=t.neonRing,i=e.geometry.parameters.radius,r=1.02*i,d=1.6*i,n=new a.LoY,s=[];for(let t=0;t<60;t++){let e=t/60*Math.PI*2,i=t%3==0?d:.7*d,a=Math.cos(e)*r,n=Math.sin(e)*r,o=Math.cos(e)*i,l=Math.sin(e)*i;s.push(a,n,0,o,l,0)}n.setAttribute("position",new a.qtW(s,3));let o=new a.mrM({color:0xccffff,transparent:!0,opacity:0,linewidth:1}),l=new a.DXC(n,o);l.renderOrder=200,l.position.copy(e.position),l.userData.targetOpacity=.6,l.userData.isRingRays=!0,this.scene.add(l),this.ringRays=l}hideAllGraphsExceptSelected(t){let e=t.mesh,i=t.textSprite,a=t.node.id,r=this.treeGroups.find(t=>{let i=!1;return t.traverse(t=>{t===e&&(i=!0)}),i});this.treeGroups.forEach(d=>{d===r?d.traverse(r=>{if(r===d)return;if(r===e||r===i){r.visible=!0,r.material&&(Array.isArray(r.material)?r.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(r.material.opacity=1,r.material.transparent=!1));return}if(r===t.neonRing||r.parent===t.neonRing||r===this.ringRays||r.parent===this.ringRays){r.visible=!0;return}if(this.fireflies.some(t=>t.mesh===r&&t.nodeId===a))return;let n=!1,s=r.parent;for(;s;){if(this.fireflies.some(t=>t.mesh===s&&t.nodeId===a)){n=!0;break}s=s.parent}if(n)return;let o=!1,l=r.parent;for(;l;){if(l===e){o=!0;break}l=l.parent}!o&&(r.visible=!1,r.material&&(Array.isArray(r.material)?r.material.forEach(t=>{t.opacity=0,t.transparent=!0}):(r.material.opacity=0,r.material.transparent=!0)))}):d.traverse(t=>{t!==d&&(t.visible=!1,t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.opacity=0,t.transparent=!0}):(t.material.opacity=0,t.material.transparent=!0)))})}),this.fireflies.forEach(t=>{t.mesh&&t.nodeId!==a&&(t.mesh.visible=!1,t.mesh.material&&(Array.isArray(t.mesh.material)?t.mesh.material.forEach(t=>{t.opacity=0,t.transparent=!0}):(t.mesh.material.opacity=0,t.mesh.material.transparent=!0)))})}animateEnter(t,e,i){this.isAnimatingEnter=!0;let r=Date.now(),d=1e3*this.DETAIL_MODE_ANIMATION_TIME,n=this.detailModeNode;!n.originalPosition&&n.mesh&&(n.originalPosition=n.mesh.position.clone()),!n.originalScale&&n.mesh&&(n.originalScale=n.mesh.scale.clone()),!n.originalSpriteScale&&n.textSprite&&(n.originalSpriteScale=n.textSprite.scale.clone());let s=this.treeGroups.find(t=>{let e=!1;return t.traverse(t=>{t===n.mesh&&(e=!0)}),e}),o=()=>{let e=Math.min((Date.now()-r)/d,1),i=this.easeInOut(e),l=n.mesh,p=n.textSprite,h=n.node.id;l.visible=!0,l.renderOrder=100,l.material&&(Array.isArray(l.material)?l.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(l.material.opacity=1,l.material.transparent=!1)),l.traverse(t=>{t.visible=!0,t instanceof a.DXC?t.renderOrder=200:t.userData&&t.userData.fireflyInstance?t.renderOrder=300:(a.eaF,(void 0===t.renderOrder||t.renderOrder>=999)&&(t.renderOrder=100)),t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.opacity=1,t.transparent=!1,void 0!==t.depthTest&&(t.depthTest=!0)}):(t.material.opacity=1,t.material.transparent=!1,void 0!==t.material.depthTest&&(t.material.depthTest=!0)))}),p&&(p.visible=e>=1,p.renderOrder=999,p.material&&(Array.isArray(p.material)?p.material.forEach(t=>{t.opacity=1,t.transparent=!0,t.depthTest=!1,t.depthWrite=!1,t.alphaTest=.1}):(p.material.opacity=1,p.material.transparent=!0,p.material.depthTest=!1,p.material.depthWrite=!1,p.material.alphaTest=.1))),n.neonRing&&(n.neonRing.visible=!0,(void 0===n.neonRing.renderOrder||n.neonRing.renderOrder>=999)&&(n.neonRing.renderOrder=200),n.neonRing.traverse(t=>{t.visible=!0,(void 0===t.renderOrder||t.renderOrder>=999)&&(t.renderOrder=200)})),this.fireflies.forEach(t=>{t.mesh&&t.nodeId===h&&(t.mesh.visible=!0,t.mesh.renderOrder=300,t.mesh.traverse(t=>{t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(t.material.opacity=1,t.material.transparent=!1))}))}),l.visible=!0,l.material&&(Array.isArray(l.material)?l.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(l.material.opacity=1,l.material.transparent=!1)),p&&(p.visible=e>=1,p.material&&(Array.isArray(p.material)?p.material.forEach(t=>{t.opacity=1,t.transparent=!0,t.depthTest=!1,t.depthWrite=!1,t.alphaTest=.1}):(p.material.opacity=1,p.material.transparent=!0,p.material.depthTest=!1,p.material.depthWrite=!1,p.material.alphaTest=.1))),l.traverse(t=>{t.visible=!0,t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(t.material.opacity=1,t.material.transparent=!1))}),n.neonRing&&(n.neonRing.visible=!0,n.neonRing.traverse(t=>{t.visible=!0})),s&&(s.visible=!0);let x=this.calculateScale(n),I=n.originalScale||n.mesh.scale.clone()||new a.Pq0(1,1,1),c=I.clone().multiplyScalar(x),m=I.clone().lerp(c,i);if(n.mesh.scale.copy(m),n.textSprite){let t=n.originalSpriteScale||n.textSprite.scale.clone(),e=t.clone().multiplyScalar(x);n.textSprite.scale.copy(t.clone().lerp(e,i))}let u=new a.Pq0(0,0,0),g=n.originalPosition||n.mesh.position.clone();n.mesh.position.copy(g.clone().lerp(u,i));let f=g.clone().lerp(u,i);m.x,m.y,m.z;let y=this.nodeMeshes.find(t=>t.node.id===h),S=y&&0===y.node.level?this.rootRadius:this.nodeRadius;if(this.fireflies.forEach(t=>{if(t.mesh&&t.nodeId===h&&this.detailModeOriginalFireflyPositions){let e=this.detailModeOriginalFireflyPositions.get(t);if(e){let r=new a.Pq0(0,0,0);t.nodePosition=g.clone().lerp(r,i),void 0!==e.orbitRadiusOffset&&(t.orbitRadiusOffset=e.orbitRadiusOffset);let d=void 0!==t.orbitRadiusOffset?t.orbitRadiusOffset:t.originalOrbitRadius||65,n=S*m.x+d,s=Math.cos(t.angle)*n,o=Math.sin(t.angle)*n;t.mesh.position.set(f.x+s,f.y+0,f.z+o)}}}),this.fireflies.forEach(t=>{t.mesh&&t.nodeId===h&&(t.mesh.visible=!0,!t.mesh.parent&&s&&s.add(t.mesh),t.mesh.traverse(t=>{t.visible=!0,t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(t.material.opacity=1,t.material.transparent=!1))}))}),0===e&&this.fireflies.forEach(t=>{t.mesh&&t.mesh.parent&&t.nodeId!==h&&t.mesh.parent.remove(t.mesh)}),n.neonRing&&(n.neonRingOriginalPosition||(n.neonRingOriginalPosition=n.neonRing.position.clone()),n.neonRing.position.copy(n.neonRingOriginalPosition.clone().lerp(u,i)),n.neonRing.scale.copy(m),n.neonRing.scale.multiplyScalar(1.05),this.neonRingRotationY=10*Math.PI/180*i),this.ringRays&&(this.ringRays.position.copy(u),this.ringRays.scale.copy(m),this.ringRays.scale.multiplyScalar(1.05),this.ringRays.material&&(this.ringRays.material.opacity=this.ringRays.userData.targetOpacity*i)),n.textSprite){let t=(0===n.node.level?this.rootRadius:this.nodeRadius)*m.x,e=Math.max(0,(m.x-1)*100);n.textSprite.position.set(0,t+250+e,0)}e>=.8&&0===this.detailModeActorLabels.length&&this.createActorLabels();let v=this.DETAIL_MODE_ZOOM,M=this.detailModeOriginalZoom||t,E=a.cj9.lerp(M,v,i);this.onZoomChange(E);let R=new a.Pq0(0,0,0);this.onCameraTargetChange(R),this.camera.lookAt(R),e<1?requestAnimationFrame(o):(this.isAnimatingEnter=!1,p&&(p.visible=!0),0===this.detailModeActorLabels.length&&this.createActorLabels(),this.transformFirefliesToWords(),this.onTextSizeUpdate&&this.onTextSizeUpdate(),this.detailModeNode&&this.detailModeNode.textSprite&&this.updateNodeTextSprite(this.detailModeNode))};o()}animateZoomRestore(){let t=Date.now(),e=1e3*this.DETAIL_MODE_ANIMATION_TIME,i=()=>{let r=Math.min((Date.now()-t)/e,1),d=this.easeInOut(r),n=this.detailModeOriginalZoom||this.DETAIL_MODE_ZOOM,s=this.DETAIL_MODE_ZOOM,o=a.cj9.lerp(s,n,d);this.onZoomChange(o),r<1&&requestAnimationFrame(i)};i()}animateNodeReturn(){let t=Date.now(),e=1e3*this.DETAIL_MODE_ANIMATION_TIME,i=this.detailModeNode;if(!i)return;let r=i.mesh,d=i.textSprite;d&&(d.visible=!1),r&&(r.visible=!0,r.material&&(Array.isArray(r.material)?r.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(r.material.opacity=1,r.material.transparent=!1)),r.traverse(t=>{t!==r&&(t.visible=!0,t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(t.material.opacity=1,t.material.transparent=!1)))}));let n=()=>{if(!i||!this.detailModeNode)return;let d=Math.min((Date.now()-t)/e,1),s=this.easeInOut(d),o=i.textSprite,l=this.treeGroups.find(t=>{let e=!1;return t.traverse(t=>{t===r&&(e=!0)}),e});if(l&&(l.visible=!0),r.visible=!0,r.material&&(Array.isArray(r.material)?r.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(r.material.opacity=1,r.material.transparent=!1)),r.traverse(t=>{t!==r&&(t.visible=!0,t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(t.material.opacity=1,t.material.transparent=!1)))}),o&&(o.visible=!0,o.material&&(o.material.opacity=1,o.material.transparent=!0,o.material.depthTest=!1,o.material.depthWrite=!1,o.material.alphaTest=.1)),i.neonRing&&(i.neonRing.visible=!0,i.neonRing.material&&(Array.isArray(i.neonRing.material)?i.neonRing.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(i.neonRing.material.opacity=1,i.neonRing.material.transparent=!1)),i.neonRing.traverse(t=>{t.visible=!0,t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(t.material.opacity=1,t.material.transparent=!1))})),this.ringRays&&(this.ringRays.visible=!1),d>=.8){let t=Math.min((d-.8)/.2,1);this.treeGroups.forEach(e=>{e.traverse(e=>{if(e===r||e===o||e===i.neonRing||e.parent===i.neonRing)return;let a=!1,d=e.parent;for(;d;){if(d===r){a=!0;break}d=d.parent}!a&&(e.visible=!0,e.material&&(Array.isArray(e.material)?e.material.forEach(e=>{e.opacity=t,e.transparent=t<1}):(e.material.opacity=t,e.material.transparent=t<1)))})}),this.fireflies.forEach(e=>{e.mesh&&(e.mesh.visible=!0,e.mesh.material&&(Array.isArray(e.mesh.material)?e.mesh.material.forEach(e=>{e.opacity=t,e.transparent=t<1}):(e.mesh.material.opacity=t,e.mesh.material.transparent=t<1)))})}else this.treeGroups.forEach(t=>{t.traverse(t=>{if(t===r||t===o||t===i.neonRing||t.parent===i.neonRing)return;let e=!1,a=t.parent;for(;a;){if(a===r){e=!0;break}a=a.parent}!e&&(t.visible=!1,t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.opacity=0,t.transparent=!0}):(t.material.opacity=0,t.material.transparent=!0)))})}),this.fireflies.forEach(t=>{t.mesh&&t.nodeId!==i.node.id&&(t.mesh.visible=!1,t.mesh.material&&(Array.isArray(t.mesh.material)?t.mesh.material.forEach(t=>{t.opacity=0,t.transparent=!0}):(t.mesh.material.opacity=0,t.mesh.material.transparent=!0)))});let p=r.parent;for(;p&&p!==this.scene;)p.visible=!0,p=p.parent;if(r.visible=!0,r.material&&(Array.isArray(r.material)?r.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(r.material.opacity=1,r.material.transparent=!1)),r.traverse(t=>{t!==r&&(t.visible=!0,t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(t.material.opacity=1,t.material.transparent=!1)))}),i.neonRing&&(i.neonRing.visible=!0,i.neonRing.material&&(Array.isArray(i.neonRing.material)?i.neonRing.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(i.neonRing.material.opacity=1,i.neonRing.material.transparent=!1)),i.neonRing.traverse(t=>{t.visible=!0,t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(t.material.opacity=1,t.material.transparent=!1))})),d>=1){if(this.detailModeOriginalObjectStates){r.traverse(t=>{if(t!==r&&t instanceof a.DXC&&200===t.renderOrder){let e=this.detailModeOriginalObjectStates.get(t);e&&void 0!==e.visible&&(t.visible=e.visible)}});let t=this.detailModeOriginalObjectStates.get(r);t&&r.material&&(Array.isArray(r.material)&&t.materials?r.material.forEach((e,i)=>{t.materials[i]&&(e.opacity=t.materials[i].opacity,e.transparent=t.materials[i].transparent,e.depthTest=t.materials[i].depthTest,e.depthWrite=t.materials[i].depthWrite)}):Array.isArray(r.material)||(r.material.opacity=t.opacity,r.material.transparent=t.transparent,r.material.depthTest=t.depthTest,r.material.depthWrite=t.depthWrite))}this.detailModeOriginalObjectStates&&this.treeGroups.forEach(t=>{t.traverse(t=>{let e=this.detailModeOriginalObjectStates.get(t);e&&void 0!==e.visible?t.visible=e.visible:t.visible=!0,e&&(t.material&&(Array.isArray(t.material)&&e.materials?t.material.forEach((t,i)=>{e.materials[i]&&(t.opacity=e.materials[i].opacity,t.transparent=e.materials[i].transparent,t.depthTest=e.materials[i].depthTest,t.depthWrite=e.materials[i].depthWrite)}):Array.isArray(t.material)||(t.material.opacity=e.opacity,t.material.transparent=e.transparent,t.material.depthTest=e.depthTest,t.material.depthWrite=e.depthWrite)),t instanceof a.kxk&&t.material instanceof a.RoJ&&(t.material.opacity=e.opacity,t.material.transparent=e.transparent,t.material.depthTest=e.depthTest,t.material.depthWrite=e.depthWrite))})})}o&&o.material&&(o.material.opacity=1,o.material.transparent=!0,o.material.depthTest=!1,o.material.depthWrite=!1,o.material.alphaTest=.1),this.fireflies.forEach(t=>{if(t.mesh&&void 0!==t.nodeId){let e=this.treeGroups.find(e=>e.children.some(e=>e.userData&&e.userData.node&&e.userData.node.id===t.nodeId));e&&!t.mesh.parent&&e.add(t.mesh)}});let h=this.calculateScale(i),x=i.originalScale||new a.Pq0(1,1,1),I=x.clone().multiplyScalar(h).clone().lerp(x,s);i.mesh.scale.copy(I),i.textSprite&&i.originalSpriteScale&&(i.originalSpriteScale.clone().multiplyScalar(h),i.textSprite.scale.lerp(i.originalSpriteScale,s));let c=i.originalPosition,m=new a.Pq0(0,0,0);i.mesh.position.lerp(c,s);let u=m.clone().lerp(c,s),g=i.node.id;if(I.x,I.y,I.z,this.fireflies.forEach(t=>{if(t.mesh&&t.nodeId===g&&t.nodePosition&&this.detailModeOriginalFireflyPositions){let e=this.detailModeOriginalFireflyPositions.get(t);if(e){let i=u.clone().sub(c);t.nodePosition.copy(e.position.clone().add(i)),void 0!==e.orbitRadiusOffset&&(t.orbitRadiusOffset=e.orbitRadiusOffset)}}}),i.neonRing&&(i.neonRing.position.lerp(c,s),i.neonRing.scale.copy(I),this.neonRingRotationY=6*Math.PI/180*(1-s)),i.textSprite){let t=(0===i.node.level?this.rootRadius:this.nodeRadius)*I.x,e=new a.Pq0(c.x,c.y+t+250,c.z);i.textSprite.position.lerp(e,s)}if(this.ringRays&&(this.ringRays.visible=!1,this.ringRays.position.lerp(c,s),this.ringRays.scale.copy(I)),this.detailModeActorLabels.forEach(t=>{t.sprite&&(t.sprite.material.opacity=1-s)}),this.detailModeExitButton&&(this.detailModeExitButton.style.opacity=1-s),this.originalCameraTarget){let t=new a.Pq0(0,0,0).clone().lerp(this.originalCameraTarget,s);this.onCameraTargetChange(t),this.camera.lookAt(t)}o&&(o.visible=!1),d<1?requestAnimationFrame(n):this.cleanup()};n()}cleanup(){this.detailModeExitButton&&(document.body.removeChild(this.detailModeExitButton),this.detailModeExitButton=null),this.detailModeActorLabels.forEach(t=>{t.sprite&&(this.scene.remove(t.sprite),t.sprite.geometry.dispose(),t.sprite.material.dispose())}),this.detailModeActorLabels=[],this.detailModeWordLabels.forEach(t=>{t.sprite&&(this.scene.remove(t.sprite),t.sprite.geometry&&t.sprite.geometry.dispose(),t.sprite.material&&(t.sprite.material.map&&t.sprite.material.map.dispose(),t.sprite.material.dispose()))}),this.detailModeWordLabels=[],this.isAnimatingFirefliesToWords=!1,this.isAnimatingWordsToFireflies=!1,this.ringRays&&(this.scene.remove(this.ringRays),this.ringRays.geometry.dispose(),this.ringRays.material.dispose(),this.ringRays=null),this.detailModeOriginalObjectStates&&this.treeGroups.forEach(t=>{t.traverse(t=>{let e=this.detailModeOriginalObjectStates.get(t);e&&void 0!==e.visible?t.visible=e.visible:t.visible=!0,e?(t.material&&(Array.isArray(t.material)&&e.materials?t.material.forEach((t,i)=>{e.materials[i]&&(t.opacity=e.materials[i].opacity,t.transparent=e.materials[i].transparent,t.depthTest=e.materials[i].depthTest,t.depthWrite=e.materials[i].depthWrite)}):Array.isArray(t.material)||(t.material.opacity=e.opacity,t.material.transparent=e.transparent,t.material.depthTest=e.depthTest,t.material.depthWrite=e.depthWrite)),t instanceof a.kxk&&t.material instanceof a.RoJ&&(t.material.opacity=e.opacity,t.material.transparent=e.transparent,t.material.depthTest=e.depthTest,t.material.depthWrite=e.depthWrite,t.visible=!0)):t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.opacity=1,t.transparent=!1}):(t.material.opacity=1,t.material.transparent=!1))})}),this.detailModeOriginalStates=null,this.detailModeOriginalObjectStates&&this.detailModeOriginalObjectStates.clear(),this.detailModeOriginalObjectStates=null,this.detailModeOriginalFireflyPositions&&this.detailModeOriginalFireflyPositions.clear(),this.detailModeOriginalFireflyPositions=null,this.enableZoomControls(),this.enableNavigationControls(),this.controls&&this.controls.enable();let t=this.detailModeNode?this.detailModeNode.textSprite:null;this.onStateChange&&this.onStateChange(!1,null),this.onTextSizeUpdate&&this.onTextSizeUpdate(),t&&(t.visible=!0),this.isDetailMode=!1,this.detailModeNode=null,this.detailModeOriginalZoom=null,this.originalCameraPosition=null,this.originalCameraTarget=null,this.neonRingRotationY=0}updateFireflyOrbitRadius(t){if(!this.isDetailMode||!this.detailModeNode||!this.detailModeOriginalFireflyPositions)return;let e=this.detailModeNode.node.id;this.fireflies.forEach(i=>{if(i.mesh&&i.nodeId===e&&this.detailModeOriginalFireflyPositions){let e=this.detailModeOriginalFireflyPositions.get(i);e&&(e.orbitRadiusOffset=t)}})}createActorLabels(){if(!this.detailModeNode)return;let t=this.detailModeNode.node.id,e=d.filter(e=>e.parentId===t);0===e.length&&e.push({text:"Нет информации о технологиях"});let i=this.DETAIL_MODE_ACTOR_RADIUS,r=2*Math.PI/e.length;e.forEach((t,e)=>{let d=e*r,n=Math.cos(d)*i,s=Math.sin(d)*i,o=document.createElement("canvas"),l=o.getContext("2d");l.font="bold 24px Arial";let p=l.measureText(t.text).width;o.width=(p+20)*2,o.height=88,l.scale(2,2),l.font="bold 24px Arial",l.textAlign="center",l.textBaseline="middle",l.fillStyle=h,l.strokeStyle=x,l.lineWidth=2,l.strokeText(t.text,(p+20)/2,22),l.fillText(t.text,(p+20)/2,22);let I=new a.GOR(o);I.needsUpdate=!0;let c=new a.RoJ({map:I,transparent:!0,opacity:0,alphaTest:.1}),m=new a.kxk(c);m.position.set(n,0,s),m.scale.set(o.width/2*.8,o.height/2*.8,1),m.renderOrder=2,this.scene.add(m),this.detailModeActorLabels.push({sprite:m,technology:t,originalPosition:m.position.clone()})}),this.animateActorLabelsAppearance()}animateActorLabelsAppearance(){let t=Date.now(),e=()=>{let i=Math.min((Date.now()-t)/500,1);this.easeInOut(i),this.detailModeActorLabels.forEach((t,e)=>{let a=Math.max(0,i-.1*e);if(t.sprite){t.sprite.material.opacity=a;let e=.8+.2*a;t.sprite.scale.set(t.sprite.scale.x*e/t.sprite.scale.x,t.sprite.scale.y*e/t.sprite.scale.y,1)}}),i<1&&requestAnimationFrame(e)};e()}createWordLabel(t,e,i){if(!t.mesh||!t.mesh.userData.technology)return null;let r=t.mesh.userData.technology,d=r.text||"",n=document.createElement("canvas"),s=n.getContext("2d"),o=g(),l=o?44*.7:44,p=1.2*l;s.font=`bold ${l}px Arial`;let I=this.splitTextIntoLines(d,o?1:2),c=0;I.forEach(t=>{let e=s.measureText(t).width;e>c&&(c=e)});let m=I.length*p-(p-l),u=Math.max(400,c+40),f=Math.max(120,m+40);n.width=2*u,n.height=2*f,s.scale(2,2),s.fillStyle=h,s.strokeStyle=x,s.lineWidth=2,s.font=`bold ${l}px Arial`,s.textAlign="center",s.textBaseline="middle";let y=u/2,S=f/2-m/2+l/2;I.forEach((t,e)=>{let i=S+e*p;s.strokeText(t,y,i),s.fillText(t,y,i)});let v=new a.GOR(n);v.needsUpdate=!0;let M=new a.RoJ({map:v,transparent:!0,opacity:0,alphaTest:.1,depthTest:!1,depthWrite:!1}),E=new a.kxk(M);return E.position.copy(e),E.scale.set(1.2*u,1.2*f,1),E.renderOrder=999,this.scene.add(E),{sprite:E,firefly:t,originalFireflyPosition:e.clone(),targetPosition:i.clone(),technology:r}}createWordLabelFromData(t,e,i){if(!t||!t.text)return null;let r=t.text||"",d=document.createElement("canvas"),n=d.getContext("2d"),s=g(),o=s?44*.7:44,l=1.2*o;n.font=`bold ${o}px Arial`;let p=this.splitTextIntoLines(r,s?1:2),I=0;p.forEach(t=>{let e=n.measureText(t).width;e>I&&(I=e)});let c=p.length*l-(l-o),m=Math.max(400,I+40),u=Math.max(120,c+40);d.width=2*m,d.height=2*u,n.scale(2,2),n.fillStyle=h,n.strokeStyle=x,n.lineWidth=2,n.font=`bold ${o}px Arial`,n.textAlign="center",n.textBaseline="middle";let f=m/2,y=u/2-c/2+o/2;p.forEach((t,e)=>{let i=y+e*l;n.strokeText(t,f,i),n.fillText(t,f,i)});let S=new a.GOR(d);S.needsUpdate=!0;let v=new a.RoJ({map:S,transparent:!0,opacity:0,alphaTest:.1,depthTest:!1,depthWrite:!1}),M=new a.kxk(v);return M.position.copy(e),M.scale.set(1.2*m,1.2*u,1),M.renderOrder=999,this.scene.add(M),{sprite:M,firefly:null,originalFireflyPosition:e.clone(),targetPosition:i.clone(),technology:t}}transformFirefliesToWords(){if(!this.isDetailMode||!this.detailModeNode)return;let t=this.detailModeNode,e=t.node.id,i=0===t.node.level;this.detailModeWordLabels.forEach(t=>{t.sprite&&(this.scene.remove(t.sprite),t.sprite.geometry.dispose(),t.sprite.material.dispose())}),this.detailModeWordLabels=[];let r=[],d=[];if(i)r=n.filter(t=>t.parentId===e);else{if(0===(d=this.fireflies.filter(t=>t.mesh&&t.nodeId===e&&t.mesh.userData.technology)).length)return;r=d.map(t=>t.mesh.userData.technology)}if(0===r.length)return;let s=this.camera,o=new a.Pq0(0,0,-1).applyQuaternion(s.quaternion).clone().normalize(),l=1.2*this.DETAIL_MODE_ACTOR_RADIUS,p=o.clone().multiplyScalar(l),h=new a.Pq0(0,1,0),x=new a.Pq0().crossVectors(h,o).normalize(),I=new a.Pq0().crossVectors(o,x).normalize(),c=r.length,m=2*Math.PI/c,u=(t,e,i,a)=>{let r=Math.cos(t)*i,d=Math.sin(t)*a;return Math.sqrt((Math.cos(e)*i-r)**2+(Math.sin(e)*a-d)**2)},f=g(),y=450*(f?1.2:3.2),S=450*(f?1.7:2.7),v=Math.min(y,Math.max(450*1.1,720/(2*Math.sin(m/2)))),M=Math.min(S,Math.max(382.5,720/(2*Math.sin(m/2))*.75)),E=!1,R=0;for(;!E&&R<10;){E=!0;for(let t=0;t<c;t++){let e=u(t*m,(t+1)%c*m,v,M);if(e<720){E=!1;let t=720/e,i=Math.min(y,v*t*1.05),a=Math.min(S,M*t*.9);if(i===y&&a===S&&e<648)break;v=i,M=a;break}}R++}r.forEach((t,e)=>{let r=e*m,n=Math.cos(r)*v,s=Math.sin(r)*M,o=p.clone().add(x.clone().multiplyScalar(n)).add(I.clone().multiplyScalar(s)),l=null;if(i){let e=new a.Pq0(0,0,0);l=this.createWordLabelFromData(t,e,o)}else{let t=d[e];if(t&&t.mesh){let e=t.mesh.position.clone();l=this.createWordLabel(t,e,o)}}l&&this.detailModeWordLabels.push(l)}),this.detailModeWordLabels.length>0&&this.animateFirefliesToWords()}animateFirefliesToWords(){this.isAnimatingFirefliesToWords=!0;let t=Date.now(),e=()=>{let i=Math.min((Date.now()-t)/800,1),a=this.easeInOut(i);this.detailModeWordLabels.forEach(t=>{t.sprite&&(t.firefly&&t.firefly.mesh&&(t.firefly.mesh.traverse(t=>{t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{void 0!==t.opacity&&(t.opacity=1-a)}):void 0!==t.material.opacity&&(t.material.opacity=1-a))}),t.firefly.mesh.visible=a<1),t.sprite.position.copy(t.originalFireflyPosition.clone().lerp(t.targetPosition,a)),t.sprite.material.opacity=a)}),i<1?requestAnimationFrame(e):(this.detailModeWordLabels.forEach(t=>{t.firefly&&t.firefly.mesh&&(t.firefly.mesh.visible=!1,t.firefly.mesh.traverse(t=>{t.visible=!1,t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{void 0!==t.opacity&&(t.opacity=0)}):void 0!==t.material.opacity&&(t.material.opacity=0))})),t.sprite&&(t.sprite.position.copy(t.targetPosition),t.sprite.material.opacity=1)}),this.isAnimatingFirefliesToWords=!1)};e()}transformWordsToFireflies(){0!==this.detailModeWordLabels.length&&this.animateWordsToFireflies()}animateWordsToFireflies(){this.isAnimatingWordsToFireflies=!0;let t=Date.now(),e=()=>{let i=Math.min((Date.now()-t)/800,1),a=this.easeInOut(i);this.detailModeWordLabels.forEach(t=>{if(!t.sprite)return;if(!t.firefly||!t.firefly.mesh){t.sprite.position.copy(t.targetPosition.clone().lerp(t.originalFireflyPosition,a)),t.sprite.material.opacity=1-a;return}let e=t.firefly.mesh.position.clone();t.sprite.position.copy(t.targetPosition.clone().lerp(e,a)),t.sprite.material.opacity=1-a,t.firefly.mesh.traverse(t=>{t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{void 0!==t.opacity&&(t.opacity=a)}):void 0!==t.material.opacity&&(t.material.opacity=a))}),t.firefly.mesh.visible=a>0}),i<1?requestAnimationFrame(e):(this.detailModeWordLabels.forEach(t=>{t.sprite&&(t.sprite.material.opacity=0,t.sprite.visible=!1),t.firefly&&t.firefly.mesh&&(t.firefly.mesh.visible=!0,t.firefly.mesh.traverse(t=>{t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{void 0!==t.opacity&&(t.opacity=1)}):void 0!==t.material.opacity&&(t.material.opacity=1))}))}),this.isAnimatingWordsToFireflies=!1)};e()}calculateScale(t){let e=0===t.node.level?this.rootRadius:this.nodeRadius;return 2*Math.tan(this.camera.fov*(Math.PI/180)/2)*this.initialCameraDistance*this.camera.aspect*(this.DETAIL_MODE_SCREEN_SIZE_PERCENT/100)/(2*e)}easeInOut(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}disableZoomControls(){let t=document.getElementById("zoom-in");t&&(t.style.opacity="0.3",t.style.pointerEvents="none",t.disabled=!0)}enableZoomControls(){let t=document.getElementById("zoom-in"),e=document.getElementById("zoom-out");t&&(t.style.opacity="1",t.style.pointerEvents="auto",t.disabled=!1),e&&(e.style.opacity="1",e.style.pointerEvents="auto",e.disabled=!1)}disableNavigationControls(){[document.getElementById("nav-up"),document.getElementById("nav-down"),document.getElementById("nav-left"),document.getElementById("nav-right"),document.getElementById("nav-home")].forEach(t=>{t&&(t.style.opacity="0.3",t.style.pointerEvents="none",t.disabled=!0)})}enableNavigationControls(){[document.getElementById("nav-up"),document.getElementById("nav-down"),document.getElementById("nav-left"),document.getElementById("nav-right"),document.getElementById("nav-home")].forEach(t=>{t&&(t.style.opacity="1",t.style.pointerEvents="auto",t.disabled=!1)})}splitTextIntoLines(t,e){if(!t||!t.trim())return[""];if(!e||e<=0)return[t.trim()];let i=t.trim().split(/\s+/),a=[];for(let t=0;t<i.length;t+=e){let r=i.slice(t,t+e).join(" ");a.push(r)}return a}updateTextSizes(t,e){if(!this.isDetailMode||!this.detailModeNode)return;this.rootTextSize=t,this.nodeTextSize=e;let i=this.detailModeNode;i.textSprite&&this.updateNodeTextSprite(i)}isTextFitsOnScreen(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;if(!t||!this.camera)return!0;let r=new a.Pq0;t.getWorldPosition(r);let d=r.clone().project(this.camera);if(d.z>1)return!1;let n=(d.x+1)*.5*window.innerWidth,s=this.camera.position.distanceTo(r);if(s<=0)return!0;let o=2*Math.tan(this.camera.fov*(Math.PI/180)/2)*s,l=window.innerHeight/o,p=t.scale.x*l;return n-p/2>=i&&n+p/2<=window.innerWidth-i}updateNodeTextSprite(t){let e=t.node,i=0===e.level,a=this.isDetailMode&&i?this.nodeTextSize:i?this.rootTextSize:this.nodeTextSize;if(this.isDetailMode){let i=0;for(;i<20&&a>=32;){let r=this.createTextTexture(e,a);if(t.textSprite){if(t.textSprite.material.map&&t.textSprite.material.map.dispose(),t.textSprite.material.map=r.texture,t.textSprite.material.needsUpdate=!0,t.textSprite.renderOrder=999,t.textSprite.material.transparent=!0,t.textSprite.material.depthTest=!1,t.textSprite.material.depthWrite=!1,t.textSprite.material.alphaTest=.1,t.textSprite.scale.set(r.canvas.width/2*1.5,r.canvas.height/2*1.5,1),t.textSprite.updateMatrix(),t.textSprite.parent&&t.textSprite.parent.updateMatrixWorld(!0),this.isTextFitsOnScreen(t.textSprite,a,20))break;a=Math.max(32,.9*a),i++}else break}}else{let i=this.createTextTexture(e,a);t.textSprite&&(t.textSprite.material.map&&t.textSprite.material.map.dispose(),t.textSprite.material.map=i.texture,t.textSprite.material.needsUpdate=!0,t.textSprite.renderOrder=999,t.textSprite.material.transparent=!0,t.textSprite.material.depthTest=!1,t.textSprite.material.depthWrite=!1,t.textSprite.material.alphaTest=.1,t.textSprite.scale.set(i.canvas.width/2*1.5,i.canvas.height/2*1.5,1))}}createTextTexture(t,e){let i=1.2*e,r=document.createElement("canvas"),d=r.getContext("2d");d.font=`bold ${e}px Arial`;let n=this.splitTextIntoLines(t.text,this.maxWordsPerLine),s=0,o=[];n.forEach(t=>{let e=d.measureText(t).width;o.push(e),e>s&&(s=e)});let l=s,p=n.length*i-(i-e);r.width=(l+20)*2,r.height=(p+20)*2,d.scale(2,2),d.fillStyle=h,d.strokeStyle=x,d.lineWidth=2,d.font=`bold ${e}px Arial`,d.textAlign="center",d.textBaseline="middle";let I=(l+20)/2,c=(p+20)/2-(n.length*i-(i-e))/2+e/2;n.forEach((t,e)=>{let a=c+e*i;d.strokeText(t,I,a),d.fillText(t,I,a)});let m=new a.GOR(r);return m.needsUpdate=!0,{texture:m,canvas:r}}updateNodeTextSpriteForDetailMode(t){let e=t.node;e.level;let i=this.nodeTextSize,r=1.2*i,d=document.createElement("canvas"),n=d.getContext("2d");n.font=`bold ${i}px Arial`;let s=this.splitTextIntoLines(e.text,this.maxWordsPerLine),o=0,l=[];s.forEach(t=>{let e=n.measureText(t).width;l.push(e),e>o&&(o=e)});let p=o,I=s.length*r-(r-i);d.width=(p+20)*4,d.height=(I+20)*4,n.scale(4,4),n.fillStyle=h,n.strokeStyle=x,n.lineWidth=2,n.font=`bold ${i}px Arial`,n.textAlign="center",n.textBaseline="middle";let c=(p+20)/2,m=(I+20)/2-(s.length*r-(r-i))/2+i/2;s.forEach((t,e)=>{let i=m+e*r;n.strokeText(t,c,i),n.fillText(t,c,i)});let u=new a.GOR(d);u.needsUpdate=!0,t.textSprite&&(t.textSprite.material.map&&t.textSprite.material.map.dispose(),t.textSprite.material.map=u,t.textSprite.material.needsUpdate=!0,t.textSprite.renderOrder=999,t.textSprite.material.depthTest=!1,t.textSprite.material.depthWrite=!1,t.textSprite.scale.set(d.width/4*1.5,d.height/4*1.5,1))}createTextSprite(t,e,i,r){let d=document.createElement("canvas"),n=d.getContext("2d"),s=1.2*r;n.font=`bold ${r}px Arial`;let o=this.splitTextIntoLines(t.text,this.maxWordsPerLine),l=0,p=[];o.forEach(t=>{let e=n.measureText(t).width;p.push(e),e>l&&(l=e)});let I=l,c=o.length*s-(s-r);d.width=(I+20)*2,d.height=(c+20)*2,n.scale(2,2),n.fillStyle=h,n.strokeStyle=x,n.lineWidth=2,n.font=`bold ${r}px Arial`,n.textAlign="center",n.textBaseline="middle";let m=(I+20)/2,u=(c+20)/2-(o.length*s-(s-r))/2+r/2;o.forEach((t,e)=>{let i=u+e*s;n.strokeText(t,m,i),n.fillText(t,m,i)});let g=new a.GOR(d);g.needsUpdate=!0;let f=new a.RoJ({map:g,transparent:!0,alphaTest:.1,depthTest:!1,depthWrite:!1}),y=new a.kxk(f);return y.position.copy(t.position),y.position.y+=i+250,y.scale.set(d.width/2*1.5,d.height/2*1.5,1),y.renderOrder=999,y}updateWordLabels(t){if(!this.isDetailMode||!this.detailModeNode||0===this.detailModeWordLabels.length||this.isAnimatingFirefliesToWords||this.isAnimatingWordsToFireflies)return;let e=.001*Date.now();this.detailModeWordLabels.forEach((t,i)=>{if(!t.sprite||!t.targetPosition)return;let a=20*Math.sin(.8*e+.5*i),r=t.targetPosition.clone();r.y+=a,t.sprite.position.copy(r)})}updateParams(t){void 0!==t.rootRadius&&(this.rootRadius=t.rootRadius),void 0!==t.nodeRadius&&(this.nodeRadius=t.nodeRadius),void 0!==t.rootTextSize&&(this.rootTextSize=t.rootTextSize),void 0!==t.nodeTextSize&&(this.nodeTextSize=t.nodeTextSize),void 0!==t.maxWordsPerLine&&(this.maxWordsPerLine=t.maxWordsPerLine,this.isDetailMode&&this.detailModeNode&&this.detailModeNode.textSprite&&this.updateNodeTextSprite(this.detailModeNode))}constructor(t){this.scene=t.scene,this.camera=t.camera,this.cameraManager=t.cameraManager,this.treeGroups=t.treeGroups,this.fireflies=t.fireflies,this.nodeMeshes=t.nodeMeshes,this.controls=t.controls,this.onZoomChange=t.onZoomChange||(()=>{}),this.onCameraTargetChange=t.onCameraTargetChange||(()=>{}),this.onCameraPositionChange=t.onCameraPositionChange||(()=>{}),this.onStateChange=t.onStateChange||(()=>{}),this.onTextSizeUpdate=t.onTextSizeUpdate||(()=>{}),this.DETAIL_MODE_SCREEN_SIZE_PERCENT=t.DETAIL_MODE_SCREEN_SIZE_PERCENT||22,this.DETAIL_MODE_ZOOM=t.DETAIL_MODE_ZOOM||1,this.DETAIL_MODE_ANIMATION_TIME=t.DETAIL_MODE_ANIMATION_TIME||1,this.DETAIL_MODE_ACTOR_RADIUS=t.DETAIL_MODE_ACTOR_RADIUS||400,this.initialCameraDistance=t.initialCameraDistance||1280.6,this.rootRadius=t.rootRadius||225,this.nodeRadius=t.nodeRadius||135,this.rootTextSize=t.rootTextSize||84,this.nodeTextSize=t.nodeTextSize||42,this.maxWordsPerLine=t.maxWordsPerLine||5,this.isDetailMode=!1,this.detailModeNode=null,this.detailModeExitButton=null,this.detailModeActorLabels=[],this.detailModeWordLabels=[],this.isAnimatingFirefliesToWords=!1,this.isAnimatingWordsToFireflies=!1,this.detailModeOriginalStates=null,this.detailModeOriginalObjectStates=null,this.detailModeOriginalZoom=null,this.originalCameraPosition=null,this.originalCameraTarget=null,this.detailModeOriginalFireflyPositions=null,this.neonRingRotationY=0,this.ringRays=null,this.isAnimatingEnter=!1}}class R{static collectLeavesDFS(t,e){0===t.children.length?e.push(t):t.children.forEach(t=>{R.collectLeavesDFS(t,e)})}static assignAngles(t){let e=[];R.collectLeavesDFS(t,e);let i=e.length||1;e.forEach((t,e)=>{t.angle=2*Math.PI*(e+.5)/i}),!function t(e){if(0===e.children.length)return e.angle;let i=e.children.map(t);return e.angle=Math.atan2(i.reduce((t,e)=>t+Math.sin(e),0),i.reduce((t,e)=>t+Math.cos(e),0)),e.angle}(t)}static groupNodesByLevel(t){let e=new Map;return t.forEach(t=>{e.has(t.level)||e.set(t.level,[]),e.get(t.level).push(t)}),e}static calculateMaxTreeRadius(t,e,i){let a=(null==i?void 0:i.spacingFactor)??1.4,r=(null==i?void 0:i.levelMarginFactor)??.6,d=(null==i?void 0:i.rootRadius)??225,n=(null==i?void 0:i.nodeRadius)??135;R.assignAngles(t);let s=R.groupNodesByLevel(e),o=Math.max(...e.map(t=>t.level)),l=Array(o+1).fill(0);l[0]=0;let p=2*n,h=p*a,x=d+n;for(let t=1;t<=o;t+=1){let e=s.get(t)||[];if(0===e.length){l[t]=l[t-1]+x;continue}let i=2*Math.PI;if(e.length>1){let t=[...e].sort((t,e)=>t.angle-e.angle);for(let e=0;e<t.length;e+=1){let a=t[e],r=t[(e+1)%t.length].angle-a.angle;r<0&&(r+=2*Math.PI),r<i&&(i=r)}}1===e.length&&(i=2*Math.PI);let a=Math.max(i>.001?h/(2*Math.sin(i/2)):l[t-1]+2*x,l[t-1]+x),d=t*r*p;l[t]=a+d}return 1.1*Math.max(Math.max(...l)+n,d)}static calculatePositions(t,e,i){let r=(null==i?void 0:i.spacingFactor)??1.4,d=(null==i?void 0:i.levelMarginFactor)??.6,n=(null==i?void 0:i.offset)??new a.Pq0(0,0,0),s=(null==i?void 0:i.rootRadius)??225,o=(null==i?void 0:i.nodeRadius)??135;R.assignAngles(t);let l=R.groupNodesByLevel(e),p=Math.max(...e.map(t=>t.level)),h=Array(p+1).fill(0);h[0]=0;let x=2*o,I=x*r,c=s+o;for(let t=1;t<=p;t+=1){let e=l.get(t)||[];if(0===e.length){h[t]=h[t-1]+c;continue}let i=2*Math.PI;if(e.length>1){let t=[...e].sort((t,e)=>t.angle-e.angle);for(let e=0;e<t.length;e+=1){let a=t[e],r=t[(e+1)%t.length].angle-a.angle;r<0&&(r+=2*Math.PI),r<i&&(i=r)}}1===e.length&&(i=2*Math.PI);let a=Math.max(i>.001?I/(2*Math.sin(i/2)):h[t-1]+2*c,h[t-1]+c),r=t*d*x;h[t]=a+r}e.forEach(t=>{if(0===t.level)return void t.position.copy(n);let e=h[t.level],i=t.angle??0,a=n.x+e*Math.cos(i),r=n.z+e*Math.sin(i);t.position.set(a,n.y,r)})}}class T{buildTreesFromData(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(i||(i=new Map,t.forEach(t=>{i.has(t.parentId)||i.set(t.parentId,[]),i.get(t.parentId).push(t)})),this.cachedTrees&&this.cachedDepth===e)return this.cachedTrees.map(t=>{let{root:e,nodes:i}=t,a=new Map,d=[];return i.forEach(t=>{let e=new r(t.id,null,t.level);e.text=t.text,e.position.copy(t.position),e.angle=t.angle,a.set(t.id,e),d.push(e)}),i.forEach(t=>{let e=a.get(t.id);t.parent&&(e.parent=a.get(t.parent.id)),t.children.forEach(t=>{e.children.push(a.get(t.id))})}),{root:a.get(e.id),nodes:d}});let a=new Map,d=[];t.forEach(t=>{let e=new r(t.id,null,0);e.text=t.text,a.set(t.id,{node:e,parentId:t.parentId}),null===t.parentId&&d.push(e)});let n=(i,r)=>{if(r>e)return;let d=a.get(i);d&&(d.node.level=r,t.forEach(t=>{t.parentId===i&&n(t.id,r+1)}))};d.forEach(t=>{n(t.id,0)});let s=d.map(i=>{let r=[],d=i=>{let n=a.get(i);if(n&&!(n.node.level>e)){if(r.push(n.node),null!==n.parentId){let t=a.get(n.parentId);t&&t.node.level<e&&(n.node.parent=t.node,t.node.children.push(n.node))}t.forEach(t=>{t.parentId===i&&d(t.id)})}};return d(i.id),{root:i,nodes:r}});return this.cachedTrees=s,this.cachedDepth=e,s}getNodeRadius(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?this.rootRadius:this.nodeRadius}updateRadii(t,e){this.rootRadius=t,this.nodeRadius=e}computeMaxNodesPerLevel(t,e){let i=this.buildTreesFromData(t,e),a={};return i.forEach(t=>{let{nodes:e}=t;R.groupNodesByLevel(e).forEach((t,e)=>{let i=a[e]??0;a[e]=Math.max(i,t.length)})}),a}filterTreeByLevel(t,e,i){let a=new Map,r=new Set,d=t=>{let e=t.level;if(e>0){let t=i[e]??1/0,r=a.get(e)??0;if(r>=t)return!1;a.set(e,r+1)}r.add(t);let n=[];return t.children.forEach(t=>{d(t)&&n.push(t)}),t.children=n,!0};return d(t),{root:t,nodes:e.filter(t=>r.has(t))}}calculateMaxTreeRadius(t,e,i){return R.calculateMaxTreeRadius(t,e,{...i,rootRadius:this.rootRadius,nodeRadius:this.nodeRadius})}calculatePositions(t,e,i){return R.calculatePositions(t,e,{...i,rootRadius:this.rootRadius,nodeRadius:this.nodeRadius})}clearCache(){this.cachedTrees=null,this.cachedDepth=null}constructor(t=225,e=135){this.cachedTrees=null,this.cachedDepth=null,this.rootRadius=t,this.nodeRadius=e}}class C{static createGlowTexture(t){let e=`glow_${t}`;if(this.textureCache.has(e))return this.textureCache.get(e);let i=document.createElement("canvas");i.width=t,i.height=t;let r=i.getContext("2d"),d=t/2,n=t/2,s=t/2,o=r.createRadialGradient(d,n,0,d,n,s);I.forEach(t=>{o.addColorStop(t.stop,t.color)}),r.fillStyle=o,r.fillRect(0,0,t,t);let l=new a.GOR(i);return l.needsUpdate=!0,this.textureCache.set(e,l),l}static clearCache(){for(let t of this.textureCache.values())t.dispose();this.textureCache.clear()}static createTextTexture(t,e){let i=document.createElement("canvas"),r=i.getContext("2d");r.font=`bold ${e}px Arial`;let d=r.measureText(t).width;i.width=(d+20)*2,i.height=(e+20)*2,r.scale(2,2),r.fillStyle=h,r.strokeStyle=x,r.lineWidth=2,r.font=`bold ${e}px Arial`,r.textAlign="center",r.textBaseline="middle",r.strokeText(t,(d+20)/2,(e+20)/2),r.fillText(t,(d+20)/2,(e+20)/2);let n=new a.GOR(i);return n.needsUpdate=!0,n}static createRadialGradientTexture(t,e){let i=document.createElement("canvas");i.width=t,i.height=e;let r=i.getContext("2d"),d=t/2,n=e/2,s=Math.max(t,e)/2,o=r.createRadialGradient(d,n,0,d,n,s);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(.3,"rgba(0, 0, 0, 0.1)"),o.addColorStop(.6,"rgba(0, 0, 0, 0.2)"),o.addColorStop(.8,"rgba(0, 0, 0, 0.3)"),o.addColorStop(1,"rgba(0, 0, 0, 0.6)"),r.fillStyle=o,r.fillRect(0,0,i.width,i.height);let l=new a.GOR(i);return l.needsUpdate=!0,l}}(0,y._)(C,"textureCache",new Map);class P{createMesh(){let t=new a.YJl,e=new a.Gu$(.3*this.size,16,16),i=new a._4j({color:0xffffff,emissive:51455,emissiveIntensity:5,metalness:0,roughness:0}),r=new a.eaF(e,i);t.add(r);let d=C.createGlowTexture(128),n=new a.RoJ({map:d,transparent:!0,blending:2,depthWrite:!1}),s=new a.kxk(n);s.scale.set(4*this.size,4*this.size,1),t.add(s);let o=C.createGlowTexture(256),l=new a.RoJ({map:o,transparent:!0,opacity:.6,blending:2,depthWrite:!1}),p=new a.kxk(l);return p.scale.set(6*this.size,6*this.size,1),t.add(p),t.renderOrder=300,t}updateSize(t){this.size=t,this.mesh.children.forEach((e,i)=>{0===i?e.geometry&&(e.geometry.dispose(),e.geometry=new a.Gu$(.3*t,16,16)):e instanceof a.kxk&&(1===i?e.scale.set(4*t,4*t,1):2===i&&e.scale.set(6*t,6*t,1))})}updatePosition(t,e){this.angle+=this.speed*e*.01;let i=Math.cos(this.angle)*t,a=Math.sin(this.angle)*t;this.mesh.position.x=this.nodePosition.x+i,this.mesh.position.y=this.nodePosition.y+0,this.mesh.position.z=this.nodePosition.z+a}setSpeed(t){this.speed=t}setOrbitRadius(t){this.orbitRadius=t}setNodePosition(t){this.nodePosition.copy(t)}constructor(t,e,i){this.nodePosition=t.clone(),this.angle=e,this.speed=1,this.size=i,this.orbitRadius=65,this.mesh=this.createMesh()}}class b{shouldShowText(t){if(this.detailModeSystem&&this.detailModeSystem.isActive()||!this.cameraManager)return!0;let e=this.cameraManager.getZoom();return t?e<.4:e>=.25}constructor(t,e){this.cameraManager=t,this.detailModeSystem=e}}class D{calculateFontSize(t,e){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=t;return i&&this.cameraManager&&!(this.detailModeSystem&&this.detailModeSystem.isActive())&&(a=t*(1-(this.cameraManager.getZoom()-l)/(3-l)*.9)),Math.max(a,i&&this.cameraManager&&(!this.detailModeSystem||!this.detailModeSystem.isActive())?e?32:20:e?72:38)}constructor(t,e=null){this.cameraManager=t,this.detailModeSystem=e}}class w{disposeMaterialCache(){this.materialCache.rootNode&&(this.materialCache.rootNode.dispose(),this.materialCache.rootNode=null),this.materialCache.rootGlowShell&&(this.materialCache.rootGlowShell.dispose(),this.materialCache.rootGlowShell=null),this.materialCache.regularGlowShell&&(this.materialCache.regularGlowShell.dispose(),this.materialCache.regularGlowShell=null)}disposeWireframeGeometryCache(){this.wireframeGeometryCache&&(this.wireframeGeometryCache.forEach(t=>{t.dispose()}),this.wireframeGeometryCache.clear())}disposeScene(){this.disposeMaterialCache(),this.disposeWireframeGeometryCache(),this.nodeMeshes.forEach(t=>{t.textSprite&&t.textSprite.material&&(t.textSprite.material.map&&t.textSprite.material.map.dispose(),t.textSprite.material.dispose()),t.mesh&&(t.mesh.geometry&&t.mesh.geometry.dispose(),t.mesh.material&&(Array.isArray(t.mesh.material)?t.mesh.material.forEach(t=>{t.map&&t.map.dispose(),t.dispose()}):(t.mesh.material.map&&t.mesh.material.map.dispose(),t.mesh.material.dispose())),t.mesh.children.forEach(t=>{t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()})),t.originalMaterial&&t.originalMaterial.dispose(),t.highlightMaterial&&t.highlightMaterial.dispose()}),this.treeGroups.forEach(t=>{t.traverse(t=>{t.geometry&&t.geometry.dispose(),t.material&&(Array.isArray(t.material)?t.material.forEach(t=>{t.map&&t.map.dispose(),t.dispose()}):(t.material.map&&t.material.map.dispose(),t.material.dispose()))}),this.scene.remove(t)}),this.fireflies.forEach(t=>{t.mesh.traverse(t=>{t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()}),this.scene.remove(t.mesh)}),this.nodeMeshes=[],this.treeGroups=[],this.fireflies=[],this.detailModeSystem&&(this.detailModeSystem.treeGroups=this.treeGroups,this.detailModeSystem.fireflies=this.fireflies),this.treeBuilder.clearCache(),this.onNodeMeshesUpdate(this.nodeMeshes),this.onTreeGroupsUpdate(this.treeGroups),this.onFirefliesUpdate(this.fireflies)}createTrees(t,e){this.disposeScene();let i=new Map;t.forEach(t=>{i.has(t.parentId)||i.set(t.parentId,[]),i.get(t.parentId).push(t)});let r=this.treeBuilder.buildTreesFromData(t,e,i),d=r.map(t=>{let{root:e,nodes:i}=t,{root:a,nodes:r}=this.treeBuilder.filterTreeByLevel(e,i,this.levelLimits),d=this.treeBuilder.calculateMaxTreeRadius(a,r,{spacingFactor:this.spacingFactor,levelMarginFactor:this.levelMarginFactor,rootRadius:this.rootRadius,nodeRadius:this.nodeRadius});return{root:a,nodes:r,radius:d}}),{positions:n,sceneBounds:s}=this.calculateTreePositions(d);this.sceneBounds=s,d.forEach((t,e)=>{let{root:r,nodes:d}=t,s=n[e]||new a.Pq0(0,0,0);this.createTreeVisuals(r,d,s,i)}),this.loadingScreen&&this.loadingScreen.updateProgress(80),setTimeout(()=>{this.createFirefliesForTrees(r,i),this.loadingScreen&&this.loadingScreen.updateProgress(100)},100)}calculateTreePositions(t){if(!t||0===t.length)return{positions:[],sceneBounds:{maxWidth:0,maxHeight:0,maxRadius:0,maxTreeRadius:0}};let e=Math.ceil(Math.sqrt(t.length)),i=Math.ceil(t.length/e),r=this.rootRadius,d=Array(e).fill(0),n=Array(i).fill(0);t.forEach((t,i)=>{let{radius:a}=t,r=Math.floor(i/e),s=i%e,o=2*a;d[s]=Math.max(d[s],o),n[r]=Math.max(n[r],o)});let s=[];for(let o=0;o<i;o++)for(let i=0;i<e;i++)if(o*e+i<t.length){let t=0;for(let e=0;e<i;e++)t+=d[e]+r;t+=d[i]/2;let e=0;for(let t=0;t<o;t++)e+=n[t]+r;e+=n[o]/2,s.push(new a.Pq0(t,0,e))}let o=d.reduce((t,e)=>t+e,0)+r*(e-1),l=n.reduce((t,e)=>t+e,0)+r*(i-1),p=-o/2,h=-l/2;s.forEach(t=>{t.x+=p,t.z+=h});let x=Math.sqrt((o/2)**2+(l/2)**2),I=Math.max(...t.map(t=>{let{radius:e}=t;return e}),0);return{positions:s,sceneBounds:{maxWidth:o,maxHeight:l,maxRadius:x+I,maxTreeRadius:I}}}createTreeVisuals(t,e,i,r){this.treeBuilder.calculatePositions(t,e,{spacingFactor:this.spacingFactor,levelMarginFactor:this.levelMarginFactor,offset:i,rootRadius:this.rootRadius,nodeRadius:this.nodeRadius});let d=new a.YJl;e.forEach(t=>{if(null!==t.parent){let e=new a.LoY().setFromPoints([t.parent.position,t.position]),i=new a.mrM({color:6075391,opacity:.5,transparent:!0}),r=new a.N1A(e,i);d.add(r)}}),e.forEach(t=>{this.createNodeVisuals(t,d,r)}),d.rotation.x=this.graphRotation.x*Math.PI/180,d.rotation.y=this.graphRotation.y*Math.PI/180,d.rotation.z=this.graphRotation.z*Math.PI/180,this.sceneManager.add(d),this.treeGroups.push(d)}createGlowShellMaterial(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4886754,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?"rootGlowShell":"regularGlowShell";if(this.materialCache[i])return this.materialCache[i].uniforms.glowColor.value.getHex()!==t&&this.materialCache[i].uniforms.glowColor.value.setHex(t),this.materialCache[i];let r=new a.BKk({uniforms:{glowColor:{value:new a.Q1f(t)}},vertexShader:w.GLOW_SHELL_VERTEX_SHADER,fragmentShader:e?w.ROOT_GLOW_SHELL_FRAGMENT_SHADER:w.GLOW_SHELL_FRAGMENT_SHADER,transparent:!0,side:2,blending:2,depthWrite:!1});return this.materialCache[i]=r,r}createRootNodeMaterial(){if(this.materialCache.rootNode)return this.materialCache.rootNode;let t=new a._4j({color:1335797,emissive:1335797,emissiveIntensity:.6,metalness:.2,roughness:.3,transparent:!1});return this.materialCache.rootNode=t,t}createSphereWireframeGeometry(t,e,i){let r=`${e}_${i}`;if(this.wireframeGeometryCache.has(r)){let e=this.wireframeGeometryCache.get(r).clone();return e.scale(t,t,t),e}let d=[],n=[],s=[];for(let t=0;t<=i;t++){let e=t/i*Math.PI;d.push(e),n.push(Math.sin(e)),s.push(Math.cos(e))}let o=2*Math.PI/e,l=[],p=[],h=[];for(let t=0;t<=e;t++){let e=t*o;l.push(e),p.push(Math.cos(e)),h.push(Math.sin(e))}let x=new Float32Array(6*((i+1)*e+e*i)),I=0;for(let t=0;t<=i;t++){let i=n[t],a=s[t];for(let t=0;t<e;t++){let e=p[t],r=h[t];x[I++]=i*e,x[I++]=a,x[I++]=i*r;let d=p[t+1],n=h[t+1];x[I++]=i*d,x[I++]=a,x[I++]=i*n}}for(let t=0;t<e;t++){let e=p[t],a=h[t];for(let t=0;t<i;t++){let i=n[t],r=s[t];x[I++]=i*e,x[I++]=r,x[I++]=i*a;let d=n[t+1],o=s[t+1];x[I++]=d*e,x[I++]=o,x[I++]=d*a}}let c=new a.LoY;c.setAttribute("position",new a.qtW(x,3)),this.wireframeGeometryCache.set(r,c);let m=c.clone();return m.scale(t,t,t),m}createNodeVisuals(t,e,i){let r,d=0===t.level,n=this.treeBuilder.getNodeRadius(t,d),s=new a.Gu$(n,16,16);if(d)r=this.createRootNodeMaterial();else{let e=[4886754,4886754,7059199][t.level-1]||6075391;(r=new a._4j({color:e,emissive:e,emissiveIntensity:d?.8:.6,metalness:.2,roughness:.3,transparent:!0,opacity:.5})).userData.alwaysTransparent=!0}let o=new a.eaF(s,r);o.position.copy(t.position),o.renderOrder=100,e.add(o),o.userData.node=t,o.userData.isRoot=d,o.userData.originalPosition=t.position.clone(),o.userData.originalScale=new a.Pq0(1,1,1),o.userData.originalMaterial=r.clone(),o.userData.treeGroup=e,o.userData.nodeId=t.id,o.userData.nodeText=t.text,o.userData.rotationSpeed=.2+.3*Math.random();let l=1.01*n,p=this.createSphereWireframeGeometry(l,64,32),h=[4886754,4886754,7059199][t.level-1]||6075391,x=new a.mrM({color:h,opacity:.4,transparent:!0});x.userData.alwaysTransparent=!0;let I=new a.DXC(p,x);I.renderOrder=200,o.add(I);let c=d?this.createGlowShellMaterial(1335797,!0):this.createGlowShellMaterial(4886754,!1),m=new a.Gu$(1.15*n,16,16),u=new a.eaF(m,c);u.renderOrder=100,u.userData.rotationSpeed=.7*o.userData.rotationSpeed,u.userData.isGlowShell=!0,o.add(u);let g=1.15*n,f=new a.O3Y(g,.005*g,16,64),y=d?1335797:4886754,S=new a.V9B({color:y,transparent:!0,opacity:.8}),v=new a.eaF(f,S);v.renderOrder=200,v.position.copy(t.position),v.userData.isNeonRing=!0,v.userData.nodePosition=t.position.clone(),e.add(v);let M=new a.O3Y(g,.01*g,16,64),E=new a.V9B({color:y,transparent:!0,opacity:.4}),R=new a.eaF(M,E);R.userData.isNeonRing=!0,v.add(R);let T=null;t.text&&(T=this.createTextSprite(t,d,n))&&e.add(T),this.nodeMeshes.push({mesh:o,shell:u,neonRing:v,originalPosition:t.position.clone(),originalScale:new a.Pq0(1,1,1),originalMaterial:r.clone(),originalSpriteScale:T?T.scale.clone():null,node:t,treeGroup:e,textSprite:T}),1===t.level&&this.createFirefliesForNode(t,e,i)}splitTextIntoLines(t,e){if(!t||!t.trim())return[""];if(!e||e<=0)return[t.trim()];let i=t.trim().split(/\s+/),a=[];for(let t=0;t<i.length;t+=e){let r=i.slice(t,t+e).join(" ");a.push(r)}return a}createTextSprite(t,e,i){let r=document.createElement("canvas"),d=r.getContext("2d"),n=e?this.rootTextSize:this.nodeTextSize,s=this.textSizeCalculator.calculateFontSize(n,e,!0),o=1.2*s;d.font=`bold ${s}px Arial`;let l=this.splitTextIntoLines(t.text,this.maxWordsPerLine),p=0,I=[];l.forEach(t=>{let e=d.measureText(t).width;I.push(e),e>p&&(p=e)});let c=p,m=l.length*o-(o-s);r.width=(c+20)*2,r.height=(m+20)*2,d.scale(2,2),d.fillStyle=h,d.strokeStyle=x,d.lineWidth=2,d.font=`bold ${s}px Arial`,d.textAlign="center",d.textBaseline="middle";let u=(c+20)/2,g=(m+20)/2-(l.length*o-(o-s))/2+s/2;l.forEach((t,e)=>{let i=g+e*o;d.strokeText(t,u,i),d.fillText(t,u,i)});let f=new a.GOR(r);f.needsUpdate=!0;let y=new a.RoJ({map:f,transparent:!0,alphaTest:.1,depthTest:!1,depthWrite:!1}),S=new a.kxk(y);return S.position.copy(t.position),S.position.y+=i+250,S.scale.set(r.width/2*1.5,r.height/2*1.5,1),S.renderOrder=999,S.visible=this.textVisibility.shouldShowText(e),S}createFirefliesForNode(t,e,i){let r=i.get(t.id)||[],d=r.length,n=Math.min(d,20);if(n>0){let i=(0===t.level?this.rootRadius:this.nodeRadius)+this.fireflyOrbitRadius;for(let s=0;s<n;s++){let n=s/d*Math.PI*2+(Math.random()-.5)*.5,o=.5+Math.random(),l=this.fireflyRotationSpeed*o,p=Math.random()>.5?1:-1,h=this.createFirefly(new a.Pq0(0,0,0),n),x=Math.cos(n)*i,I=Math.sin(n)*i;h.position.set(t.position.x+x,t.position.y,t.position.z+I),h.userData.technology=r[s],this.fireflies.push({mesh:h,nodeId:t.id,nodePosition:t.position.clone(),angle:n,speed:l*p,orbitRadiusOffset:this.fireflyOrbitRadius,originalOrbitRadius:this.fireflyOrbitRadius}),e.add(h)}}}createFirefly(t,e){let i=new P(t,e,this.fireflySize);return i.setOrbitRadius(this.fireflyOrbitRadius),i.setSpeed(this.fireflyRotationSpeed),i.mesh.userData.fireflyInstance=i,i.mesh}createFirefliesForTrees(t,e){t.forEach(t=>{let{root:e,nodes:i}=t;i.filter(t=>2!==t.level)})}updateParams(t){void 0!==t.spacingFactor&&(this.spacingFactor=t.spacingFactor),void 0!==t.levelMarginFactor&&(this.levelMarginFactor=t.levelMarginFactor),void 0!==t.levelLimits&&(this.levelLimits=t.levelLimits),void 0!==t.graphRotation&&(this.graphRotation=t.graphRotation),void 0!==t.fireflySize&&(this.fireflySize=t.fireflySize),void 0!==t.fireflyOrbitRadius&&(this.fireflyOrbitRadius=t.fireflyOrbitRadius),void 0!==t.fireflyRotationSpeed&&(this.fireflyRotationSpeed=t.fireflyRotationSpeed),void 0!==t.rootRadius&&(this.rootRadius=t.rootRadius,this.treeBuilder.updateRadii(this.rootRadius,this.nodeRadius)),void 0!==t.nodeRadius&&(this.nodeRadius=t.nodeRadius,this.treeBuilder.updateRadii(this.rootRadius,this.nodeRadius)),void 0!==t.rootTextSize&&(this.rootTextSize=t.rootTextSize,this.updateTextSizes()),void 0!==t.nodeTextSize&&(this.nodeTextSize=t.nodeTextSize,this.updateTextSizes()),void 0!==t.maxWordsPerLine&&(this.maxWordsPerLine=t.maxWordsPerLine,this.updateTextSizes())}getReferences(){return{nodeMeshes:this.nodeMeshes,treeGroups:this.treeGroups,fireflies:this.fireflies}}updateTextSizes(){this.nodeMeshes.forEach(t=>{let e=t.node,i=0===e.level;if(this.textVisibility.shouldShowText(i)){if(t.textSprite)this.updateNodeTextSprite(t);else if(e.text&&t.treeGroup){let a=i?this.rootRadius:this.nodeRadius,r=this.createTextSprite(e,i,a);r&&(t.textSprite=r,t.treeGroup.add(r),t.originalSpriteScale=r.scale.clone())}}else t.textSprite&&(t.textSprite.visible=!1)})}updateNodeTextSprite(t){let e=t.node,i=0===e.level,r=i?this.rootRadius:this.nodeRadius;if(!this.textVisibility.shouldShowText(i)){t.textSprite&&(t.textSprite.visible=!1);return}if(!t.textSprite&&e.text&&t.treeGroup){let a=this.createTextSprite(e,i,r);a&&(t.textSprite=a,t.treeGroup.add(a),t.originalSpriteScale=a.scale.clone())}t.textSprite&&(t.textSprite.visible=!0);let d=document.createElement("canvas"),n=d.getContext("2d"),s=i?this.rootTextSize:this.nodeTextSize,o=this.detailModeSystem&&this.detailModeSystem.isActive(),l=this.textSizeCalculator.calculateFontSize(s,i,!o),p=1.2*l;n.font=`bold ${l}px Arial`;let I=this.splitTextIntoLines(e.text,this.maxWordsPerLine),c=0,m=[];I.forEach(t=>{let e=n.measureText(t).width;m.push(e),e>c&&(c=e)});let u=c,g=I.length*p-(p-l);d.width=(u+20)*2,d.height=(g+20)*2,n.scale(2,2),n.fillStyle=h,n.strokeStyle=x,n.lineWidth=2,n.font=`bold ${l}px Arial`,n.textAlign="center",n.textBaseline="middle";let f=(u+20)/2,y=(g+20)/2-(I.length*p-(p-l))/2+l/2;I.forEach((t,e)=>{let i=y+e*p;n.strokeText(t,f,i),n.fillText(t,f,i)});let S=new a.GOR(d);S.needsUpdate=!0,t.textSprite&&(t.textSprite.material.map&&t.textSprite.material.map.dispose(),t.textSprite.material.map=S,t.textSprite.material.needsUpdate=!0,t.textSprite.renderOrder=999,t.textSprite.material.depthTest=!1,t.textSprite.material.depthWrite=!1,t.textSprite.visible=this.textVisibility.shouldShowText(i),t.textSprite.scale.set(d.width/2*1.5,d.height/2*1.5,1),t.targetSpriteScale=t.textSprite.scale.clone())}getSceneBounds(){return this.sceneBounds}updateSphereRotations(t,e){e&&this.nodeMeshes.forEach(t=>{if(t.shell&&t.shell.material){let e=t.shell.material;e instanceof a.BKk&&e.uniforms&&e.uniforms.cameraPosition}}),this.nodeMeshes.forEach(i=>{i.mesh&&i.mesh.userData.rotationSpeed&&(i.mesh.rotation.y+=i.mesh.userData.rotationSpeed*t,i.mesh.rotation.x+=.5*i.mesh.userData.rotationSpeed*t,i.shell&&(i.shell.rotation.y-=i.shell.userData.rotationSpeed*t,i.shell.rotation.x+=.3*i.shell.userData.rotationSpeed*t),i.neonRing&&e&&(i.neonRing.quaternion.copy(e.quaternion),this.detailModeSystem&&this.detailModeSystem.isDetailMode&&(i.neonRing.rotateY(this.detailModeSystem.neonRingRotationY),this.detailModeSystem.ringRays&&(this.detailModeSystem.ringRays.quaternion.copy(e.quaternion),this.detailModeSystem.ringRays.rotateY(this.detailModeSystem.neonRingRotationY)))))})}constructor(t){this.scene=t.scene,this.sceneManager=t.sceneManager,this.loadingScreen=t.loadingScreen,this.detailModeSystem=t.detailModeSystem||null,this.cameraManager=t.cameraManager||null,this.spacingFactor=t.spacingFactor||1.4,this.levelMarginFactor=t.levelMarginFactor||.6,this.levelLimits=t.levelLimits||{},this.graphRotation=t.graphRotation||{x:0,y:0,z:15},this.fireflySize=t.fireflySize||20,this.fireflyOrbitRadius=t.fireflyOrbitRadius||200,this.fireflyRotationSpeed=t.fireflyRotationSpeed||1,this.rootRadius=t.rootRadius||225,this.nodeRadius=t.nodeRadius||135,this.rootTextSize=t.rootTextSize||84,this.nodeTextSize=t.nodeTextSize||42,this.maxWordsPerLine=t.maxWordsPerLine||5,this.nodeMeshes=[],this.treeGroups=[],this.fireflies=[],this.sceneBounds=null,this.treeBuilder=new T(this.rootRadius,this.nodeRadius),this.onNodeMeshesUpdate=t.onNodeMeshesUpdate||(()=>{}),this.onTreeGroupsUpdate=t.onTreeGroupsUpdate||(()=>{}),this.onFirefliesUpdate=t.onFirefliesUpdate||(()=>{}),this.materialCache={rootNode:null,rootGlowShell:null,regularGlowShell:null},this.wireframeGeometryCache=new Map,this.textVisibility=new b(this.cameraManager,this.detailModeSystem),this.textSizeCalculator=new D(this.cameraManager,this.detailModeSystem)}}(0,y._)(w,"GLOW_SHELL_VERTEX_SHADER",`
        varying vec3 vNormal;
        varying vec3 vPosition;
        varying vec3 vWorldPosition;
        
        void main() {
            vNormal = normalize(normalMatrix * normal);
            vPosition = position;
            vec4 worldPos = modelMatrix * vec4(position, 1.0);
            vWorldPosition = worldPos.xyz;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
    `),(0,y._)(w,"GLOW_SHELL_FRAGMENT_SHADER",`
        uniform vec3 glowColor;
        varying vec3 vNormal;
        varying vec3 vPosition;
        varying vec3 vWorldPosition;
        
        void main() {
            // Нормализуем позицию для определения полюсов
            vec3 normalizedPos = normalize(vPosition);
            
            // Вычисляем близость к полюсам (0 на экваторе, 1 на полюсах)
            float polarIntensity = abs(normalizedPos.y);
            polarIntensity = pow(polarIntensity, 3.0);
            
            // Эффект Френеля для свечения по краям
            vec3 viewDirection = normalize(cameraPosition - vWorldPosition);
            float fresnel = 1.0 - max(0.0, dot(vNormal, viewDirection));
            fresnel = pow(fresnel, 3.0);
            
            // Комбинируем эффекты для оболочки
            float glowIntensity = polarIntensity * fresnel * 2.0;
            
            vec3 finalColor = glowColor * glowIntensity;
            
            gl_FragColor = vec4(finalColor, glowIntensity * 0.8);
        }
    `),(0,y._)(w,"ROOT_GLOW_SHELL_FRAGMENT_SHADER",`
        uniform vec3 glowColor;
        varying vec3 vNormal;
        varying vec3 vPosition;
        varying vec3 vWorldPosition;
        
        void main() {
            // Нормализуем позицию для определения полюсов
            vec3 normalizedPos = normalize(vPosition);
            
            // Вычисляем близость к полюсам (0 на экваторе, 1 на полюсах)
            float polarIntensity = abs(normalizedPos.y);
            polarIntensity = pow(polarIntensity, 3.0);
            
            // Эффект Френеля для свечения по краям
            vec3 viewDirection = normalize(cameraPosition - vWorldPosition);
            float fresnel = 1.0 - max(0.0, dot(vNormal, viewDirection));
            fresnel = pow(fresnel, 2.5);
            
            // Комбинируем эффекты для оболочки с очень ярким свечением
            float glowIntensity = (polarIntensity + fresnel) * 3.0;
            
            // Яркий неоновый пурпурный цвет
            vec3 finalColor = glowColor * glowIntensity;
            
            gl_FragColor = vec4(finalColor, glowIntensity * 0.6);
        }
    `);class A{checkNodeClick(t){if(this.isDetailMode()){let e=t.target;if(e&&"function"==typeof e.closest&&(e.closest(".detail-exit-btn")||e.closest(".zoom-controls")||e.closest(".layout-controls")))return!0;if(void 0!==t.clientX&&void 0!==t.clientY){if(this.mouse.x=t.clientX/this.container.clientWidth*2-1,this.mouse.y=-(2*(t.clientY/this.container.clientHeight))+1,this.scene.updateMatrixWorld(!0),this.raycaster.setFromCamera(this.mouse,this.camera),this.detailModeSystem){let t=this.detailModeSystem.getCurrentNode();if(t&&t.mesh&&this.raycaster.intersectObject(t.mesh,!0).filter(t=>!t.object.userData.isGlowShell&&!t.object.userData.isNeonRing).length>0)return!0}this.detailModeSystem&&this.detailModeSystem.exit(),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()}return!0}if(0===t.button){this.mouse.x=t.clientX/this.container.clientWidth*2-1,this.mouse.y=-(2*(t.clientY/this.container.clientHeight))+1,this.scene.updateMatrixWorld(!0),this.raycaster.setFromCamera(this.mouse,this.camera);let e=this.nodeMeshes.map(t=>t.mesh),i=this.raycaster.intersectObjects(e,!0);if(i.length>0){let a=null;for(let t=0;t<i.length;t++){let r=i[t].object;if(!r.userData.isGlowShell&&!r.userData.isNeonRing&&e.includes(r)){a=r;break}if(r.parent&&!r.parent.userData.isGlowShell&&!r.parent.userData.isNeonRing&&e.includes(r.parent)){a=r.parent;break}}if(a)return this.handleNodeClick(a),t.preventDefault(),t.stopPropagation(),!0}}return!1}handleNodeClick(t){if(this.selectedNode&&this.selectedNode.mesh===t)return;this.selectedNode&&this.deselectNode(this.selectedNode);let e=this.nodeMeshes.find(e=>e.mesh===t);e&&this.selectNode(e)}selectNode(t){if(0===t.node.level||1===t.node.level)return void this.enterDetailMode(t);this.selectedNode=t;let e=new a.Pq0;t.mesh.getWorldPosition(e),this.originalCameraPosition||(this.originalCameraPosition=this.camera.position.clone(),this.originalCameraTarget=this.cameraTarget.clone()),t.targetScale=new a.Pq0(2,2,2),t.originalSpriteScale&&(t.targetSpriteScale=t.originalSpriteScale.clone().multiplyScalar(2)),t.isAnimating=!0,this.pushAwayNeighborNodes(t);let i=new a.Pq0(0,800,1e3).normalize(),r=Math.sqrt(164e4),d=2*this.currentZoom;t.targetCameraPosition=e.clone().add(i.clone().multiplyScalar(r/d)),t.targetCameraTarget=e.clone(),t.effectiveZoom=d,t.cameraPositionApplied=!1;let n=t.originalMaterial.color.getHex();if(t.highlightMaterial=t.mesh.material.clone(),t.highlightMaterial.emissive.setHex(n),t.highlightMaterial.emissiveIntensity=1.5,t.highlightMaterial.metalness=.8,t.highlightMaterial.roughness=.1,t.mesh.children.length>0){let e=t.mesh.children[0];e instanceof a.DXC&&(e.material.opacity=1,e.material.color.setHex(8965375))}this.onNodeSelect(t)}pushAwayNeighborNodes(t){let e=2*(0===t.node.level?this.rootRadius:this.nodeRadius),i=new a.Pq0;t.mesh.getWorldPosition(i);let r=[];this.nodeMeshes.forEach(d=>{if(d===t)return;let n=0===d.node.level?this.rootRadius:this.nodeRadius,s=new a.Pq0;d.mesh.getWorldPosition(s);let o=i.distanceTo(s),l=1.1*(e+n);if(o<l){let t=new a.Pq0().subVectors(s,i).normalize(),e=i.clone().add(t.multiplyScalar(l)),n=new a.Pq0;d.treeGroup.worldToLocal(n.copy(e)),r.push({nodeData:d,targetPosition:n,originalPosition:d.originalPosition.clone()})}}),t.pushedNodes=r,r.forEach(t=>{let{nodeData:e,targetPosition:i}=t;e.targetPushPosition=i,e.isPushing=!0,e.textSprite&&!e.originalSpritePosition&&(e.originalSpritePosition=e.textSprite.position.clone())})}deselectNode(t){if(t.targetScale=new a.Pq0(1,1,1),t.originalSpriteScale&&(t.targetSpriteScale=t.originalSpriteScale.clone()),t.isAnimating=!0,this.originalCameraPosition?(t.targetCameraPosition=this.originalCameraPosition.clone(),t.targetCameraTarget=this.originalCameraTarget.clone()):(t.targetCameraPosition=this.cameraPosition.clone(),t.targetCameraTarget=this.cameraTarget.clone()),t.pushedNodes&&(t.pushedNodes.forEach(t=>{let{nodeData:e,originalPosition:i}=t;e.targetPushPosition=i,e.isPushing=!0}),t.pushedNodes=null),t.mesh.material=t.originalMaterial,t.mesh.children.length>0){let e=t.mesh.children[0];e instanceof a.DXC&&(e.material.opacity=.3,e.material.color.setHex(0xffffff))}this.selectedNode===t&&(this.selectedNode=null),this.onNodeDeselect(t)}enterDetailMode(t){this.originalCameraPosition=this.camera.position.clone(),this.originalCameraTarget=this.cameraTarget.clone(),this.detailModeSystem&&this.detailModeSystem.enter(t,this.currentZoom,this.originalCameraPosition,this.originalCameraTarget),this.onEnterDetailMode(t)}updateNodeMeshes(t){this.nodeMeshes=t}updateState(t){void 0!==t.selectedNode&&(this.selectedNode=t.selectedNode),void 0!==t.currentZoom&&(this.currentZoom=t.currentZoom),void 0!==t.cameraTarget&&(this.cameraTarget?this.cameraTarget.copy(t.cameraTarget):this.cameraTarget=t.cameraTarget.clone()),void 0!==t.originalCameraPosition&&(this.originalCameraPosition=t.originalCameraPosition),void 0!==t.originalCameraTarget&&(this.originalCameraTarget=t.originalCameraTarget)}updateParams(t){void 0!==t.rootRadius&&(this.rootRadius=t.rootRadius),void 0!==t.nodeRadius&&(this.nodeRadius=t.nodeRadius)}constructor(t){this.container=t.container,this.scene=t.scene,this.camera=t.camera,this.nodeMeshes=t.nodeMeshes||[],this.isDetailMode=t.isDetailMode||(()=>!1),this.selectedNode=t.selectedNode||null,this.currentZoom=t.currentZoom||1,this.cameraTarget=t.cameraTarget||new a.Pq0(0,0,0),this.cameraPosition=t.cameraPosition||new a.Pq0(0,800,1e3),this.originalCameraPosition=t.originalCameraPosition||null,this.originalCameraTarget=t.originalCameraTarget||null,this.detailModeSystem=t.detailModeSystem||null,this.onNodeSelect=t.onNodeSelect||(()=>{}),this.onNodeDeselect=t.onNodeDeselect||(()=>{}),this.onEnterDetailMode=t.onEnterDetailMode||(()=>{}),this.raycaster=new a.tBo,this.mouse=new a.I9Y}}class O{update(t){this.updateFireflies(),this.updateSelectedNode(),this.updateReturningNodes(),this.updatePushingNodes(),this.updateTextSprites()}updateFireflies(){this.isAnimatingEnter&&"function"==typeof this.isAnimatingEnter&&this.isAnimatingEnter()?this.fireflies.forEach(t=>{t.mesh&&(t.angle+=.01*t.speed)}):this.fireflies.forEach((t,e)=>{if(!t.mesh)return;t.angle+=.01*t.speed;let i=this.nodeMeshes.find(e=>e.node.id===t.nodeId),a="function"==typeof this.detailModeNode?this.detailModeNode():this.detailModeNode,r=this.isDetailMode()&&a&&t.nodeId===a.node.id,d=i&&0===i.node.level?this.rootRadius:this.nodeRadius;r&&a&&i&&(d*=this.calculateScale(i),t.mesh.visible=!0);let n=d+(void 0!==t.orbitRadiusOffset?t.orbitRadiusOffset:this.fireflyOrbitRadius),s=Math.cos(t.angle)*n,o=Math.sin(t.angle)*n;r?t.mesh.position.set(s,0,o):t.mesh.position.set(t.nodePosition.x+s,t.nodePosition.y+0,t.nodePosition.z+o)})}updateSelectedNode(){if(!this.selectedNode||!this.selectedNode.isAnimating)return;let t=this.selectedNode,e=t.mesh.scale;if(e.lerp(t.targetScale,this.animationSpeed),t.textSprite&&t.targetSpriteScale&&t.textSprite.scale.lerp(t.targetSpriteScale,this.animationSpeed),t.cameraPositionApplied||this.cameraTarget.lerp(t.targetCameraTarget,this.animationSpeed),this.updateCameraPosition(),t.highlightMaterial){let i=t.mesh.material;if(i!==t.highlightMaterial){let r=Math.min(1,(e.x-1)/1);void 0!==i.emissiveIntensity&&(i.emissiveIntensity=a.cj9.lerp(t.originalMaterial.emissiveIntensity||0,t.highlightMaterial.emissiveIntensity,r))}else i.emissiveIntensity=t.highlightMaterial.emissiveIntensity}let i=t.mesh.scale.distanceTo(t.targetScale),r=t.cameraPositionApplied||!1;if(!r){let e=this.camera.position.distanceTo(t.targetCameraPosition),i=this.cameraTarget.distanceTo(t.targetCameraTarget);r=e<.1&&i<.1}i<.01&&r&&(t.mesh.scale.copy(t.targetScale),t.cameraPositionApplied||this.cameraTarget.copy(t.targetCameraTarget),this.updateCameraPosition(),t.highlightMaterial&&(t.mesh.material=t.highlightMaterial),t.isAnimating=!1,t.cameraPositionApplied=!1)}updateReturningNodes(){this.nodeMeshes.forEach(t=>{t!==this.selectedNode&&t.isAnimating&&t.targetScale&&(t.mesh.scale.lerp(t.targetScale,this.animationSpeed),t.textSprite&&t.targetSpriteScale&&t.textSprite.scale.lerp(t.targetSpriteScale,this.animationSpeed),.01>t.mesh.scale.distanceTo(t.targetScale)&&(t.mesh.scale.copy(t.targetScale),t.textSprite&&t.targetSpriteScale&&t.textSprite.scale.copy(t.targetSpriteScale),t.isAnimating=!1,t.targetScale=null,t.targetSpriteScale=null))})}updatePushingNodes(){this.nodeMeshes.forEach(t=>{if(t.isPushing&&t.targetPushPosition){if(t.mesh.position.lerp(t.targetPushPosition,this.animationSpeed),t.textSprite){let e=(0===t.node.level?this.rootRadius:this.nodeRadius)*t.mesh.scale.y,i=new a.Pq0;t.mesh.getWorldPosition(i);let r=new a.Pq0;t.treeGroup.worldToLocal(r.copy(i)),t.textSprite.position.set(r.x,r.y+e+250,r.z),t.textSprite.updateMatrix(),t.textSprite.parent&&t.textSprite.parent.updateMatrixWorld(!0)}if(.1>t.mesh.position.distanceTo(t.targetPushPosition)){if(t.mesh.position.copy(t.targetPushPosition),t.textSprite){let e=(0===t.node.level?this.rootRadius:this.nodeRadius)*t.mesh.scale.y;t.textSprite.position.set(t.mesh.position.x,t.mesh.position.y+e+250,t.mesh.position.z),t.textSprite.updateMatrix(),t.textSprite.parent&&t.textSprite.parent.updateMatrixWorld(!0)}t.isPushing=!1,t.targetPushPosition=null}}})}updateTextSprites(){this.nodeMeshes.forEach(t=>{if(t.textSprite&&t.mesh&&!t.isPushing){let e=(0===t.node.level?this.rootRadius:this.nodeRadius)*t.mesh.scale.y;t.textSprite.position.set(t.mesh.position.x,t.mesh.position.y+e+250,t.mesh.position.z),t.textSprite.updateMatrix(),t.textSprite.parent&&t.textSprite.parent.updateMatrixWorld(!0)}})}updateReferences(t,e,i){this.nodeMeshes=t,this.fireflies=e,this.selectedNode=i}calculateScale(t){let e=0===t.node.level?this.rootRadius:this.nodeRadius;return 2*Math.tan(this.camera.fov*(Math.PI/180)/2)*this.initialCameraDistance*this.camera.aspect*(this.DETAIL_MODE_SCREEN_SIZE_PERCENT/100)/(2*e)*1.2}updateParams(t){void 0!==t.animationSpeed&&(this.animationSpeed=t.animationSpeed),void 0!==t.fireflyOrbitRadius&&(this.fireflyOrbitRadius=t.fireflyOrbitRadius),void 0!==t.DETAIL_MODE_SCREEN_SIZE_PERCENT&&(this.DETAIL_MODE_SCREEN_SIZE_PERCENT=t.DETAIL_MODE_SCREEN_SIZE_PERCENT),void 0!==t.rootRadius&&(this.rootRadius=t.rootRadius),void 0!==t.nodeRadius&&(this.nodeRadius=t.nodeRadius)}constructor(t){this.nodeMeshes=t.nodeMeshes||[],this.fireflies=t.fireflies||[],this.selectedNode=t.selectedNode||null,this.animationSpeed=t.animationSpeed||.1,this.fireflyOrbitRadius=t.fireflyOrbitRadius||200,this.isDetailMode=t.isDetailMode||(()=>!1),this.detailModeNode=t.detailModeNode||(()=>null),this.camera=t.camera||null,this.cameraTarget=t.cameraTarget||new a.Pq0(0,0,0),this.updateCameraPosition=t.updateCameraPosition||(()=>{}),this.DETAIL_MODE_SCREEN_SIZE_PERCENT=t.DETAIL_MODE_SCREEN_SIZE_PERCENT||22,this.initialCameraDistance=t.initialCameraDistance||1280.6,this.rootRadius=t.rootRadius||225,this.nodeRadius=t.nodeRadius||135,this.isAnimatingEnter=t.isAnimatingEnter||(()=>!1)}}var N=i(543);class L{setupZoomControls(){let t=document.getElementById("zoom-in"),e=document.getElementById("zoom-out");t&&t.addEventListener("click",()=>{this.isDetailMode()||this.zoomIn()}),e&&e.addEventListener("click",()=>{this.zoomOut()}),this.container&&this.container.addEventListener("wheel",t=>{this.isDetailMode()||(t.preventDefault(),t.deltaY<0?this.zoomIn():this.zoomOut())})}zoomIn(){if(this.isDetailMode())return;this.cameraManager.zoomIn();let t=this.cameraManager.getZoom();this.updateCurrentZoom(t),this.updateCameraZoom()}zoomOut(){if(this.isDetailMode()){this.detailModeSystem&&this.detailModeSystem.exit();return}this.cameraManager.zoomOut();let t=this.cameraManager.getZoom();this.updateCurrentZoom(t),this.updateCameraZoom()}resetZoom(){if(this.isDetailMode())return;this.cameraManager.resetZoom();let t=this.cameraManager.getZoom();this.updateCurrentZoom(t),this.updateCameraZoom()}setupNavigationControls(){let t=document.getElementById("nav-up"),e=document.getElementById("nav-down"),i=document.getElementById("nav-left"),a=document.getElementById("nav-right"),r=document.getElementById("nav-home");this.navButtons.up=t,this.navButtons.down=e,this.navButtons.left=i,this.navButtons.right=a,this.navButtons.home=r,this.setupNavigationButton(t,"up"),this.setupNavigationButton(e,"down"),this.setupNavigationButton(i,"left"),this.setupNavigationButton(a,"right"),r&&(r.addEventListener("mousedown",()=>{this.isDetailMode()||(r.classList.add("active"),this.resetCameraPosition())}),r.addEventListener("mouseup",()=>{r.classList.remove("active")}),r.addEventListener("mouseleave",()=>{r.classList.remove("active")}),r.addEventListener("touchstart",()=>{this.isDetailMode()||(r.classList.add("active"),this.resetCameraPosition())}),r.addEventListener("touchend",()=>{r.classList.remove("active")})),this.setupKeyboardNavigation()}setupNavigationButton(t,e){if(!t)return;let i=()=>{this.isDetailMode()||(this.isNavigating=!0,this.currentNavigationDirection=e,t.classList.add("active"),this.handleNavigation(e),this.navigationInterval=setInterval(()=>{this.isNavigating&&this.currentNavigationDirection===e&&this.handleNavigation(e)},50))},a=()=>{this.isNavigating=!1,this.currentNavigationDirection=null,t.classList.remove("active"),this.navigationInterval&&(clearInterval(this.navigationInterval),this.navigationInterval=null)};t.addEventListener("mousedown",t=>{t.preventDefault(),i()}),t.addEventListener("mouseup",a),t.addEventListener("mouseleave",a),t.addEventListener("touchstart",t=>{t.preventDefault(),i()}),t.addEventListener("touchend",a),t.addEventListener("touchcancel",a)}handleNavigation(t){this.isDetailMode()||(this.cameraManager.panTargetByDirection(t,1),this.onCameraUpdate())}resetCameraPosition(){if(this.isDetailMode())return;this.cameraManager.resetToInitialPosition();let t=this.cameraManager.getZoom();this.updateCurrentZoom(t),this.updateCameraZoom(),this.onCameraUpdate()}setupKeyboardNavigation(){let t=new Set;document.addEventListener("keydown",e=>{let i=document.activeElement;if(i&&("INPUT"===i.tagName||"TEXTAREA"===i.tagName)||this.isDetailMode()||t.has(e.key))return;let a=null,r=null;switch(e.key){case"ArrowUp":e.preventDefault(),r="up",a=this.navButtons.up;break;case"ArrowDown":e.preventDefault(),r="down",a=this.navButtons.down;break;case"ArrowLeft":e.preventDefault(),r="left",a=this.navButtons.left;break;case"ArrowRight":e.preventDefault(),r="right",a=this.navButtons.right;break;case"Home":e.preventDefault(),a=this.navButtons.home}a&&(t.add(e.key),a.classList.add("active"),r?(this.isNavigating=!0,this.currentNavigationDirection=r,this.handleNavigation(r),this.navigationInterval&&clearInterval(this.navigationInterval),this.navigationInterval=setInterval(()=>{this.isNavigating&&this.currentNavigationDirection===r&&this.handleNavigation(r)},50)):"Home"===e.key&&this.resetCameraPosition())}),document.addEventListener("keyup",e=>{let i=document.activeElement;if(i&&("INPUT"===i.tagName||"TEXTAREA"===i.tagName))return;let a=null,r=null;switch(e.key){case"ArrowUp":r="up",a=this.navButtons.up;break;case"ArrowDown":r="down",a=this.navButtons.down;break;case"ArrowLeft":r="left",a=this.navButtons.left;break;case"ArrowRight":r="right",a=this.navButtons.right;break;case"Home":a=this.navButtons.home}a&&(t.delete(e.key),a.classList.remove("active"),r&&this.currentNavigationDirection===r&&(this.isNavigating=!1,this.currentNavigationDirection=null,this.navigationInterval&&(clearInterval(this.navigationInterval),this.navigationInterval=null)))})}disableZoomControls(){let t=document.getElementById("zoom-in"),e=document.getElementById("zoom-out");t&&(t.style.opacity="0.3",t.style.pointerEvents="none",t.disabled=!0),e&&(e.style.opacity="0.3",e.style.pointerEvents="none",e.disabled=!0)}enableZoomControls(){let t=document.getElementById("zoom-in"),e=document.getElementById("zoom-out");t&&(t.style.opacity="1",t.style.pointerEvents="auto",t.disabled=!1),e&&(e.style.opacity="1",e.style.pointerEvents="auto",e.disabled=!1)}disableNavigationControls(){[document.getElementById("nav-up"),document.getElementById("nav-down"),document.getElementById("nav-left"),document.getElementById("nav-right"),document.getElementById("nav-home")].forEach(t=>{t&&(t.style.opacity="0.3",t.style.pointerEvents="none",t.disabled=!0)})}enableNavigationControls(){[document.getElementById("nav-up"),document.getElementById("nav-down"),document.getElementById("nav-left"),document.getElementById("nav-right"),document.getElementById("nav-home")].forEach(t=>{t&&(t.style.opacity="1",t.style.pointerEvents="auto",t.disabled=!1)})}setupLayoutControls(){this.setupNavigationControls();let t=document.querySelector(".layout-controls"),e=document.querySelector(".layout-toggle");e&&t&&(g()&&(t.classList.add("collapsed"),e.textContent="+"),e.addEventListener("click",i=>{i.stopPropagation(),t.classList.toggle("collapsed"),e.textContent=t.classList.contains("collapsed")?"+":"−"}),t.addEventListener("click",()=>{t.classList.contains("collapsed")&&(t.classList.remove("collapsed"),e.textContent="−")})),this.setupSpacingSlider(),this.setupMarginSlider(),this.setupGraphRotationSliders(),this.setupFireflySliders(),this.setupDetailModeSizeSlider(),this.setupNodeSizeSliders(),this.setupMaxWordsPerLineSlider()}setupSpacingSlider(){let t=document.getElementById("spacing-factor"),e=document.getElementById("spacing-value");t&&e&&t.addEventListener("input",(0,N.debounce)(t=>{let i=parseFloat(t.target.value);this.spacingFactor=i,e.textContent=i.toFixed(1),this.onSpacingFactorChange(i)},300))}setupMarginSlider(){let t=document.getElementById("level-margin-factor"),e=document.getElementById("level-margin-value");t&&e&&t.addEventListener("input",(0,N.debounce)(t=>{let i=parseFloat(t.target.value);this.levelMarginFactor=i,e.textContent=i.toFixed(1),this.onLevelMarginFactorChange(i)},300))}setupGraphRotationSliders(){let t=document.getElementById("graph-rotation-x"),e=document.getElementById("graph-rotation-x-value");t&&e&&(t.value=String(this.graphRotation.x),e.textContent=String(this.graphRotation.x),t.addEventListener("input",t=>{let i=parseInt(t.target.value,10);this.graphRotation.x=i,e.textContent=String(i),this.onGraphRotationChange(this.graphRotation)}));let i=document.getElementById("graph-rotation-y"),a=document.getElementById("graph-rotation-y-value");i&&a&&(i.value=String(this.graphRotation.y),a.textContent=String(this.graphRotation.y),i.addEventListener("input",t=>{let e=parseInt(t.target.value,10);this.graphRotation.y=e,a.textContent=String(e),this.onGraphRotationChange(this.graphRotation)}));let r=document.getElementById("graph-rotation-z"),d=document.getElementById("graph-rotation-z-value");r&&d&&(r.value=String(this.graphRotation.z),d.textContent=String(this.graphRotation.z),r.addEventListener("input",t=>{let e=parseInt(t.target.value,10);this.graphRotation.z=e,d.textContent=String(e),this.onGraphRotationChange(this.graphRotation)}))}setupFireflySliders(){let t=document.getElementById("firefly-size"),e=document.getElementById("firefly-size-value");t&&e&&(t.value=String(this.fireflySize),e.textContent=String(this.fireflySize),t.addEventListener("input",t=>{let i=parseInt(t.target.value,10);this.fireflySize=i,e.textContent=String(i),this.onFireflySizeChange(i)}));let i=document.getElementById("firefly-radius"),a=document.getElementById("firefly-radius-value");i&&a&&(i.value=String(this.fireflyOrbitRadius),a.textContent=String(this.fireflyOrbitRadius),i.addEventListener("input",t=>{let e=parseInt(t.target.value,10);this.fireflyOrbitRadius=e,a.textContent=String(e),this.onFireflyRadiusChange(e)}));let r=document.getElementById("firefly-speed"),d=document.getElementById("firefly-speed-value");r&&d&&(r.value=String(this.fireflyRotationSpeed),d.textContent=String(this.fireflyRotationSpeed),r.addEventListener("input",t=>{let e=parseFloat(t.target.value);this.fireflyRotationSpeed=e,d.textContent=String(e),this.onFireflySpeedChange(e)}))}setupDetailModeSizeSlider(){let t=document.getElementById("detail-mode-size"),e=document.getElementById("detail-mode-size-value");t&&e&&(t.value=String(this.DETAIL_MODE_SCREEN_SIZE_PERCENT),e.textContent=String(this.DETAIL_MODE_SCREEN_SIZE_PERCENT),t.addEventListener("input",t=>{let i=parseInt(t.target.value,10);this.DETAIL_MODE_SCREEN_SIZE_PERCENT=i,e.textContent=String(i),this.onDetailModeSizeChange(i)}))}setupNodeSizeSliders(){let t=document.getElementById("root-radius"),e=document.getElementById("root-radius-value");t&&e&&(t.value=String(this.rootRadius),e.textContent=String(this.rootRadius),t.addEventListener("input",(0,N.debounce)(t=>{let i=parseInt(t.target.value,10);this.rootRadius=i,e.textContent=String(i),this.onRootRadiusChange(i)},300)));let i=document.getElementById("node-radius"),a=document.getElementById("node-radius-value");i&&a&&(i.value=String(this.nodeRadius),a.textContent=String(this.nodeRadius),i.addEventListener("input",(0,N.debounce)(t=>{let e=parseInt(t.target.value,10);this.nodeRadius=e,a.textContent=String(e),this.onNodeRadiusChange(e)},300)))}setupMaxWordsPerLineSlider(){let t=document.getElementById("max-words-per-line"),e=document.getElementById("max-words-per-line-value");t&&e&&(t.value=String(this.maxWordsPerLine),e.textContent=String(this.maxWordsPerLine),t.addEventListener("input",(0,N.debounce)(t=>{let i=parseInt(t.target.value,10);this.maxWordsPerLine=i,e.textContent=String(i),this.onMaxWordsPerLineChange(i)},300)))}updateParams(t){if(void 0!==t.spacingFactor&&(this.spacingFactor=t.spacingFactor),void 0!==t.levelMarginFactor&&(this.levelMarginFactor=t.levelMarginFactor),void 0!==t.graphRotation&&(this.graphRotation=t.graphRotation),void 0!==t.fireflySize&&(this.fireflySize=t.fireflySize),void 0!==t.fireflyOrbitRadius&&(this.fireflyOrbitRadius=t.fireflyOrbitRadius),void 0!==t.fireflyRotationSpeed&&(this.fireflyRotationSpeed=t.fireflyRotationSpeed),void 0!==t.rootRadius){this.rootRadius=t.rootRadius;let e=document.getElementById("root-radius"),i=document.getElementById("root-radius-value");e&&i&&(e.value=String(this.rootRadius),i.textContent=String(this.rootRadius))}if(void 0!==t.nodeRadius){this.nodeRadius=t.nodeRadius;let e=document.getElementById("node-radius"),i=document.getElementById("node-radius-value");e&&i&&(e.value=String(this.nodeRadius),i.textContent=String(this.nodeRadius))}if(void 0!==t.maxWordsPerLine){this.maxWordsPerLine=t.maxWordsPerLine;let e=document.getElementById("max-words-per-line"),i=document.getElementById("max-words-per-line-value");e&&i&&(e.value=String(this.maxWordsPerLine),i.textContent=String(this.maxWordsPerLine))}}constructor(t){this.container=t.container,this.cameraManager=t.cameraManager,this.isDetailMode=t.isDetailMode||(()=>!1),this.currentZoom=t.currentZoom||(()=>1),this.updateCurrentZoom=t.updateCurrentZoom||(()=>{}),this.updateCameraZoom=t.updateCameraZoom||(()=>{}),this.updateCameraPosition=t.updateCameraPosition||(()=>{}),this.onCameraUpdate=t.onCameraUpdate||(()=>{}),this.selectedNode=t.selectedNode||null,this.onSpacingFactorChange=t.onSpacingFactorChange||(()=>{}),this.onLevelMarginFactorChange=t.onLevelMarginFactorChange||(()=>{}),this.onGraphRotationChange=t.onGraphRotationChange||(()=>{}),this.onFireflySizeChange=t.onFireflySizeChange||(()=>{}),this.onFireflyRadiusChange=t.onFireflyRadiusChange||(()=>{}),this.onFireflySpeedChange=t.onFireflySpeedChange||(()=>{}),this.onDetailModeSizeChange=t.onDetailModeSizeChange||(()=>{}),this.onRootRadiusChange=t.onRootRadiusChange||(()=>{}),this.onNodeRadiusChange=t.onNodeRadiusChange||(()=>{}),this.onMaxWordsPerLineChange=t.onMaxWordsPerLineChange||(()=>{}),this.rootRadius=t.rootRadius||225,this.nodeRadius=t.nodeRadius||135,this.maxWordsPerLine=t.maxWordsPerLine||5,this.spacingFactor=t.spacingFactor||1.4,this.levelMarginFactor=t.levelMarginFactor||.6,this.graphRotation=t.graphRotation||{x:0,y:0,z:15},this.fireflySize=t.fireflySize||20,this.fireflyOrbitRadius=t.fireflyOrbitRadius||65,this.fireflyRotationSpeed=t.fireflyRotationSpeed||1,this.fireflies=t.fireflies||[],this.treeGroups=t.treeGroups||[],this.DETAIL_MODE_SCREEN_SIZE_PERCENT=t.DETAIL_MODE_SCREEN_SIZE_PERCENT||30,this.detailModeSystem=t.detailModeSystem||null,this.navigationInterval=null,this.isNavigating=!1,this.currentNavigationDirection=null,this.navButtons={up:null,down:null,left:null,right:null,home:null}}}class _{static init(){let t=document.querySelector(".video-background video");if(t){let e=t.play();void 0!==e&&e.catch(e=>{let i=document.querySelector(".video-background");i&&(i.style.background="linear-gradient(135deg, #000428 0%, #004e92 100%)",t.style.display="none")});let i=()=>{t.paused&&t.play().catch(()=>{}),document.removeEventListener("touchstart",i),document.removeEventListener("click",i)};document.addEventListener("touchstart",i,{once:!0}),document.addEventListener("click",i,{once:!0})}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>_.init()):_.init();class F{init(){window.addEventListener("resize",()=>this.onWindowResize()),this.controls=new v(this.container,this.cameraManager,t=>this.nodeInteraction.checkNodeClick(t),()=>this.updateCameraPosition()),this.detailModeSystem=new E({scene:this.scene,camera:this.camera,cameraManager:this.cameraManager,treeGroups:this.treeGroups,fireflies:this.fireflies,nodeMeshes:this.nodeMeshes,controls:this.controls,DETAIL_MODE_SCREEN_SIZE_PERCENT:this.DETAIL_MODE_SCREEN_SIZE_PERCENT,DETAIL_MODE_ZOOM:this.DETAIL_MODE_ZOOM,DETAIL_MODE_ANIMATION_TIME:this.DETAIL_MODE_ANIMATION_TIME,DETAIL_MODE_ACTOR_RADIUS:this.DETAIL_MODE_ACTOR_RADIUS,initialCameraDistance:this.initialCameraDistance,rootRadius:this.rootRadius,nodeRadius:this.nodeRadius,maxWordsPerLine:this.maxWordsPerLine,onZoomChange:t=>{this.currentZoom=t,this.updateCameraZoom()},onTextSizeUpdate:()=>{this.treeRenderer&&this.treeRenderer.updateTextSizes()},onCameraTargetChange:t=>{this.cameraTarget.copy(t),this.updateCameraPosition()},onCameraPositionChange:t=>{this.camera.position.copy(t)},onStateChange:(t,e)=>{this.isDetailMode=t,this.detailModeNode=e}}),this.nodeInteraction=new A({container:this.container,scene:this.scene,camera:this.camera,nodeMeshes:this.nodeMeshes,isDetailMode:()=>this.isDetailMode,selectedNode:this.selectedNode,currentZoom:this.currentZoom,cameraTarget:this.cameraTarget,cameraPosition:this.cameraPosition,originalCameraPosition:this.originalCameraPosition,originalCameraTarget:this.originalCameraTarget,detailModeSystem:this.detailModeSystem,rootRadius:this.rootRadius,nodeRadius:this.nodeRadius,onNodeSelect:t=>{this.selectedNode=t},onNodeDeselect:t=>{this.selectedNode===t&&(this.selectedNode=null)},onEnterDetailMode:t=>{}}),this.nodeAnimation=new O({nodeMeshes:this.nodeMeshes,fireflies:this.fireflies,selectedNode:this.selectedNode,animationSpeed:this.animationSpeed,fireflyOrbitRadius:this.fireflyOrbitRadius,isDetailMode:()=>this.isDetailMode,detailModeNode:()=>this.detailModeNode,camera:this.camera,cameraTarget:this.cameraTarget,updateCameraPosition:()=>this.updateCameraPosition(),DETAIL_MODE_SCREEN_SIZE_PERCENT:this.DETAIL_MODE_SCREEN_SIZE_PERCENT,initialCameraDistance:this.cameraManager.initialDistance,rootRadius:this.rootRadius,nodeRadius:this.nodeRadius,isAnimatingEnter:()=>!!this.detailModeSystem&&this.detailModeSystem.isAnimatingEnterMode()}),this.treeRenderer=new w({scene:this.scene,sceneManager:this.sceneManager,loadingScreen:this.loadingScreen,detailModeSystem:this.detailModeSystem,cameraManager:this.cameraManager,spacingFactor:this.spacingFactor,levelMarginFactor:this.levelMarginFactor,levelLimits:this.levelLimits,graphRotation:this.graphRotation,fireflySize:this.fireflySize,fireflyOrbitRadius:this.fireflyOrbitRadius,fireflyRotationSpeed:this.fireflyRotationSpeed,rootRadius:this.rootRadius,nodeRadius:this.nodeRadius,maxWordsPerLine:this.maxWordsPerLine,onNodeMeshesUpdate:t=>{this.nodeMeshes=t,this.nodeInteraction.updateNodeMeshes(t),this.nodeAnimation.updateReferences(t,this.fireflies,this.selectedNode)},onTreeGroupsUpdate:t=>{this.treeGroups=t,this.detailModeSystem&&(this.detailModeSystem.treeGroups=t)},onFirefliesUpdate:t=>{this.fireflies=t,this.nodeAnimation.updateReferences(this.nodeMeshes,t,this.selectedNode),this.detailModeSystem&&(this.detailModeSystem.fireflies=t)}})}createTrees(t){this.treeRenderer.createTrees(d,t);let e=this.treeRenderer.getReferences();this.nodeMeshes=e.nodeMeshes,this.treeGroups=e.treeGroups,this.fireflies=e.fireflies,this.nodeInteraction.updateNodeMeshes(this.nodeMeshes),this.nodeAnimation.updateReferences(this.nodeMeshes,this.fireflies,this.selectedNode),this.calculateAndSetMinZoom(),this.treeRenderer&&this.treeRenderer.updateTextSizes()}calculateAndSetMinZoom(){let t=this.treeRenderer.getSceneBounds();if(!t)return;let e=t.maxRadius,i=2*e*1.2/(2*Math.tan(75*Math.PI/180/2)),a=this.cameraManager.getBaseDistance();this.cameraManager.updateFarPlane(a+1.5*e);let r=this.cameraManager.getBaseDistance();this.cameraManager.setMinZoom(r/i),this.currentZoom=this.cameraManager.getZoom(),this.cameraTarget=this.cameraManager.getTarget(),this.updateCameraPosition(),this.nodeInteraction&&this.nodeInteraction.updateState({currentZoom:this.currentZoom,cameraTarget:this.cameraTarget})}setupUIControls(){this.uiControls=new L({container:this.container,cameraManager:this.cameraManager,isDetailMode:()=>this.isDetailMode,currentZoom:()=>this.currentZoom,updateCurrentZoom:t=>{this.currentZoom=t},updateCameraZoom:()=>this.updateCameraZoom(),updateCameraPosition:()=>this.updateCameraPosition(),onCameraUpdate:()=>this.updateCameraPosition(),selectedNode:this.selectedNode,spacingFactor:this.spacingFactor,levelMarginFactor:this.levelMarginFactor,graphRotation:this.graphRotation,fireflySize:this.fireflySize,fireflyOrbitRadius:this.fireflyOrbitRadius,fireflyRotationSpeed:this.fireflyRotationSpeed,fireflies:this.fireflies,treeGroups:this.treeGroups,DETAIL_MODE_SCREEN_SIZE_PERCENT:this.DETAIL_MODE_SCREEN_SIZE_PERCENT,detailModeSystem:this.detailModeSystem,rootRadius:this.rootRadius,nodeRadius:this.nodeRadius,maxWordsPerLine:this.maxWordsPerLine,onSpacingFactorChange:t=>{this.spacingFactor=t,this.treeRenderer.updateParams({spacingFactor:t}),this.createTrees(3)},onLevelMarginFactorChange:t=>{this.levelMarginFactor=t,this.treeRenderer.updateParams({levelMarginFactor:t}),this.createTrees(3)},onGraphRotationChange:t=>{this.graphRotation=t,this.treeRenderer.updateParams({graphRotation:t}),this.treeGroups.forEach(e=>{e.rotation.x=t.x*Math.PI/180,e.rotation.y=t.y*Math.PI/180,e.rotation.z=t.z*Math.PI/180})},onFireflySizeChange:t=>{this.fireflySize=t,this.treeRenderer.updateParams({fireflySize:t}),this.fireflies.forEach(e=>{e.mesh&&e.mesh.userData&&e.mesh.userData.fireflyInstance&&e.mesh.userData.fireflyInstance.updateSize(t)})},onFireflyRadiusChange:t=>{this.fireflyOrbitRadius=t,this.treeRenderer.updateParams({fireflyOrbitRadius:t}),this.nodeAnimation.updateParams({fireflyOrbitRadius:t}),this.fireflies.forEach(e=>{e.orbitRadiusOffset=t}),this.isDetailMode&&this.detailModeSystem&&this.detailModeSystem.updateFireflyOrbitRadius(t)},onFireflySpeedChange:t=>{this.fireflyRotationSpeed=t,this.treeRenderer.updateParams({fireflyRotationSpeed:t}),this.fireflies.forEach(e=>{e.speed=t})},onDetailModeSizeChange:t=>{this.DETAIL_MODE_SCREEN_SIZE_PERCENT=t,this.nodeAnimation.updateParams({DETAIL_MODE_SCREEN_SIZE_PERCENT:t}),this.isDetailMode&&this.detailModeNode&&this.detailModeSystem.setScreenSizePercent(t)},onRootRadiusChange:t=>{this.rootRadius=t,this.treeRenderer.updateParams({rootRadius:t}),this.nodeInteraction.updateParams({rootRadius:t}),this.nodeAnimation.updateParams({rootRadius:t}),this.detailModeSystem&&this.detailModeSystem.updateParams({rootRadius:t}),this.createTrees(3)},onNodeRadiusChange:t=>{this.nodeRadius=t,this.treeRenderer.updateParams({nodeRadius:t}),this.nodeInteraction.updateParams({nodeRadius:t}),this.nodeAnimation.updateParams({nodeRadius:t}),this.detailModeSystem&&this.detailModeSystem.updateParams({nodeRadius:t}),this.createTrees(3)},onMaxWordsPerLineChange:t=>{this.maxWordsPerLine=t,this.treeRenderer.updateParams({maxWordsPerLine:t}),this.detailModeSystem&&this.detailModeSystem.updateParams({maxWordsPerLine:t})}}),this.uiControls.setupZoomControls(),this.uiControls.setupLayoutControls()}updateCameraPosition(){if(this.isDetailMode){let t=new a.Pq0(0,800,1e3).normalize(),e=Math.sqrt(164e4)/this.currentZoom,i=t.clone().multiplyScalar(e);this.camera.position.copy(this.cameraTarget).add(i),this.camera.lookAt(this.cameraTarget),this.camera.updateProjectionMatrix()}else{this.cameraTarget=this.cameraManager.getTarget(),this.currentZoom=this.cameraManager.getZoom();let t=this.cameraManager.getCamera();this.camera.position.copy(t.position),this.camera.lookAt(this.cameraTarget),this.camera.updateProjectionMatrix(),this.nodeInteraction&&this.nodeInteraction.updateState({currentZoom:this.currentZoom,cameraTarget:this.cameraTarget})}}updateCameraZoom(){if(this.isDetailMode)return void this.updateCameraPosition();if(this.treeRenderer&&this.treeRenderer.updateTextSizes(),this.selectedNode){let t=this.selectedNode,e=new a.Pq0;t.mesh.getWorldPosition(e);let i=new a.Pq0(0,800,1e3).normalize(),r=Math.sqrt(164e4),d=2*this.currentZoom;t.targetCameraPosition=e.clone().add(i.clone().multiplyScalar(r/d)),t.targetCameraTarget=e.clone(),t.effectiveZoom=d,this.cameraTarget.copy(t.targetCameraTarget),this.updateCameraPosition(),t.cameraPositionApplied=!0}else this.updateCameraPosition()}onWindowResize(){let t=window.innerWidth,e=window.innerHeight;this.cameraManager.updateAspect(t/e),this.rendererManager.resize(t,e)}setupAnimationLoop(){this.loop.addUpdateCallback(t=>{this.update(t)}),this.loop.start()}update(t){this.treeRenderer.updateSphereRotations(t,this.camera),this.nodeAnimation.update(t),this.detailModeSystem&&this.detailModeSystem.updateWordLabels(t),this.nodeInteraction.updateState({selectedNode:this.selectedNode,currentZoom:this.currentZoom,cameraTarget:this.cameraTarget}),this.nodeAnimation.updateReferences(this.nodeMeshes,this.fireflies,this.selectedNode),this.rendererManager.render(this.scene,this.camera)}constructor(t){this.loadingScreen=new M,this.loadingScreen.updateProgress(10),this.container=document.getElementById(t),this.sceneManager=new c,this.scene=this.sceneManager.getScene();const e=window.innerWidth/window.innerHeight;this.cameraManager=new m(e),this.camera=this.cameraManager.getCamera(),this.rendererManager=new f(this.container),this.renderer=this.rendererManager.getRenderer(),this.loop=new S,this.spacingFactor=1.4,this.levelMarginFactor=.6,this.graphRotation={x:0,y:0,z:15},this.rootRadius=225,this.nodeRadius=135,this.rootTextSize=84,this.nodeTextSize=42,this.maxWordsPerLine=3,this.fireflySize=20,this.fireflyOrbitRadius=65,this.fireflyRotationSpeed=1,this.DETAIL_MODE_SCREEN_SIZE_PERCENT=22,this.DETAIL_MODE_ZOOM=1,this.DETAIL_MODE_ANIMATION_TIME=1,this.DETAIL_MODE_ACTOR_RADIUS=400,this.cameraPosition=new a.Pq0(0,800,1e3),this.cameraTarget=this.cameraManager.getTarget(),this.currentZoom=this.cameraManager.getZoom(),this.initialCameraDistance=1500,this.originalCameraPosition=null,this.originalCameraTarget=null,this.isDetailMode=!1,this.detailModeNode=null,this.selectedNode=null,this.animationSpeed=.05,this.nodeMeshes=[],this.treeGroups=[],this.fireflies=[],this.treeBuilder=new T,this.levelLimits={1:1/0,2:0},this.init(),this.createTrees(3),this.setupUIControls(),this.setupAnimationLoop()}}window.addEventListener("DOMContentLoaded",()=>{let t=new F("scene-canvas");setTimeout(()=>{let e=document.getElementById("scene-canvas");e&&(e.style.display="block"),t.loadingScreen.hide()},1e3)})}},d={};function n(t){var e=d[t];if(void 0!==e)return e.exports;var i=d[t]={id:t,loaded:!1,exports:{}};return r[t].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=r,n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}})(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),t=[],n.O=(e,i,a,r)=>{if(i){r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[i,a,r];return}for(var s=1/0,d=0;d<t.length;d++){for(var[i,a,r]=t[d],o=!0,l=0;l<i.length;l++)(!1&r||s>=r)&&Object.keys(n.O).every(t=>n.O[t](i[l]))?i.splice(l--,1):(o=!1,r<s&&(s=r));if(o){t.splice(d--,1);var p=a();void 0!==p&&(e=p)}}return e},e={410:0},n.O.j=t=>0===e[t],i=(t,i)=>{var a,r,[d,s,o]=i,l=0;if(d.some(t=>0!==e[t])){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(o)var p=o(n)}for(t&&t(i);l<d.length;l++)r=d[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(p)},(a=self.webpackChunkgraph2=self.webpackChunkgraph2||[]).forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a));var s=n.O(void 0,["354","769","101"],()=>n(524));s=n.O(s)})();